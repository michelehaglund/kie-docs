<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>Installing and configuring Red Hat Process Automation Manager</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.6"/><meta name="description" content="This document describes how to install Red Hat Process Automation Manager components on Red Hat JBoss EAP, in an Red Hat JBoss EAP clustered environment, on JBoss Web Server, and in other supported environments."/><link rel="next" href="#idm140016277947728" title="Preface"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><div xml:lang="en-US" class="book" id="idm140016282050128"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Process Automation Manager</span> <span class="productnumber">7.10</span></div><div><h1 class="title">Installing and configuring Red Hat Process Automation Manager</h1></div><div><h2 class="subtitle"/></div><div><a href="#idm140016265802224">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				This document describes how to install Red Hat Process Automation Manager components on Red Hat JBoss EAP, in an Red Hat JBoss EAP clustered environment, on JBoss Web Server, and in other supported environments.
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="preface"><a href="#idm140016277947728">Preface</a></span></li><li><span class="preface"><a href="#snip-conscious-language_installing-and-configuring">Making open source more inclusive</a></span></li><li><span class="part"><a href="#assembly-planning">I. Planning a Red Hat Process Automation Manager installation</a></span><ul><li><span class="chapter"><a href="#about-ba-con_planning">1. Red Hat Process Automation Manager versioning</a></span></li><li><span class="chapter"><a href="#components-con_planning">2. Red Hat Process Automation Manager components</a></span></li><li><span class="chapter"><a href="#ba-platforms-con_planning">3. Red Hat Process Automation Manager installation platforms</a></span><ul><li><span class="section"><a href="#eap-con_planning">3.1. Red Hat JBoss EAP</a></span></li><li><span class="section"><a href="#jws-con_planning">3.2. Red Hat JBoss Web Server</a></span></li><li><span class="section"><a href="#os-con_planning">3.3. Red Hat OpenShift Container Platform</a></span></li><li><span class="section"><a href="#wls-con_planning">3.4. Oracle WebLogic Server</a></span></li><li><span class="section"><a href="#was-con_planning">3.5. IBM WebSphere Application Server</a></span></li><li><span class="section"><a href="#dev-options-con_planning">3.6. Red Hat Process Automation Manager development options</a></span></li></ul></li><li><span class="chapter"><a href="#supported-repos-con_planning">4. Red Hat Process Automation Manager supported repositories</a></span><ul><li><span class="section"><a href="#git_repositories">4.1. Git repositories</a></span></li><li><span class="section"><a href="#apache_maven">4.2. Apache Maven</a></span></li></ul></li><li><span class="chapter"><a href="#installation-options-ref_planning">5. Installation environment options for Red Hat Process Automation Manager</a></span></li><li><span class="chapter"><a href="#roles-users-con_planning">6. Red Hat Process Automation Manager roles and users</a></span></li><li><span class="chapter"><a href="#reference-implementations-con_planning">7. Red Hat Process Automation Manager reference implementations</a></span></li><li><span class="chapter"><a href="#integrating-con_planning">8. Integrating with Red Hat Process Automation Manager</a></span><ul><li><span class="section"><a href="#red_hat_process_automation_manager_spring_boot_business_applications">8.1. Red Hat Process Automation Manager Spring Boot business applications</a></span></li><li><span class="section"><a href="#integrating_red_hat_fuse">8.2. Integrating Red Hat Fuse</a></span></li><li><span class="section"><a href="#integrating_red_hat_single_sign_on">8.3. Integrating Red Hat Single Sign-On</a></span></li></ul></li><li><span class="chapter"><a href="#additional_resources">9. Additional resources</a></span></li></ul></li><li><span class="part"><a href="#assembly-install-on-eap">II. Installing and configuring Red Hat Process Automation Manager on Red Hat JBoss EAP 7.3</a></span><ul><li><span class="chapter"><a href="#installing-con_install-on-eap">10. About Red Hat Process Automation Manager</a></span></li><li><span class="chapter"><a href="#roles-users-con_install-on-eap">11. Red Hat Process Automation Manager roles and users</a></span></li><li><span class="chapter"><a href="#install-download-proc_install-on-eap">12. Downloading the Red Hat Process Automation Manager installation files</a></span></li><li><span class="chapter"><a href="#assembly_installing-using-installer_install-on-eap">13. Using the Red Hat Process Automation Manager installer</a></span><ul><li><span class="section"><a href="#installer-run-proc_install-on-eap">13.1. Using the installer in interactive mode</a></span></li><li><span class="section"><a href="#installer-run-cli-proc_install-on-eap">13.2. Using the installer in CLI mode</a></span></li><li><span class="section"><a href="#installer-controller-eap-proc_install-on-eap">13.3. Using the installer to configure KIE Server with the Process Automation Manager controller</a></span></li></ul></li><li><span class="chapter"><a href="#assembly_installing-on-eap-deployable_install-on-eap">14. Installing Red Hat Process Automation Manager from ZIP files</a></span><ul><li><span class="section"><a href="#eap-dm-install-proc_install-on-eap">14.1. Installing Business Central from the ZIP file</a></span></li><li><span class="section"><a href="#eap_execution_server_download_install_proc_install-on-eap">14.2. Installing KIE Server from the ZIP file</a></span></li><li><span class="section"><a href="#eap-data-source-add-proc_install-on-eap">14.3. Configuring JDBC data sources for KIE Server</a></span></li><li><span class="section"><a href="#eap-users-create-proc_install-on-eap">14.4. Creating users</a></span></li><li><span class="section"><a href="#kie-server-configure-central-proc_install-on-eap">14.5. Configuring KIE Server to connect to Business Central</a></span></li></ul></li><li><span class="chapter"><a href="#securing-passwords-eap-proc_install-on-eap">15. Securing passwords with a keystore</a></span></li><li><span class="chapter"><a href="#ssh-configuring-proc_install-on-eap">16. Configuring SSH to use RSA</a></span></li><li><span class="chapter"><a href="#verifying_the_red_hat_process_automation_manager_installation">17. Verifying the Red Hat Process Automation Manager installation</a></span></li><li><span class="chapter"><a href="#eap-ba-dm-run-proc_install-on-eap">18. Running Red Hat Process Automation Manager</a></span></li><li><span class="chapter"><a href="#controller-con_install-on-eap">19. Installing and running the headless Process Automation Manager controller</a></span><ul><li><span class="section"><a href="#controller-eap-install-proc_install-on-eap">19.1. Installing the headless Process Automation Manager controller</a></span><ul><li><span class="section"><a href="#controller-eap-users-create-proc_install-on-eap">19.1.1. Creating a headless Process Automation Manager controller user</a></span></li><li><span class="section"><a href="#controller-eap-configure-proc_install-on-eap">19.1.2. Configuring KIE Server and the headless Process Automation Manager controller</a></span></li></ul></li><li><span class="section"><a href="#controller-eap-run-proc_install-on-eap">19.2. Running the headless Process Automation Manager controller</a></span></li></ul></li><li><span class="chapter"><a href="#run-dc-standalone-proc_install-on-eap">20. Configuring and running standalone Business Central</a></span></li><li><span class="chapter"><a href="#maven-repo-using-con_install-on-eap">21. Maven settings and repositories for Red Hat Process Automation Manager</a></span><ul><li><span class="section"><a href="#maven-managing-dependencies-proc_install-on-eap">21.1. Adding Maven dependencies for Red Hat Process Automation Manager</a></span></li><li><span class="section"><a href="#maven-external-configure-proc_install-on-eap">21.2. Configuring an external Maven repository for Business Central and KIE Server</a></span></li><li><span class="section"><a href="#offline-repo-proc_install-on-eap">21.3. Preparing a Maven mirror repository for offline use</a></span></li></ul></li><li><span class="chapter"><a href="#git-import-proc_install-on-eap">22. Importing projects from Git repositories</a></span></li><li><span class="chapter"><a href="#customizing_the_branding_of_business_central">23. Customizing the branding of Business Central</a></span><ul><li><span class="section"><a href="#central-login-customize-proc_install-on-eap">23.1. Customizing the Business Central login page</a></span></li><li><span class="section"><a href="#central-app-header-customize-proc">23.2. Customizing Business Central application header</a></span></li></ul></li><li><span class="chapter"><a href="#ldap-ssl-con_install-on-eap">24. Integrating LDAP and SSL</a></span></li><li><span class="chapter"><a href="#dashbuilder-runtimes-con_install-on-eap">25. Dashbuilder Runtime</a></span><ul><li><span class="section"><a href="#installing-dashbuilder-proc_install-on-eap">25.1. Installing Dashbuilder Runtime</a></span></li><li><span class="section"><a href="#datasets-dashbuilder-runtimes-con">25.2. KIE Server data sets on Dashbuilder Runtime</a></span></li><li><span class="section"><a href="#customizing-dashbuilder-con">25.3. Customizing Dashbuilder Runtime</a></span></li></ul></li><li><span class="appendix"><a href="#business-central-system-properties-ref_install-on-eap">A. Business Central system properties</a></span></li><li><span class="chapter"><a href="#additional_resources_2">26. Additional resources</a></span></li><li><span class="chapter"><a href="#next_steps">27. Next steps</a></span></li></ul></li><li><span class="part"><a href="#assembly-clustering-eap">III. Installing and configuring Red Hat Process Automation Manager in a Red Hat JBoss EAP clustered environment</a></span><ul><li><span class="chapter"><a href="#clustering-con_clustering">28. Red Hat Process Automation Manager clusters</a></span></li><li><span class="chapter"><a href="#clustering-dev-con_clustering-dev">29. Red Hat Process Automation Manager clusters in a development (authoring) environment</a></span><ul><li><span class="section"><a href="#clustering-datagrid-proc_clustering-dev">29.1. Installing and configuring Red Hat Data Grid</a></span></li><li><span class="section"><a href="#JMS-broker-configure_clustering-dev">29.2. Downloading and configuring AMQ Broker</a></span></li><li><span class="section"><a href="#nfs-server-configure-proc_clustering-dev">29.3. Configuring an NFS server</a></span></li><li><span class="section"><a href="#clustering-download-eap-bc-proc_clustering-dev">29.4. Downloading and extracting Red Hat JBoss EAP 7.3 and Red Hat Process Automation Manager</a></span></li><li><span class="section"><a href="#clustering-bc-configure-standalone_proc_clustering-dev">29.5. Configuring and running Business Central in a cluster</a></span></li><li><span class="section"><a href="#testing-clustering-environment-proc_clustering-dev">29.6. Testing your high availability (HA) on-premise infrastructure</a></span></li><li><span class="section"><a href="#clustering-bc-testing-proc_clustering-dev">29.7. Verifying the Red Hat Process Automation Manager cluster</a></span></li></ul></li><li><span class="chapter"><a href="#clustering-ps-con_clustering-runtime-standalone">30. KIE Server clusters in a runtime environment</a></span><ul><li><span class="section"><a href="#clustering-download-eap-ps-proc_clustering-runtime-standalone">30.1. Downloading and extracting Red Hat JBoss EAP 7.3 and KIE Server</a></span></li><li><span class="section"><a href="#clustering-ps-configure-standalone_clustering-runtime-standalone">30.2. Configuring and running a Red Hat JBoss EAP 7.3 cluster for KIE Server</a></span></li><li><span class="section"><a href="#clustering-headless-controller-proc_clustering-runtime-standalone">30.3. Clustering KIE Servers with the headless Process Automation Manager controller</a></span></li></ul></li><li><span class="chapter"><a href="#installing-and-configuring-smart-router-con_clustering-runtime-standalone">31. Installing and configuring Smart Router</a></span><ul><li><span class="section"><a href="#clustering-smart-router-install-proc_clustering-runtime-standalone">31.1. Clustering KIE Servers with Smart Router</a></span></li><li><span class="section"><a href="#kie-server-smart-router-enable-tls-support-proc_clustering-runtime-standalone">31.2. Configuring Smart Router for TLS support</a></span></li><li><span class="section"><a href="#kie-server-smart-router-enable-endpoint-authentication-proc">31.3. Configuring Smart Router for endpoint authentication</a></span></li><li><span class="section"><a href="#configuring-smart-router-behavior-con">31.4. Configuring Smart Router behavior</a></span></li></ul></li><li><span class="chapter"><a href="#clustering-quartz-proc_clustering-runtime-standalone">32. Configuring Quartz timer service</a></span></li><li><span class="chapter"><a href="#additional_resources_3">33. Additional resources</a></span></li></ul></li><li><span class="part"><a href="#assembly-install-on-jws">IV. Installing and configuring Red Hat Process Automation Manager on Red Hat JBoss Web Server</a></span><ul><li><span class="chapter"><a href="#installing-con_install-on-jws">34. About Red Hat Process Automation Manager</a></span><ul><li><span class="section"><a href="#components-con_install-on-jws">34.1. Red Hat Process Automation Manager components</a></span></li><li><span class="section"><a href="#roles-users-con_install-on-jws">34.2. Red Hat Process Automation Manager roles and users</a></span></li></ul></li><li><span class="chapter"><a href="#install-download-proc_install-on-jws">35. Downloading the Red Hat Process Automation Manager installation files</a></span></li><li><span class="chapter"><a href="#assembly_installing-using-installer_install-on-jws">36. Using the Red Hat Process Automation Manager installer</a></span><ul><li><span class="section"><a href="#installer-run-proc_install-on-jws">36.1. Using the installer in interactive mode</a></span></li><li><span class="section"><a href="#installer-run-cli-proc_install-on-jws">36.2. Using the installer in CLI mode</a></span></li></ul></li><li><span class="chapter"><a href="#kie_server_zip_file_installation_and_configuration">37. KIE Server ZIP file installation and configuration</a></span><ul><li><span class="section"><a href="#jws-zip-install-proc_install-on-jws">37.1. Installing KIE Server from ZIP files</a></span></li><li><span class="section"><a href="#jws-jdbc-config_install-on-jws">37.2. Configuring JDBC Web Server data sources</a></span></li></ul></li><li><span class="chapter"><a href="#securing-passwords-jws-proc_install-on-jws">38. Securing passwords with a keystore</a></span></li><li><span class="chapter"><a href="#jws-kie-server-verify-proc_install-on-jws">39. Verifying the KIE Server installation</a></span></li><li><span class="chapter"><a href="#controller-jws-install-proc_install-on-jws">40. Downloading and installing the headless Process Automation Manager controller</a></span></li><li><span class="chapter"><a href="#run-dc-standalone-proc_install-on-jws">41. Configuring and running standalone Business Central</a></span></li><li><span class="chapter"><a href="#maven-repo-using-con_install-on-jws">42. Maven settings and repositories for Red Hat Process Automation Manager</a></span><ul><li><span class="section"><a href="#maven-pom-configuration-proc_install-on-jws">42.1. Configuring Maven using the project configuration file (<code class="literal">pom.xml</code>)</a></span></li><li><span class="section"><a href="#maven-settings-configuration-ref_install-on-jws">42.2. Modifying the Maven settings file</a></span></li><li><span class="section"><a href="#maven-managing-dependencies-proc_install-on-jws">42.3. Adding Maven dependencies for Red Hat Process Automation Manager</a></span></li><li><span class="section"><a href="#offline-repo-proc_install-on-jws">42.4. Preparing a Maven mirror repository for offline use</a></span></li></ul></li><li><span class="chapter"><a href="#git-import-proc_install-on-jws">43. Importing projects from Git repositories</a></span></li><li><span class="chapter"><a href="#ldap-ssl-con_install-on-jws">44. Integrating LDAP and SSL</a></span></li><li><span class="appendix"><a href="#business-central-system-properties-ref_install-on-jws">B. Business Central system properties</a></span></li></ul></li><li><span class="part"><a href="#assembly-installing-kie-server-on-was">V. Installing and configuring KIE Server on IBM WebSphere Application Server</a></span><ul><li><span class="chapter"><a href="#kie-server-con_kie-server-on-was">45. KIE Server</a></span></li><li><span class="chapter"><a href="#was-con">46. IBM WebSphere Application Server</a></span></li><li><span class="chapter"><a href="#was-install-start-proc">47. Installing and running IBM WebSphere Application Server</a></span></li><li><span class="chapter"><a href="#was-configure-proc">48. Configuring IBM WebSphere Application Server for KIE Server</a></span><ul><li><span class="section"><a href="#was-security-set-proc">48.1. Enabling administrative security</a></span></li><li><span class="section"><a href="#was-data-source-create-proc">48.2. Configuring JDBC data sources in IBM WebSphere Application Server</a></span></li><li><span class="section"><a href="#wls-was-jms-configure-con_kie-server-on-was">48.3. Configuring Java Message Service (JMS)</a></span><ul><li><span class="section"><a href="#was-jms-bus-proc">48.3.1. Create a service bus and add IBM WebSphere</a></span></li><li><span class="section"><a href="#was-jms-factory-create-proc">48.3.2. Create JMS connection factories</a></span></li><li><span class="section"><a href="#was-jms-queues-create-proc">48.3.3. Create JMS queues</a></span></li><li><span class="section"><a href="#was-jms-activation-proc">48.3.4. Create JMS activation specifications</a></span></li></ul></li><li><span class="section"><a href="#kie-server-was-environment-set-proc">48.4. Setting system properties in IBM WebSphere Application Server</a></span></li><li><span class="section"><a href="#was-stop-start-proc">48.5. Stopping and restarting IBM WebSphere Application Server</a></span></li></ul></li><li><span class="chapter"><a href="#kie-server-was-install-proc">49. Installing and running KIE Server with IBM WebSphere Application Server</a></span><ul><li><span class="section"><a href="#kie-server-was-goup-proc">49.1. Creating the KIE Server group and role</a></span></li><li><span class="section"><a href="#kie-server-was-mapping-proc_kie-server-on-was">49.2. Mapping the KIE Server group and role</a></span></li><li><span class="section"><a href="#was-ks-classloader-proc_kie-server-on-was">49.3. Configuring class loading for KIE Server</a></span></li><li><span class="section"><a href="#kie-server-was-verify-proc">49.4. Verifying the installation</a></span></li></ul></li><li><span class="chapter"><a href="#controller-was-install-proc">50. Installing and running the headless Process Automation Manager controller with IBM WebSphere Application Server</a></span><ul><li><span class="section"><a href="#was-controller-classloader-proc_kie-server-on-was">50.1. Configuring class loading for the headless Process Automation Manager controller</a></span></li><li><span class="section"><a href="#controller-wls-was-environment-set-proc_kie-server-on-was">50.2. Setting system properties for the headless Process Automation Manager controller</a></span></li><li><span class="section"><a href="#controller-was-mapping-proc_kie-server-on-was">50.3. Mapping the headless Process Automation Manager controller group and role</a></span></li><li><span class="section"><a href="#controller-wls-was-verify-proc_kie-server-on-was">50.4. Verifying the installation</a></span></li></ul></li><li><span class="chapter"><a href="#was-configure-embedded-engine-proc">51. Configuring an embedded process engine and decision engine in IBM WebSphere Application Server</a></span></li><li><span class="chapter"><a href="#securing-passwords-was-proc_kie-server-on-was">52. Securing passwords with a keystore</a></span></li><li><span class="chapter"><a href="#next_steps_2">53. Next steps</a></span></li></ul></li><li><span class="part"><a href="#assembly-installing-kie-server-on-wls">VI. Installing and configuring KIE Server on Oracle WebLogic Server</a></span><ul><li><span class="chapter"><a href="#kie-server-con_kie-server-on-wls">54. KIE Server</a></span></li><li><span class="chapter"><a href="#wls-con">55. Oracle WebLogic Server</a></span></li><li><span class="chapter"><a href="#wls-install-start-proc">56. Installing and running Oracle WebLogic Server</a></span></li><li><span class="chapter"><a href="#wls-configure-proc">57. Configuring Oracle WebLogic Server for KIE Server</a></span><ul><li><span class="section"><a href="#wls-users-set-proc">57.1. Configuring the KIE Server group and users</a></span></li><li><span class="section"><a href="#wls-data-source-create-proc">57.2. Configuring JDBC data sources in Oracle WebLogic Server</a></span></li><li><span class="section"><a href="#wls-was-jms-configure-con_kie-server-on-wls">57.3. Configuring Java Message Service (JMS)</a></span><ul><li><span class="section"><a href="#wls-jms-create-proc">57.3.1. Create a JMS server</a></span></li><li><span class="section"><a href="#wls-jms-create-module-proc">57.3.2. Create a JMS module</a></span></li><li><span class="section"><a href="#wls-jms-factory-create-proc">57.3.3. Create JMS connection factories</a></span></li><li><span class="section"><a href="#wls-jms-queues-create-proc">57.3.4. Create JMS queues</a></span></li></ul></li><li><span class="section"><a href="#kie-server-wls-environment-set-proc">57.4. Setting system properties in Oracle WebLogic Server</a></span></li><li><span class="section"><a href="#wls-stop-start-proc_kie-server-on-wls">57.5. Stopping and restarting Oracle WebLogic Server</a></span></li></ul></li><li><span class="chapter"><a href="#kie-server-wls-install-proc">58. Installing KIE Server with Oracle WebLogic Server</a></span><ul><li><span class="section"><a href="#kie-server-wls-verify-proc">58.1. Verifying the KIE Server installation on Oracle WebLogic Server</a></span></li></ul></li><li><span class="chapter"><a href="#controller-wls-install-proc">59. Installing and running the headless Process Automation Manager controller with Oracle WebLogic Server</a></span><ul><li><span class="section"><a href="#controller-wls-was-environment-set-proc_kie-server-on-wls">59.1. Setting system properties for the headless Process Automation Manager controller</a></span></li><li><span class="section"><a href="#controller-wls-was-verify-proc_kie-server-on-wls">59.2. Verifying the installation</a></span></li></ul></li><li><span class="chapter"><a href="#wls-configure-embedded-engine-proc">60. Configuring an embedded process engine and decision engine in Oracle WebLogic Server</a></span></li><li><span class="chapter"><a href="#securing-passwords-wls-proc_kie-server-on-wls">61. Securing passwords with a keystore</a></span></li><li><span class="chapter"><a href="#next_steps_3">62. Next steps</a></span></li></ul></li><li><span class="part"><a href="#assembly-patching-and-upgrading">VII. Patching and upgrading Red Hat Process Automation Manager 7.10</a></span><ul><li><span class="chapter"><a href="#product-versioning-con_patching-upgrading">63. Red Hat Process Automation Manager versioning</a></span></li><li><span class="chapter"><a href="#patches-notifications-proc_patching-upgrading">64. Enabling Red Hat Process Automation Manager notifications in the Red Hat Customer Portal</a></span></li><li><span class="chapter"><a href="#patches-applying-proc_patching-upgrading">65. Applying patch updates and minor release upgrades to Red Hat Process Automation Manager</a></span></li><li><span class="chapter"><a href="#additional_resources_4">66. Additional resources</a></span></li></ul></li><li><span class="appendix"><a href="#versioning-information">C. Versioning information</a></span></li><li><span class="appendix"><a href="#author-group">D. Contact information</a></span></li></ul></div><section class="preface" id="idm140016277947728"><div class="titlepage"><div><div><h1 class="title">Preface</h1></div></div></div><p>
			As a developer or system administrator, you can install Red Hat Process Automation Manager components on Red Hat JBoss EAP, in an Red Hat JBoss EAP clustered environment, on JBoss Web Server, and in other supported environments.
		</p></section><section class="preface" id="snip-conscious-language_installing-and-configuring"><div class="titlepage"><div><div><h1 class="title">Making open source more inclusive</h1></div></div></div><p>
			Red Hat is committed to replacing problematic language in our code, documentation, and web properties. We are beginning with these four terms: master, slave, blacklist, and whitelist. Because of the enormity of this endeavor, these changes will be implemented gradually over several upcoming releases. For more details, see <a class="link" href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language"><span class="emphasis"><em>our CTO Chris Wright’s message</em></span></a>.
		</p></section><div class="part" id="assembly-planning"><div class="titlepage"><div><div><h1 class="title">Part I. Planning a Red Hat Process Automation Manager installation</h1></div></div></div><div class="partintro" id="idm140016284087648"><div/><p>
				As a system administrator, you have several options for installing Red Hat Process Automation Manager.
			</p><div class="toc"><p><strong>Table of Contents</strong></p><ul class="toc"><li><span class="chapter"><a href="#about-ba-con_planning">1. Red Hat Process Automation Manager versioning</a></span></li><li><span class="chapter"><a href="#components-con_planning">2. Red Hat Process Automation Manager components</a></span></li><li><span class="chapter"><a href="#ba-platforms-con_planning">3. Red Hat Process Automation Manager installation platforms</a></span><ul><li><span class="section"><a href="#eap-con_planning">3.1. Red Hat JBoss EAP</a></span></li><li><span class="section"><a href="#jws-con_planning">3.2. Red Hat JBoss Web Server</a></span></li><li><span class="section"><a href="#os-con_planning">3.3. Red Hat OpenShift Container Platform</a></span></li><li><span class="section"><a href="#wls-con_planning">3.4. Oracle WebLogic Server</a></span></li><li><span class="section"><a href="#was-con_planning">3.5. IBM WebSphere Application Server</a></span></li><li><span class="section"><a href="#dev-options-con_planning">3.6. Red Hat Process Automation Manager development options</a></span></li></ul></li><li><span class="chapter"><a href="#supported-repos-con_planning">4. Red Hat Process Automation Manager supported repositories</a></span><ul><li><span class="section"><a href="#git_repositories">4.1. Git repositories</a></span></li><li><span class="section"><a href="#apache_maven">4.2. Apache Maven</a></span></li></ul></li><li><span class="chapter"><a href="#installation-options-ref_planning">5. Installation environment options for Red Hat Process Automation Manager</a></span></li><li><span class="chapter"><a href="#roles-users-con_planning">6. Red Hat Process Automation Manager roles and users</a></span></li><li><span class="chapter"><a href="#reference-implementations-con_planning">7. Red Hat Process Automation Manager reference implementations</a></span></li><li><span class="chapter"><a href="#integrating-con_planning">8. Integrating with Red Hat Process Automation Manager</a></span><ul><li><span class="section"><a href="#red_hat_process_automation_manager_spring_boot_business_applications">8.1. Red Hat Process Automation Manager Spring Boot business applications</a></span></li><li><span class="section"><a href="#integrating_red_hat_fuse">8.2. Integrating Red Hat Fuse</a></span></li><li><span class="section"><a href="#integrating_red_hat_single_sign_on">8.3. Integrating Red Hat Single Sign-On</a></span></li></ul></li><li><span class="chapter"><a href="#additional_resources">9. Additional resources</a></span></li></ul></div></div><section class="chapter" id="about-ba-con_planning"><div class="titlepage"><div><div><h2 class="title">Chapter 1. Red Hat Process Automation Manager versioning</h2></div></div></div><p>
				Red Hat Process Automation Manager versions are designated with a numerical <code class="literal">Major.Minor.Patch</code> format, such as <code class="literal">7.5.1</code>. In this example, the major release is <code class="literal">7.x.x</code>, the minor release is <code class="literal">7.5.x</code>, and the patch release is <code class="literal">7.5.1</code>. Major releases often require data migration, while minor release upgrades and patch updates are typically managed with update tools provided with the Red Hat Process Automation Manager release artifacts.
			</p><p>
				The following are the general types of releases for Red Hat Process Automation Manager:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Major release migrations</span></dt><dd><p class="simpara">
							Major releases of Red Hat Process Automation Manager include substantial enhancements, security updates, bug fixes, and possibly redesigned features and functions. Data migration is typically required when an application is moved from one major release to another major release, such as from Red Hat JBoss BPM Suite 6.4.x to Red Hat Process Automation Manager 7.0. Automated migration tools are often provided with new major versions of Red Hat Process Automation Manager to facilitate migration, but some manual effort is likely required for certain data and configurations. The supported migration paths are specified in product announcements and documentation.
						</p><p class="simpara">
							For example migration instructions, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.0/html/migrating_from_red_hat_jboss_bpm_suite_6.4_to_red_hat_process_automation_manager_7.0/"><span class="emphasis"><em>Migrating from Red Hat JBoss BPM Suite 6.4 to Red Hat Process Automation Manager 7.0</em></span></a>.
						</p></dd><dt><span class="term">Minor release upgrades</span></dt><dd><p class="simpara">
							Minor releases of Red Hat Process Automation Manager include enhancements, security updates, and bug fixes. Data migration may be required when an application is moved from one minor release to another minor release, such as from Red Hat Process Automation Manager 7.5.x to 7.6. Automated update tools are often provided with both patch updates and new minor versions of Red Hat Process Automation Manager to facilitate updating certain components of Red Hat Process Automation Manager, such as Business Central, KIE Server, and the headless Process Automation Manager controller. Other Red Hat Process Automation Manager artifacts, such as the decision engine and standalone Business Central, are released as new artifacts with each minor release and you must re-install them to apply the update.
						</p><p class="simpara">
							Before you upgrade to a new minor release, apply the latest patch update to your current version of Red Hat Process Automation Manager to ensure that the minor release upgrade is successful.
						</p></dd><dt><span class="term">Patch updates</span></dt><dd><p class="simpara">
							Patch updates of Red Hat Process Automation Manager include the latest security updates and bug fixes. Scheduled patch updates contain all previously released patch updates for that minor version of the product, so you do not need to apply each patch update incrementally in order to apply the latest update. For example, you can update Red Hat Process Automation Manager 7.5.0 or 7.5.1 to Red Hat Process Automation Manager 7.5.2. However, for optimal Red Hat Process Automation Manager performance, apply product updates as they become available. Occasionally, unscheduled patch updates may be released outside the normal update cycle of the existing product. These may include security or other updates provided by Red Hat Global Support Services (GSS) to fix specific issues, and may not be cumulative updates.
						</p><p class="simpara">
							Automated update tools are often provided with both patch updates and new minor versions of Red Hat Process Automation Manager to facilitate updating certain components of Red Hat Process Automation Manager, such as Business Central, KIE Server, and the headless Process Automation Manager controller. Other Red Hat Process Automation Manager artifacts, such as the decision engine and standalone Business Central, are released as new artifacts with each minor release and you must re-install them to apply the update.
						</p></dd></dl></div><p>
				To ensure optimal transition between releases and to keep your Red Hat Process Automation Manager distribution current with the latest enhancements and fixes, apply new product releases and updates to Red Hat Process Automation Manager as they become available in the Red Hat Customer Portal. Consider also enabling product notifications in the Red Hat Customer Portal.
			</p></section><section class="chapter" id="components-con_planning"><div class="titlepage"><div><div><h2 class="title">Chapter 2. Red Hat Process Automation Manager components</h2></div></div></div><p>
				Red Hat Process Automation Manager is made up of Business Central and KIE Server.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Business Central is the graphical user interface where you create and manage business rules. You can install Business Central in a Red Hat JBoss EAP instance or on the Red Hat OpenShift Container Platform (OpenShift).
					</p><p class="simpara">
						Business Central is also available as a standalone JAR file. You can use the Business Central standalone JAR file to run Business Central without deploying it to an application server.
					</p></li><li class="listitem"><p class="simpara">
						KIE Server is the server where rules and other artifacts are executed. It is used to instantiate and execute rules and solve planning problems. You can install KIE Server in a Red Hat JBoss EAP instance, in a Red Hat JBoss EAP cluster, on OpenShift, in an Oracle WebLogic server instance, in an IBM WebSphere Application Server instance, or as a part of Spring Boot application.
					</p><p class="simpara">
						You can configure KIE Server to run in managed or unmanaged mode. If KIE Server is unmanaged, you must manually create and maintain KIE containers (deployment units). A KIE container is a specific version of a project. If KIE Server is managed, the Process Automation Manager controller manages the KIE Server configuration and you interact with the Process Automation Manager controller to create and maintain KIE containers.
					</p><p class="simpara">
						The Process Automation Manager controller is integrated with Business Central. If you install Business Central on Red Hat JBoss EAP, use the Execution Server page to create and maintain KIE containers. However, if you do not install Business Central, you can install the headless Process Automation Manager controller and use the REST API or the KIE Server Java Client API to interact with it.
					</p></li><li class="listitem">
						Red Hat Business Optimizer is integrated in Business Central and KIE Server. It is a lightweight, embeddable planning engine that optimizes planning problems. Red Hat Business Optimizer helps Java programmers solve planning problems efficiently, and it combines optimization heuristics and metaheuristics with efficient score calculations.
					</li></ul></div></section><section class="chapter" id="ba-platforms-con_planning"><div class="titlepage"><div><div><h2 class="title">Chapter 3. Red Hat Process Automation Manager installation platforms</h2></div></div></div><p>
				Every Red Hat Process Automation Manager release is certified on a variety of operating systems, JVMs, web browsers, and database combinations. Red Hat provides both production and development support for supported and tested configurations in both physical and virtual environments, according to your subscription agreement. See the following pages for information about supported configurations and version numbers:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/articles/3405381">Red Hat Process Automation Manager 7 Supported Configurations</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/articles/3463751">Red Hat Process Automation Manager 7 Component Details</a>
					</li></ul></div><p>
				Red Hat Process Automation Manager 7.10 is available for the following application platforms:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Red Hat JBoss EAP
					</li><li class="listitem">
						Red Hat JBoss Web Server
					</li><li class="listitem">
						Red Hat OpenShift Container Platform
					</li><li class="listitem">
						Oracle WebLogic Server
					</li><li class="listitem">
						IBM WebSphere Application Server
					</li></ul></div><section class="section" id="eap-con_planning"><div class="titlepage"><div><div><h2 class="title">3.1. Red Hat JBoss EAP</h2></div></div></div><p>
					Red Hat JBoss Enterprise Application Platform (Red Hat JBoss EAP) is a certified implementation of the Java Enterprise Edition 7 (Java EE 7) full and web profile specifications. Red Hat JBoss EAP provides preconfigured options for features such as high availability, clustering, messaging, and distributed caching. It also enables users to write, deploy, and run applications using the various APIs and services that Red Hat JBoss EAP provides.
				</p><p>
					You can install both Business Central and KIE Server in a single Red Hat JBoss EAP instance. However, in production environments you should install them in separate instances.
				</p></section><section class="section" id="jws-con_planning"><div class="titlepage"><div><div><h2 class="title">3.2. Red Hat JBoss Web Server</h2></div></div></div><p>
					Red Hat JBoss Web Server is an enterprise-ready web server designed for medium and large applications, based on Tomcat. Red Hat JBoss Web Server provides organizations with a single deployment platform for Java Server Pages (JSP) and Java Servlet technologies, PHP, and CGI.
				</p><p>
					You can install KIE Server and the headless Process Automation Manager controller on Red Hat JBoss Web Server.
				</p></section><section class="section" id="os-con_planning"><div class="titlepage"><div><div><h2 class="title">3.3. Red Hat OpenShift Container Platform</h2></div></div></div><p>
					Red Hat OpenShift Container Platform (OpenShift) uses Kubernetes and provides an API to manage these services. OpenShift enables you to create and manage containers.
				</p><p>
					In this solution, components of Red Hat Process Automation Manager are deployed as separate OpenShift pods. You can scale each of the pods up and down individually, providing as few or as many containers as necessary for a particular component. You can use standard OpenShift methods to manage the pods and balance the load.
				</p><p>
					You can install both Business Central and KIE Server on OpenShift.
				</p></section><section class="section" id="wls-con_planning"><div class="titlepage"><div><div><h2 class="title">3.4. Oracle WebLogic Server</h2></div></div></div><p>
					Oracle WebLogic Server is a Java EE application server that provides a standard set of APIs for creating distributed Java applications that can access a wide variety of services, such as databases, messaging services, and connections to external enterprise systems. Users access these applications using web browser clients or Java clients.
				</p><p>
					You can install KIE Server in an Oracle WebLogic Server instance and then use the headless Process Automation Manager controller and the REST API or the KIE Server Java Client API to interact with KIE Server. You can also use standalone Business Central to interact with KIE Server.
				</p></section><section class="section" id="was-con_planning"><div class="titlepage"><div><div><h2 class="title">3.5. IBM WebSphere Application Server</h2></div></div></div><p>
					IBM WebSphere Application Server is a flexible and secure web application server that hosts Java-based web applications and provides Java EE-certified run time environments. IBM WebSphere 9.0 supports Java SE 8 and is fully compliant with Java EE 7 since version 8.5.5.6.
				</p><p>
					You can install KIE Server in an IBM WebSphere Application Server instance and then use the headless Process Automation Manager controller to interact with KIE Server. You can also use standalone Business Central to interact with KIE Server.
				</p></section><section class="section" id="dev-options-con_planning"><div class="titlepage"><div><div><h2 class="title">3.6. Red Hat Process Automation Manager development options</h2></div></div></div><p>
					Developers can develop assets in Red Hat Process Automation Manager. In addition, you can integrate Red Hat CodeReady Studio with Red Hat Process Automation Manager to enable developers to write complex applications and leverage code auto-completion.
				</p><p>
					Red Hat CodeReady Studio is an integrated development environment (IDE) based on Eclipse. It integrates tooling and runtime components by combining Eclipse, Eclipse Tooling, and Red Hat JBoss EAP. Red Hat CodeReady Studio provides plug-ins with tools and interfaces for Red Hat Process Automation Manager. These plug-ins are based on the community version of these products. For this reason, the Red Hat Process Automation Manager plug-ins are called the jBPM and Drools plug-ins.
				</p></section></section><section class="chapter" id="supported-repos-con_planning"><div class="titlepage"><div><div><h2 class="title">Chapter 4. Red Hat Process Automation Manager supported repositories</h2></div></div></div><p>
				You can use Git repositories and Apache Maven with Red Hat Process Automation Manager.
			</p><section class="section" id="git_repositories"><div class="titlepage"><div><div><h2 class="title">4.1. Git repositories</h2></div></div></div><p>
					Git repositories are used internally within Business Central to store all processes, rules, and other artifacts that are created in the authoring environment. Git is a distributed version control system. It implements revisions as commit objects. When you commit your changes into a repository, a new commit object in the Git repository is created. When you create a project in Business Central, it is added to the Git repository that is connected to Business Central.
				</p><p>
					If you have projects in other Git repositories, you can import them into Business Central spaces. You can use Git hooks to synchronize the internal Git repositories with external repositories.
				</p></section><section class="section" id="apache_maven"><div class="titlepage"><div><div><h2 class="title">4.2. Apache Maven</h2></div></div></div><p>
					<a class="link" href="http://maven.apache.org/">Apache Maven</a> is a distributed build automation tool used in Java application development to build and manage software projects. You can use Maven to build, publish, and deploy your Red Hat Process Automation Manager projects. Maven provides the following benefits:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The build process is easy and a uniform build system is implemented across projects.
						</li><li class="listitem">
							All of the required JAR files for a project are made available at compile time.
						</li><li class="listitem">
							A proper project structure is configured.
						</li><li class="listitem">
							Dependencies and versions are well managed.
						</li><li class="listitem">
							There is no need for additional build processing because Maven builds output into a number of predefined types, such as JAR and WAR.
						</li></ul></div><p>
					Maven uses repositories to store Java libraries, plug-ins, and other build artifacts. These repositories can be local or remote. Red Hat Process Automation Manager maintains local and remote maven repositories that you can add to your project for accessing the rules, processes, events, and other project dependencies. When building projects and archetypes, Maven dynamically retrieves Java libraries and Maven plug-ins from local or remote repositories. Doing this promotes sharing and reuse of dependencies across projects.
				</p></section></section><section class="chapter" id="installation-options-ref_planning"><div class="titlepage"><div><div><h2 class="title">Chapter 5. Installation environment options for Red Hat Process Automation Manager</h2></div></div></div><p>
				With Red Hat Process Automation Manager, you can set up a development environment to develop business applications, a runtime environment to run those applications to support decisions, or both.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong>Development environment</strong></span>: Typically consists of one Business Central installation and at least one KIE Server installation. You can use Business Central to design decisions and other artifacts, and you can use KIE Server to execute and test the artifacts that you created.
					</li><li class="listitem">
						<span class="strong strong"><strong>Runtime environment</strong></span>: Consists of one or more KIE Server instances with or without Business Central. Business Central has an embedded Process Automation Manager controller. If you install Business Central, use the <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Deploy</strong></span> → <span class="strong strong"><strong>Execution servers</strong></span> page to create and maintain containers. If you want to automate KIE Server management without Business Central, you can use the headless Process Automation Manager controller.
					</li></ul></div><p>
				You can also cluster both development and runtime environments. A clustered development or runtime environment consists of a unified group or cluster of two or more servers. The primary benefit of clustering Red Hat Process Automation Manager development environments is high availability and enhanced collaboration, while the primary benefit of clustering Red Hat Process Automation Manager runtime environments is high availability and load balancing. High availability decreases the chance of data loss when a single server fails. When a server fails, another server fills the gap by providing a copy of the data that was on the failed server. When the failed server comes online again, it resumes its place in the cluster.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Clustering of the runtime environment is currently supported on Red Hat JBoss EAP 7.3 and Red Hat OpenShift Container Platform only.
				</p></div></div></section><section class="chapter" id="roles-users-con_planning"><div class="titlepage"><div><div><h2 class="title">Chapter 6. Red Hat Process Automation Manager roles and users</h2></div></div></div><p>
				To access Business Central or KIE Server, you must create users and assign them appropriate roles before the servers are started. You can create users and roles when you install Business Central or KIE Server.
			</p><p>
				Business Central and KIE Server use the Java Authentication and Authorization Service (JAAS) login module to authenticate users. If both Business Central and KIE Server are running on a single instance, then they share the same JAAS subject and security domain. Therefore, a user who is authenticated for Business Central can also access KIE Server.
			</p><p>
				However, if Business Central and KIE Server are running on different instances, then the JAAS login module is triggered for both individually. Therefore, a user who is authenticated for Business Central must be authenticated separately to access KIE Server. For example, if a user who is authenticated on Business Central but not authenticated on KIE Server tries to view or manage process definitions in Business Central, a 401 error is logged in the log file and the <code class="literal">Invalid credentials to load data from remote server. Contact your system administrator.</code> message appears in Business Central.
			</p><p>
				This section describes Red Hat Process Automation Manager user roles.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The <code class="literal">admin</code>, <code class="literal">analyst</code>, <code class="literal">developer</code>, <code class="literal">manager</code>, <code class="literal">process-admin</code>, <code class="literal">user</code>, and <code class="literal">rest-all</code> roles are reserved for Business Central. The <code class="literal">kie-server</code> role is reserved for KIE Server. For this reason, the available roles can differ depending on whether Business Central, KIE Server, or both are installed.
				</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">admin</code>: Users with the <code class="literal">admin</code> role are the Business Central administrators. They can manage users and create, clone, and manage repositories. They have full access to make required changes in the application. Users with the <code class="literal">admin</code> role have access to all areas within Red Hat Process Automation Manager.
					</li><li class="listitem">
						<code class="literal">analyst</code>: Users with the <code class="literal">analyst</code> role have access to all high-level features. They can model and execute their projects. However, these users cannot add contributors to spaces or delete spaces in the <span class="strong strong"><strong>Design → Projects</strong></span> view. Access to the <span class="strong strong"><strong>Deploy → Execution Servers</strong></span> view, which is intended for administrators, is not available to users with the <code class="literal">analyst</code> role. However, the <span class="strong strong"><strong>Deploy</strong></span> button is available to these users when they access the Library perspective.
					</li><li class="listitem">
						<code class="literal">developer</code>: Users with the <code class="literal">developer</code> role have access to almost all features and can manage rules, models, process flows, forms, and dashboards. They can manage the asset repository, they can create, build, and deploy projects, and they can use Red Hat CodeReady Studio to view processes. Only certain administrative functions such as creating and cloning a new repository are hidden from users with the <code class="literal">developer</code> role.
					</li><li class="listitem">
						<code class="literal">manager</code>: Users with the <code class="literal">manager</code> role can view reports. These users are usually interested in statistics about the business processes and their performance, business indicators, and other business-related reporting. A user with this role has access only to process and task reports.
					</li><li class="listitem">
						<code class="literal">process-admin</code>: Users with the <code class="literal">process-admin</code> role are business process administrators. They have full access to business processes, business tasks, and execution errors. These users can also view business reports and have access to the Task Inbox list.
					</li><li class="listitem">
						<code class="literal">user</code>: Users with the <code class="literal">user</code> role can work on the Task Inbox list, which contains business tasks that are part of currently running processes. Users with this role can view process and task reports and manage processes.
					</li><li class="listitem">
						<code class="literal">rest-all</code>: Users with the <code class="literal">rest-all</code> role can access Business Central REST capabilities.
					</li><li class="listitem">
						<code class="literal">kie-server</code>: Users with the <code class="literal">kie-server</code> role can access KIE Server REST capabilities. This role is mandatory for users to have access to <span class="strong strong"><strong>Manage</strong></span> and <span class="strong strong"><strong>Track</strong></span> views in Business Central.
					</li></ul></div></section><section class="chapter" id="reference-implementations-con_planning"><div class="titlepage"><div><div><h2 class="title">Chapter 7. Red Hat Process Automation Manager reference implementations</h2></div></div></div><p>
				Red Hat Process Automation Manager provides reference implementations that you can use as starter applications. They are included in the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Reference Implementations</strong></span> download, available on the Red Hat Process Automation Manager Software Downloads page in the Red Hat Customer Portal.
			</p><div class="formalpara"><p class="title"><strong>Employee Rostering reference implementation</strong></p><p>
					The employee rostering reference implementation enables you to create an application that assigns employees to shifts on various positions in an organization. For example, you can use the application to distribute shifts in a hospital between nurses, guard duty shifts across a number of locations, or shifts on an assembly line between workers.
				</p></div><div class="formalpara"><p class="title"><strong>Vehicle route planning reference implementation</strong></p><p>
					The vehicle route planning reference implementation enables you to create an application that solves a vehicle route planning problem with real-world maps, roads, and vehicles delivering goods to locations, each with a specific capacity. For more information, see the README file in the vehicle routing ZIP file, included in the reference implementation download.
				</p></div><div class="formalpara"><p class="title"><strong>School timetable reference implementation</strong></p><p>
					The school timetable reference implementation enables you to build a REST application on Spring Boot that associates lessons with rooms and time slots and avoids conflicts by considering student and teacher constraints.
				</p></div><div class="formalpara"><p class="title"><strong>High available event-driven decisioning reference implementation</strong></p><p>
					The high available event-driven decisioning reference implementation enables you to deploy Drools engine code that requires stateful processing, including rules developed with complex event processing, in an OpenShift environment. Doing this enables the decision engine to process complex event series with high availability.
				</p></div></section><section class="chapter" id="integrating-con_planning"><div class="titlepage"><div><div><h2 class="title">Chapter 8. Integrating with Red Hat Process Automation Manager</h2></div></div></div><p>
				You can integrate Red Hat Process Automation Manager with other products and components, such as Spring Boot, Red Hat Fuse, and Red Hat Single Sign-On.
			</p><section class="section" id="red_hat_process_automation_manager_spring_boot_business_applications"><div class="titlepage"><div><div><h2 class="title">8.1. Red Hat Process Automation Manager Spring Boot business applications</h2></div></div></div><p>
					Spring Framework is a Java platform that provides comprehensive infrastructure support for developing Java applications. Spring Boot is a lightweight framework based on Spring Boot starters. Spring Boot starters are <code class="literal">pom.xml</code> files that contain a set of dependency descriptors that you can include in your Spring Boot project. Red Hat offers support and maintenance for Red Hat Process Automation Manager Spring Boot projects as part of Red Hat Runtimes.
				</p><p>
					Red Hat Process Automation Manager Spring Boot business applications are flexible, UI-agnostic logical groupings of individual services that provide certain business capabilities. Business applications are based on Spring Boot starters. They are usually deployed separately and can be versioned individually. A complete business application enables a domain to achieve specific business goals, for example order management or accommodation management.
				</p><p>
					On the <a class="link" href="https://start.jbpm.org">business application</a> website you can create a Process Automation Manager, Decision Manager, or Business Optimizer business application. After you create and configure your business application, you can deploy it to an existing service or to the cloud, through OpenShift.
				</p></section><section class="section" id="integrating_red_hat_fuse"><div class="titlepage"><div><div><h2 class="title">8.2. Integrating Red Hat Fuse</h2></div></div></div><p>
					Fuse is a distributed, cloud-native integration platform that is part of an agile integration solution. Its distributed approach enables teams to deploy integrated services where required.
				</p><p>
					You can install Red Hat Fuse on the Apache Karaf container platform or Red Hat JBoss Enterprise Application Platform and then install and configure Red Hat Process Automation Manager in that container.
				</p></section><section class="section" id="integrating_red_hat_single_sign_on"><div class="titlepage"><div><div><h2 class="title">8.3. Integrating Red Hat Single Sign-On</h2></div></div></div><p>
					Red Hat Single Sign-On (RH-SSO) is a single sign-on solution that you can use to secure your browser applications with your REST web services and Git access.
				</p><p>
					When you integrate Red Hat Process Automation Manager with RH-SSO, you create an SSO and identity management (IDM) environment for Red Hat Process Automation Manager. The session management feature of RH-SSO enables you to use a single authentication for different Red Hat Process Automation Manager environments on the internet.
				</p><p>
					RH-SSO 7.3 is supported with Red Hat Process Automation Manager on Red Hat JBoss EAP 7.3.
				</p></section></section><section class="chapter" id="additional_resources"><div class="titlepage"><div><div><h2 class="title">Chapter 9. Additional resources</h2></div></div></div><div class="itemizedlist"><p class="title"><strong>Installation</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-install-on-eap"><span class="emphasis"><em>Installing and configuring Red Hat Process Automation Manager on Red Hat JBoss EAP 7.3</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-clustering-eap"><span class="emphasis"><em>Installing and configuring Red Hat Process Automation Manager in a Red Hat JBoss EAP clustered environment</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-install-on-jws"><span class="emphasis"><em>Installing and configuring Red Hat Process Automation Manager on Red Hat JBoss Web Server</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-installing-kie-server-on-was"><span class="emphasis"><em>Installing and configuring KIE Server on IBM WebSphere Application Server</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-installing-kie-server-on-wls"><span class="emphasis"><em>Installing and configuring KIE Server on Oracle WebLogic Server</em></span></a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Integration</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/integrating_red_hat_process_automation_manager_with_other_products_and_components#assembly-integrating-codeready-studio"><span class="emphasis"><em>Integrating Red Hat CodeReady Studio with Red Hat Process Automation Manager</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/integrating_red_hat_process_automation_manager_with_other_products_and_components#assembly-springboot-business-apps"><span class="emphasis"><em>Creating Red Hat Process Automation Manager business applications with Spring Boot</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/integrating_red_hat_process_automation_manager_with_other_products_and_components#assembly-integrating-fuse"><span class="emphasis"><em>Integrating Red Hat Fuse with Red Hat Process Automation Manager</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/integrating_red_hat_process_automation_manager_with_other_products_and_components#assembly-integrating-sso"><span class="emphasis"><em>Integrating Red Hat Process Automation Manager with Red Hat Single Sign-On</em></span></a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Reference Implementations</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/developing_solvers_with_red_hat_business_optimizer_in_red_hat_process_automation_manager#assembly-optimizer-modifying-ER-template-IDE"><span class="emphasis"><em>Running and modifying the employee rostering starter application for Red Hat Business Optimizer using an IDE</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/developing_solvers_with_red_hat_business_optimizer_in_red_hat_process_automation_manager#assembly-business-optimizer-vrp"><span class="emphasis"><em>Deploying and using the vehicle route planning starter application for Red Hat Business Optimizer</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/developing_solvers_with_red_hat_business_optimizer_in_red_hat_process_automation_manager#assembly-business-optimizer-springboot"><span class="emphasis"><em>Creating a school timetable using Red Hat Business Optimizer with Spring Boot</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-hacep"><span class="emphasis"><em>Implementing high available event-driven decisioning using the decision engine on Red Hat OpenShift Container Platform</em></span></a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>OpenShift</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-openshift-operator"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using Operators</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-openshift-templates"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using templates</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-hacep"><span class="emphasis"><em>Implementing high available event-driven decisioning using the decision engine on Red Hat OpenShift Container Platform</em></span></a>
					</li></ul></div></section></div><div class="part" id="assembly-install-on-eap"><div class="titlepage"><div><div><h1 class="title">Part II. Installing and configuring Red Hat Process Automation Manager on Red Hat JBoss EAP 7.3</h1></div></div></div><div class="partintro" id="idm140016279457920"><div/><p>
				This document describes how to install Red Hat Process Automation Manager on a Red Hat JBoss Enterprise Application Platform 7.3 instance.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have reviewed the information in <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
					</li><li class="listitem">
						You have installed the latest patch release of Red Hat JBoss Enterprise Application Platform 7.3. For information about installing Red Hat JBoss EAP, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.3/html-single/installation_guide/index"><span class="emphasis"><em>Red Hat JBoss Enterprise Application Platform installaton guide</em></span></a>.
					</li></ul></div><div class="toc"><p><strong>Table of Contents</strong></p><ul class="toc"><li><span class="chapter"><a href="#installing-con_install-on-eap">10. About Red Hat Process Automation Manager</a></span></li><li><span class="chapter"><a href="#roles-users-con_install-on-eap">11. Red Hat Process Automation Manager roles and users</a></span></li><li><span class="chapter"><a href="#install-download-proc_install-on-eap">12. Downloading the Red Hat Process Automation Manager installation files</a></span></li><li><span class="chapter"><a href="#assembly_installing-using-installer_install-on-eap">13. Using the Red Hat Process Automation Manager installer</a></span><ul><li><span class="section"><a href="#installer-run-proc_install-on-eap">13.1. Using the installer in interactive mode</a></span></li><li><span class="section"><a href="#installer-run-cli-proc_install-on-eap">13.2. Using the installer in CLI mode</a></span></li><li><span class="section"><a href="#installer-controller-eap-proc_install-on-eap">13.3. Using the installer to configure KIE Server with the Process Automation Manager controller</a></span></li></ul></li><li><span class="chapter"><a href="#assembly_installing-on-eap-deployable_install-on-eap">14. Installing Red Hat Process Automation Manager from ZIP files</a></span><ul><li><span class="section"><a href="#eap-dm-install-proc_install-on-eap">14.1. Installing Business Central from the ZIP file</a></span></li><li><span class="section"><a href="#eap_execution_server_download_install_proc_install-on-eap">14.2. Installing KIE Server from the ZIP file</a></span></li><li><span class="section"><a href="#eap-data-source-add-proc_install-on-eap">14.3. Configuring JDBC data sources for KIE Server</a></span></li><li><span class="section"><a href="#eap-users-create-proc_install-on-eap">14.4. Creating users</a></span></li><li><span class="section"><a href="#kie-server-configure-central-proc_install-on-eap">14.5. Configuring KIE Server to connect to Business Central</a></span></li></ul></li><li><span class="chapter"><a href="#securing-passwords-eap-proc_install-on-eap">15. Securing passwords with a keystore</a></span></li><li><span class="chapter"><a href="#ssh-configuring-proc_install-on-eap">16. Configuring SSH to use RSA</a></span></li><li><span class="chapter"><a href="#verifying_the_red_hat_process_automation_manager_installation">17. Verifying the Red Hat Process Automation Manager installation</a></span></li><li><span class="chapter"><a href="#eap-ba-dm-run-proc_install-on-eap">18. Running Red Hat Process Automation Manager</a></span></li><li><span class="chapter"><a href="#controller-con_install-on-eap">19. Installing and running the headless Process Automation Manager controller</a></span><ul><li><span class="section"><a href="#controller-eap-install-proc_install-on-eap">19.1. Installing the headless Process Automation Manager controller</a></span><ul><li><span class="section"><a href="#controller-eap-users-create-proc_install-on-eap">19.1.1. Creating a headless Process Automation Manager controller user</a></span></li><li><span class="section"><a href="#controller-eap-configure-proc_install-on-eap">19.1.2. Configuring KIE Server and the headless Process Automation Manager controller</a></span></li></ul></li><li><span class="section"><a href="#controller-eap-run-proc_install-on-eap">19.2. Running the headless Process Automation Manager controller</a></span></li></ul></li><li><span class="chapter"><a href="#run-dc-standalone-proc_install-on-eap">20. Configuring and running standalone Business Central</a></span></li><li><span class="chapter"><a href="#maven-repo-using-con_install-on-eap">21. Maven settings and repositories for Red Hat Process Automation Manager</a></span><ul><li><span class="section"><a href="#maven-managing-dependencies-proc_install-on-eap">21.1. Adding Maven dependencies for Red Hat Process Automation Manager</a></span></li><li><span class="section"><a href="#maven-external-configure-proc_install-on-eap">21.2. Configuring an external Maven repository for Business Central and KIE Server</a></span></li><li><span class="section"><a href="#offline-repo-proc_install-on-eap">21.3. Preparing a Maven mirror repository for offline use</a></span></li></ul></li><li><span class="chapter"><a href="#git-import-proc_install-on-eap">22. Importing projects from Git repositories</a></span></li><li><span class="chapter"><a href="#customizing_the_branding_of_business_central">23. Customizing the branding of Business Central</a></span><ul><li><span class="section"><a href="#central-login-customize-proc_install-on-eap">23.1. Customizing the Business Central login page</a></span></li><li><span class="section"><a href="#central-app-header-customize-proc">23.2. Customizing Business Central application header</a></span></li></ul></li><li><span class="chapter"><a href="#ldap-ssl-con_install-on-eap">24. Integrating LDAP and SSL</a></span></li><li><span class="chapter"><a href="#dashbuilder-runtimes-con_install-on-eap">25. Dashbuilder Runtime</a></span><ul><li><span class="section"><a href="#installing-dashbuilder-proc_install-on-eap">25.1. Installing Dashbuilder Runtime</a></span></li><li><span class="section"><a href="#datasets-dashbuilder-runtimes-con">25.2. KIE Server data sets on Dashbuilder Runtime</a></span></li><li><span class="section"><a href="#customizing-dashbuilder-con">25.3. Customizing Dashbuilder Runtime</a></span></li></ul></li><li><span class="appendix"><a href="#business-central-system-properties-ref_install-on-eap">A. Business Central system properties</a></span></li><li><span class="chapter"><a href="#additional_resources_2">26. Additional resources</a></span></li><li><span class="chapter"><a href="#next_steps">27. Next steps</a></span></li></ul></div></div><section class="chapter" id="installing-con_install-on-eap"><div class="titlepage"><div><div><h2 class="title">Chapter 10. About Red Hat Process Automation Manager</h2></div></div></div><p>
				Red Hat Process Automation Manager is the Red Hat middleware platform for creating business automation applications and microservices. It enables enterprise business and IT users to document, simulate, manage, automate, and monitor business processes and policies. It is designed to empower business and IT users to collaborate more effectively, so business applications can be changed easily and quickly.
			</p><p>
				Red Hat Process Automation Manager is made up of Business Central and KIE Server.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						KIE Server is the server where rules and other artifacts are executed. It is used to instantiate and execute rules and solve planning problems. KIE Server provides the runtime environment for business assets and accesses the data stored in the assets repository (knowledge store).
					</li><li class="listitem">
						Business Central
					</li><li class="listitem"><p class="simpara">
						Business Central is the graphical user interface where you create and manage business rules that KIE Server executes. It enables you to perform the following tasks:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Create, manage, and edit your rules, processes, and related assets.
							</li><li class="listitem">
								Manage connected KIE Server instances and their KIE containers (deployment units).
							</li><li class="listitem"><p class="simpara">
								Execute runtime operations against processes and tasks in KIE Server instances connected to Business Central.
							</p><p class="simpara">
								Business Central is also available as a standalone JAR file. You can use the Business Central standalone JAR file to run Business Central without needing to deploy it to an application server.
							</p></li></ul></div></li></ul></div><p>
				Red Hat JBoss Enterprise Application Platform (Red Hat JBoss EAP) 7.3 is a certified implementation of the Java Enterprise Edition 8 (Java EE 8) full and web profile specifications. Red Hat JBoss EAP provides preconfigured options for features such as high availability, clustering, messaging, and distributed caching. It also enables users to write, deploy, and run applications using the various APIs and services that Red Hat JBoss EAP provides.
			</p><p>
				The instructions in this document explain how to install Red Hat Process Automation Manager in a Red Hat JBoss EAP 7.3 server instance.
			</p><p>
				For instructions on how to install Red Hat Process Automation Manager in other environments, see the following documents:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-installing-kie-server-on-was"><span class="emphasis"><em>Installing and configuring KIE Server on IBM WebSphere Application Server</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-installing-kie-server-on-wls"><span class="emphasis"><em>Installing and configuring KIE Server on Oracle WebLogic Server</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-openshift-operator"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using Operators</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-openshift-templates"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using templates</em></span></a>
					</li></ul></div><p>
				For information about supported components, see the following documents:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/3405361">What is the mapping between Red Hat Process Automation Manager and the Maven library version?</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/articles/3405381">Red Hat Process Automation Manager 7 Supported Configurations</a>
					</li></ul></div></section><section class="chapter" id="roles-users-con_install-on-eap"><div class="titlepage"><div><div><h2 class="title">Chapter 11. Red Hat Process Automation Manager roles and users</h2></div></div></div><p>
				To access Business Central or KIE Server, you must create users and assign them appropriate roles before the servers are started. You can create users and roles when you install Business Central or KIE Server.
			</p><p>
				Business Central and KIE Server use the Java Authentication and Authorization Service (JAAS) login module to authenticate users. If both Business Central and KIE Server are running on a single instance, then they share the same JAAS subject and security domain. Therefore, a user who is authenticated for Business Central can also access KIE Server.
			</p><p>
				However, if Business Central and KIE Server are running on different instances, then the JAAS login module is triggered for both individually. Therefore, a user who is authenticated for Business Central must be authenticated separately to access KIE Server. For example, if a user who is authenticated on Business Central but not authenticated on KIE Server tries to view or manage process definitions in Business Central, a 401 error is logged in the log file and the <code class="literal">Invalid credentials to load data from remote server. Contact your system administrator.</code> message appears in Business Central.
			</p><p>
				This section describes Red Hat Process Automation Manager user roles.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The <code class="literal">admin</code>, <code class="literal">analyst</code>, <code class="literal">developer</code>, <code class="literal">manager</code>, <code class="literal">process-admin</code>, <code class="literal">user</code>, and <code class="literal">rest-all</code> roles are reserved for Business Central. The <code class="literal">kie-server</code> role is reserved for KIE Server. For this reason, the available roles can differ depending on whether Business Central, KIE Server, or both are installed.
				</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">admin</code>: Users with the <code class="literal">admin</code> role are the Business Central administrators. They can manage users and create, clone, and manage repositories. They have full access to make required changes in the application. Users with the <code class="literal">admin</code> role have access to all areas within Red Hat Process Automation Manager.
					</li><li class="listitem">
						<code class="literal">analyst</code>: Users with the <code class="literal">analyst</code> role have access to all high-level features. They can model and execute their projects. However, these users cannot add contributors to spaces or delete spaces in the <span class="strong strong"><strong>Design → Projects</strong></span> view. Access to the <span class="strong strong"><strong>Deploy → Execution Servers</strong></span> view, which is intended for administrators, is not available to users with the <code class="literal">analyst</code> role. However, the <span class="strong strong"><strong>Deploy</strong></span> button is available to these users when they access the Library perspective.
					</li><li class="listitem">
						<code class="literal">developer</code>: Users with the <code class="literal">developer</code> role have access to almost all features and can manage rules, models, process flows, forms, and dashboards. They can manage the asset repository, they can create, build, and deploy projects, and they can use Red Hat CodeReady Studio to view processes. Only certain administrative functions such as creating and cloning a new repository are hidden from users with the <code class="literal">developer</code> role.
					</li><li class="listitem">
						<code class="literal">manager</code>: Users with the <code class="literal">manager</code> role can view reports. These users are usually interested in statistics about the business processes and their performance, business indicators, and other business-related reporting. A user with this role has access only to process and task reports.
					</li><li class="listitem">
						<code class="literal">process-admin</code>: Users with the <code class="literal">process-admin</code> role are business process administrators. They have full access to business processes, business tasks, and execution errors. These users can also view business reports and have access to the Task Inbox list.
					</li><li class="listitem">
						<code class="literal">user</code>: Users with the <code class="literal">user</code> role can work on the Task Inbox list, which contains business tasks that are part of currently running processes. Users with this role can view process and task reports and manage processes.
					</li><li class="listitem">
						<code class="literal">rest-all</code>: Users with the <code class="literal">rest-all</code> role can access Business Central REST capabilities.
					</li><li class="listitem">
						<code class="literal">kie-server</code>: Users with the <code class="literal">kie-server</code> role can access KIE Server REST capabilities. This role is mandatory for users to have access to <span class="strong strong"><strong>Manage</strong></span> and <span class="strong strong"><strong>Track</strong></span> views in Business Central.
					</li></ul></div></section><section class="chapter" id="install-download-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">Chapter 12. Downloading the Red Hat Process Automation Manager installation files</h2></div></div></div><p>
				You can use the installer JAR file or deployable ZIP files to install Red Hat Process Automation Manager. You can run the installer in interactive or command line interface (CLI) mode. Alternatively, you can extract and configure the Business Central and KIE Server deployable ZIP files. If you want to run Business Central without deploying it to an application server, download the Business Central Standalone JAR file.
			</p><p>
				Download a Red Hat Process Automation Manager distribution that meets your environment and installation requirements.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="strong strong"><strong>Product:</strong></span> Process Automation Manager
							</li><li class="listitem">
								<span class="strong strong"><strong>Version:</strong></span> 7.10
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Download one of the following product distributions, depending on your preferred installation method:
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							You only need to download one of these distributions.
						</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								If you want to use the installer to install Red Hat Process Automation Manager on Red Hat JBoss EAP 7.3, download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Installer</strong></span> (<code class="literal">rhpam-installer-7.10.0.jar</code>). The installer graphical user interface guides you through the installation process.
							</li><li class="listitem"><p class="simpara">
								If you want to install Red Hat Process Automation Manager on Red Hat JBoss EAP 7.3 using the deployable ZIP files, download the following files:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 KIE Server for All Supported EE8 Containers</strong></span> (<code class="literal">rhpam-7.10.0-kie-server-ee8.zip</code>)
									</li><li class="listitem">
										<span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Business Central Deployable for EAP 7</strong></span> (<code class="literal">rhpam-7.10.0-business-central-eap7-deployable.zip</code>)
									</li><li class="listitem">
										<span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Add Ons</strong></span> (<code class="literal">rhpam-7.10.0-add-ons.zip</code>)
									</li></ul></div></li><li class="listitem">
								To run Business Central without needing to deploy it to an application server, download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Business Central Standalone</strong></span> (<code class="literal">rhpam-7.10.0-business-central-standalone.jar</code>).
							</li></ul></div></li></ol></div></section><section class="chapter" id="assembly_installing-using-installer_install-on-eap"><div class="titlepage"><div><div><h2 class="title">Chapter 13. Using the Red Hat Process Automation Manager installer</h2></div></div></div><p>
				This section describes how to install Business Central and the KIE Server using the installer JAR file. The JAR file is an executable file that installs Red Hat Process Automation Manager in an existing Red Hat JBoss EAP 7.3 server installation. You can run the installer in interactive or command line interface (CLI) mode.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The Red Hat Process Automation Manager JAR file installer does <span class="emphasis"><em>not</em></span> support the Red Hat JBoss EAP distribution installed by yum or RPM Package Manager. If you want to install Red Hat Process Automation Manager in this type of Red Hat JBoss EAP installation, download the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10 Deployable for Red Hat JBoss EAP 7.3</strong></span> file and follow the steps in <a class="xref" href="#assembly_installing-on-eap-deployable_install-on-eap" title="Chapter 14. Installing Red Hat Process Automation Manager from ZIP files">Chapter 14, <em>Installing Red Hat Process Automation Manager from ZIP files</em></a>.
				</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Because IBM JDK cannot use keystores generated on other JDKs, you cannot install Red Hat Process Automation Manager into an existing Red Hat JBoss EAP installation running on IBM JDK with a keystore generated on another JDK.
				</p></div></div><div class="formalpara"><p class="title"><strong>Next steps:</strong></p><p>
					Follow the instructions in one of the following sections:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="#installer-run-proc_install-on-eap" title="13.1. Using the installer in interactive mode">Section 13.1, “Using the installer in interactive mode”</a>
					</li><li class="listitem">
						<a class="xref" href="#installer-run-cli-proc_install-on-eap" title="13.2. Using the installer in CLI mode">Section 13.2, “Using the installer in CLI mode”</a>
					</li><li class="listitem">
						<a class="xref" href="#installer-controller-eap-proc_install-on-eap" title="13.3. Using the installer to configure KIE Server with the Process Automation Manager controller">Section 13.3, “Using the installer to configure KIE Server with the Process Automation Manager controller”</a>
					</li></ul></div><section class="section" id="installer-run-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">13.1. Using the installer in interactive mode</h2></div></div></div><p>
					The installer for Red Hat Process Automation Manager is an executable JAR file. You can use it to install Red Hat Process Automation Manager in an existing Red Hat JBoss EAP 7.3 server installation.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						For security reasons, you should run the installer as a non-root user.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Installer</strong></span> has been downloaded. For instructions, see <a class="xref" href="#install-download-proc_install-on-eap" title="Chapter 12. Downloading the Red Hat Process Automation Manager installation files">Chapter 12, <em>Downloading the Red Hat Process Automation Manager installation files</em></a>.
						</li><li class="listitem">
							A supported JDK is installed. For a list of supported JDKs, see <a class="link" href="https://access.redhat.com/articles/3405381">Red Hat Process Automation Manager 7 Supported Configurations</a>.
						</li><li class="listitem">
							A backed-up Red Hat JBoss EAP 7.3 server installation is available.
						</li><li class="listitem">
							Sufficient user permissions to complete the installation are granted.
						</li><li class="listitem"><p class="simpara">
							The JAR binary is included in <code class="literal">$PATH</code> environment variable. On Red Hat Enterprise Linux, it is included in the <code class="literal">java-$<span class="emphasis"><em>JAVA_VERSION</em></span>-openjdk-devel</code> package.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Red Hat Process Automation Manager is designed to work with UTF-8 encoding. If a different encoding system is used by the underlying JVM, unexpected errors might occur. To ensure UTF-8 is used by the JVM, use the <code class="literal">"-Dfile.encoding=UTF-8"</code> system property. For a list of system properties, see <a class="xref" href="#business-central-system-properties-ref_install-on-eap" title="Appendix A. Business Central system properties">Appendix A, <em>Business Central system properties</em></a>.
							</p></div></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In a terminal window, navigate to the directory where you downloaded the installer JAR file and enter the following command:
						</p><pre class="screen">java -jar rhpam-installer-7.10.0.jar</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								When running the installer on Windows, you may be prompted to provide administrator credentials during the installation. To prevent this requirement, add the <code class="literal">izpack.mode=privileged</code> option to the installation command:
							</p><pre class="screen">java -Dizpack.mode=privileged -jar
rhpam-installer-7.10.0.jar</pre><p>
								Furthermore, when running the installer on a 32-bit Java virtual machine, you might encounter memory limitations. To prevent this issue, run this command:
							</p><pre class="screen">java -XX:MaxHeapSize=4g -jar
rhpam-installer-7.10.0.jar</pre></div></div><p class="simpara">
							The graphical installer displays a splash screen and a license agreement page.
						</p></li><li class="listitem">
							Click <span class="strong strong"><strong>I accept the terms of this license agreement</strong></span> and click <span class="strong strong"><strong>Next</strong></span>.
						</li><li class="listitem">
							Specify the Red Hat JBoss EAP 7.3 server home where you want to install Red Hat Process Automation Manager and click <span class="strong strong"><strong>Next</strong></span>.
						</li><li class="listitem"><p class="simpara">
							Select the components that you want to install and click <span class="strong strong"><strong>Next</strong></span>.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								You can install Business Central and KIE Server on the same server. However, you should install Business Central and KIE Server on different servers in production environments. To do this, run the installer twice.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Create a user and click <span class="strong strong"><strong>Next</strong></span>. By default, if you install both Business Central and KIE Server in the same container the new user is given the <code class="literal">admin</code>, <code class="literal">kie-server</code>, and <code class="literal">rest-all</code> roles. If you install only KIE Server, the user is given the <code class="literal">kie-server</code> role. To select another role, deselect <code class="literal">admin</code>. For information about roles, see <a class="xref" href="#roles-users-con_install-on-eap" title="Chapter 11. Red Hat Process Automation Manager roles and users">Chapter 11, <em>Red Hat Process Automation Manager roles and users</em></a>.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Make sure that the specified user name is not the same as an existing user, role, or group. For example, do not create a user with the user name <code class="literal">admin</code>.
							</p><p>
								The password must have at least eight characters and must contain at least one number and one non-alphanumeric character, but not &amp; (ampersand).
							</p></div></div><p class="simpara">
							Make a note of the user name and password. You will need them to access Business Central and KIE Server.
						</p></li><li class="listitem">
							On the <span class="strong strong"><strong>Installation Overview</strong></span> page, review the components that you will install and click <span class="strong strong"><strong>Next</strong></span> to start the installation.
						</li><li class="listitem">
							When the installation has completed, click <span class="strong strong"><strong>Next</strong></span>.
						</li><li class="listitem"><p class="simpara">
							If KIE Server is installed, the <span class="strong strong"><strong>Configure Runtime</strong></span> step appears under <span class="strong strong"><strong>Component Installation</strong></span>. On the <span class="strong strong"><strong>Configure Runtime Environment</strong></span> page, choose to perform the default installation or perform an advanced configuration.
						</p><p class="simpara">
							If you choose <span class="strong strong"><strong>Perform advanced configuration</strong></span>, you can choose to configure database settings or customize certain KIE Server options.
						</p></li><li class="listitem"><p class="simpara">
							If you selected <span class="strong strong"><strong>Customize database settings</strong></span>, on the <span class="strong strong"><strong>JDBC Drive Configuration</strong></span> page specify a data source JDBC driver vendor, select one or more driver JAR files, and click <span class="strong strong"><strong>Next</strong></span>.
						</p><p class="simpara">
							A data source is an object that enables a Java Database Connectivity (JDBC) client, such as an application server, to establish a connection with a database. Applications look up the data source on the Java Naming and Directory Interface (JNDI) tree or in the local application context and request a database connection to retrieve data. You must configure data sources for KIE Server to ensure correct data exchange between the servers and the designated database.
						</p></li><li class="listitem"><p class="simpara">
							If you selected <span class="strong strong"><strong>Customize KIE Server properties</strong></span>, on the <span class="strong strong"><strong>KIE Server Properties Configuration</strong></span> page change any of the following properties:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Change the value of <span class="strong strong"><strong>KIE Server ID</strong></span> to change the name of the KIE Server property.
								</li><li class="listitem">
									Change the value of <span class="strong strong"><strong>Controller URL</strong></span> to change the URL of the headless Process Automation Manager controller.
								</li><li class="listitem">
									Deselect any KIE Server functions that you want to disable.
								</li></ul></div></li><li class="listitem">
							Click <span class="strong strong"><strong>Next</strong></span> to configure the runtime environment.
						</li><li class="listitem">
							When <span class="strong strong"><strong>Processing finished</strong></span> appears at the top of the screen, click <span class="strong strong"><strong>Next</strong></span> to complete the installation.
						</li><li class="listitem"><p class="simpara">
							Optional: Click <span class="strong strong"><strong>Generate Installation Script and Properties File</strong></span> to save the installation data in XML files, and then click <span class="strong strong"><strong>Done</strong></span>.
						</p><p class="simpara">
							The installer generates two files. The <code class="literal">auto.xml</code> file automates future installations and the <code class="literal">auto.xml.variables</code> file stores user passwords and other sensitive variables. Use the <code class="literal">auto.xml</code> file to repeat the Red Hat Process Automation Manager installation on multiple systems with the same type of server and the same configuration as the original installation. If necessary, update the <code class="literal">installpath</code> parameter in the <code class="literal">auto.xml</code> file. To perform an installation using the XML file, enter the following command:
						</p><pre class="screen">java -jar rhpam-installer-7.10.0.jar &lt;path-to-auto.xml-file&gt;</pre></li></ol></div><p>
					You have successfully installed Red Hat Process Automation Manager using the installer. If you installed only Business Central, repeat these steps to install KIE Server on a separate server.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you use Microsoft SQL Server, make sure you have configured applicable transaction isolation for your database. If you do not, you may experience deadlocks. The recommended configuration is to turn on <code class="literal">ALLOW_SNAPSHOT_ISOLATION</code> and <code class="literal">READ_COMMITTED_SNAPSHOT</code> by entering the following statements:
					</p><pre class="screen">ALTER DATABASE &lt;DBNAME&gt; SET ALLOW_SNAPSHOT_ISOLATION ON
ALTER DATABASE &lt;DBNAME&gt; SET READ_COMMITTED_SNAPSHOT ON</pre></div></div></section><section class="section" id="installer-run-cli-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">13.2. Using the installer in CLI mode</h2></div></div></div><p>
					You can use the command-line interface (CLI) to run the Red Hat Process Automation Manager installer.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						For security reasons, you should run the installer as a non-root user.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Installer</strong></span> has been downloaded. For instructions, see <a class="xref" href="#install-download-proc_install-on-eap" title="Chapter 12. Downloading the Red Hat Process Automation Manager installation files">Chapter 12, <em>Downloading the Red Hat Process Automation Manager installation files</em></a>.
						</li><li class="listitem">
							A supported JDK is installed. For a list of supported JDKs, see <a class="link" href="https://access.redhat.com/articles/3405381">Red Hat Process Automation Manager 7 Supported Configurations</a>.
						</li><li class="listitem">
							A backed-up Red Hat JBoss EAP 7.3 server installation is available.
						</li><li class="listitem">
							Sufficient user permissions to complete the installation are granted.
						</li><li class="listitem"><p class="simpara">
							The JAR binary is included in the <code class="literal">$PATH</code> environment variable. On Red Hat Enterprise Linux, it is included in the <code class="literal">java-$<span class="emphasis"><em>JAVA_VERSION</em></span>-openjdk-devel</code> package.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Red Hat Process Automation Manager is designed to work with UTF-8 encoding. If a different encoding system is used by the underlying JVM, unexpected errors might occur. To ensure UTF-8 is used by the JVM, use the <code class="literal">"-Dfile.encoding=UTF-8"</code> system property. For a list of system properties, see <a class="xref" href="#business-central-system-properties-ref_install-on-eap" title="Appendix A. Business Central system properties">Appendix A, <em>Business Central system properties</em></a>.
							</p></div></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In a terminal window, navigate to the directory where you downloaded the installer file and enter the following command:
						</p><pre class="screen">java -jar rhpam-installer-7.10.0.jar -console</pre><p class="simpara">
							The command-line interactive process will start and display the End-User License Agreement.
						</p><pre class="screen">press 1 to continue, 2 to quit, 3 to redisplay.</pre></li><li class="listitem"><p class="simpara">
							Read the license agreement, enter <code class="literal">1</code>, and press <code class="literal">Enter</code> to continue:
						</p><pre class="screen">Specify the home directory of one of the following servers:  Red Hat JBoss EAP 7 or Red Hat JBoss Web Server 5. For more information, see https://access.redhat.com/articles/3405381[Red Hat Process Automation Manager 7 Supported Configurations].</pre></li><li class="listitem"><p class="simpara">
							Enter the parent directory of an existing Red Hat JBoss EAP 7.3 installation.
						</p><p class="simpara">
							The installer will verify the location of the installation at the location provided. Enter <code class="literal">1</code> to confirm and continue.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								You can install Business Central and KIE Server on the same server. However, you should install Business Central and KIE Server on different servers in production environments.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Follow the instructions in the installer to complete the installation.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								When you create the user name and password, make sure that the specified user name does not conflict with any known title of a role or a group. For example, if there is a role called <code class="literal">admin</code>, you should not create a user with the user name <code class="literal">admin</code>.
							</p><p>
								The password must have at least eight characters and must contain at least one number and one non-alphanumeric character (<span class="emphasis"><em>not</em></span> including the character <code class="literal">&amp;</code>).
							</p><p>
								Make a note of the user name and password. You will need them to access Business Central and KIE Server.
							</p></div></div></li><li class="listitem"><p class="simpara">
							When the installation has completed, you will see this message:
						</p><pre class="screen">Would you like to generate an automatic installation script and properties file?</pre></li><li class="listitem">
							Enter <code class="literal">y</code> to create XML files that contain the installation data, or <code class="literal">n</code> to complete the installation. If you enter <code class="literal">y</code>, you are prompted to specify a path for the XML files.
						</li><li class="listitem"><p class="simpara">
							Enter a path or press the Enter key to accept the suggested path.
						</p><p class="simpara">
							The installer generates two files. The <code class="literal">auto.xml</code> file automates future installations and the <code class="literal">auto.xml.variables</code> file stores user passwords and other sensitive variables. Use the <code class="literal">auto.xml</code> file on multiple systems to easily repeat a Red Hat Process Automation Manager installation on the same type of server with the same configuration as the original installation. If necessary, update the <code class="literal">installpath</code> parameter in the <code class="literal">auto.xml</code> file. To perform an installation using the XML file, enter the following command:
						</p><pre class="screen">java -jar rhpam-installer-7.10.0.jar &lt;path-to-auto.xml-file&gt;</pre></li><li class="listitem">
							If you installed only Business Central, repeat these steps to install KIE Server on a separate server.
						</li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you use Microsoft SQL Server, make sure you have configured applicable transaction isolation for your database. If you do not, you may experience deadlocks. The recommended configuration is to turn on ALLOW_SNAPSHOT_ISOLATION and READ_COMMITTED_SNAPSHOT by entering the following statements:
					</p><pre class="screen">ALTER DATABASE &lt;DBNAME&gt; SET ALLOW_SNAPSHOT_ISOLATION ON
ALTER DATABASE &lt;DBNAME&gt; SET READ_COMMITTED_SNAPSHOT ON</pre></div></div></section><section class="section" id="installer-controller-eap-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">13.3. Using the installer to configure KIE Server with the Process Automation Manager controller</h2></div></div></div><p>
					KIE Server can be managed by the Process Automation Manager controller or it can be unmanaged. If KIE Server is unmanaged, you must manually create and maintain KIE containers (deployment units). If KIE Server is managed, the Process Automation Manager controller manages the KIE Server configuration and you interact with the Process Automation Manager controller to create and maintain KIE containers.
				</p><p>
					The Process Automation Manager controller is integrated with Business Central. If you install Business Central, you can use the <span class="strong strong"><strong>Execution Server</strong></span> page in Business Central to interact with the Process Automation Manager controller.
				</p><p>
					You can use the installer in interactive or CLI mode to install Business Central and KIE Server, and then configure KIE Server with the Process Automation Manager controller.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Two computers with backed-up Red Hat JBoss EAP 7.3 server installations are available.
						</li><li class="listitem">
							Sufficient user permissions to complete the installation are granted.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							On the first computer, run the installer in interactive mode or CLI mode. See one of the following sections for more information:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<a class="xref" href="#installer-run-proc_install-on-eap" title="13.1. Using the installer in interactive mode">Section 13.1, “Using the installer in interactive mode”</a>
								</li><li class="listitem">
									<a class="xref" href="#installer-run-cli-proc_install-on-eap" title="13.2. Using the installer in CLI mode">Section 13.2, “Using the installer in CLI mode”</a>
								</li></ul></div></li><li class="listitem">
							On the <span class="strong strong"><strong>Component Selection</strong></span> page, clear the <span class="strong strong"><strong>KIE Server</strong></span> box.
						</li><li class="listitem">
							Complete the Business Central installation.
						</li><li class="listitem">
							On the second computer, run the installer in interactive mode or CLI mode.
						</li><li class="listitem">
							On the <span class="strong strong"><strong>Component Selection</strong></span> page, clear the <span class="strong strong"><strong>Business Central</strong></span> box.
						</li><li class="listitem">
							On the <span class="strong strong"><strong>Configure Runtime Environment</strong></span> page, select <span class="strong strong"><strong>Perform Advanced Configuration</strong></span>.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Customize KIE Server properties</strong></span> and click <span class="strong strong"><strong>Next</strong></span>.
						</li><li class="listitem"><p class="simpara">
							Enter the controller URL for Business Central and configure additional properties for KIE Server. The controller URL has the following form where <code class="literal">&lt;HOST:PORT&gt;</code> is the address of Business Central on the second computer:
						</p><pre class="screen">&lt;HOST:PORT&gt;/business-central/rest/controller</pre></li><li class="listitem">
							Complete the installation.
						</li><li class="listitem">
							To verify that the Process Automation Manager controller is now integrated with Business Central, go to the <span class="strong strong"><strong>Execution Servers</strong></span> page in Business Central and confirm that the KIE Server that you configured appears under <span class="strong strong"><strong>REMOTE SERVERS</strong></span>.
						</li></ol></div></section></section><section class="chapter" id="assembly_installing-on-eap-deployable_install-on-eap"><div class="titlepage"><div><div><h2 class="title">Chapter 14. Installing Red Hat Process Automation Manager from ZIP files</h2></div></div></div><p>
				You can use the Red Hat Process Automation Manager ZIP files (one for Business Central and one for KIE Server) to install Red Hat Process Automation Manager without using the installer.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You should install Business Central and the KIE Server on different servers in production environments.
				</p><p>
					For information about installing the headless Process Automation Manager controller, see <a class="xref" href="#controller-con_install-on-eap" title="Chapter 19. Installing and running the headless Process Automation Manager controller">Chapter 19, <em>Installing and running the headless Process Automation Manager controller</em></a>.
				</p></div></div><section class="section" id="eap-dm-install-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">14.1. Installing Business Central from the ZIP file</h2></div></div></div><p>
					Business Central is the graphical user interface where you create and manage business rules that KIE Server executes. You can use a deployable ZIP file to install and configure Business Central.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							A backed-up Red Hat JBoss EAP installation version 7.3 is available. The base directory of the Red Hat JBoss EAP installation is referred to as <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code>.
						</li><li class="listitem">
							Sufficient user permissions to complete the installation are granted.
						</li><li class="listitem"><p class="simpara">
							The following file is downloaded as described in <a class="xref" href="#install-download-proc_install-on-eap" title="Chapter 12. Downloading the Red Hat Process Automation Manager installation files">Chapter 12, <em>Downloading the Red Hat Process Automation Manager installation files</em></a>:
						</p><p class="simpara">
							<code class="literal">rhpam-7.10.0-business-central-eap7-deployable.zip</code>
						</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Extract the <code class="literal">rhpam-7.10.0-business-central-eap7-deployable.zip</code> file to a temporary directory. In the following examples this directory is called <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span></code>.
						</li><li class="listitem"><p class="simpara">
							Copy the contents of the <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span>/rhpam-7.10.0-business-central-eap7-deployable/jboss-eap-7.3</code> directory to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code>. When prompted, merge or replace files.
						</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
								Ensure that the names of the Red Hat Process Automation Manager deployments that you copy do not conflict with your existing deployments in the Red Hat JBoss EAP instance.
							</p></div></div></li></ol></div></section><section class="section" id="eap_execution_server_download_install_proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">14.2. Installing KIE Server from the ZIP file</h2></div></div></div><p>
					KIE Server provides the runtime environment for business assets and accesses the data stored in the assets repository (knowledge store). You can use a deployable ZIP file to install and configure KIE Server.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							A backed-up Red Hat JBoss EAP installation version 7.3 is available. The base directory of the Red Hat JBoss EAP installation is referred to as <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code>.
						</li><li class="listitem">
							Sufficient user permissions to complete the installation are granted.
						</li><li class="listitem"><p class="simpara">
							The following file is downloaded as described in <a class="xref" href="#install-download-proc_install-on-eap" title="Chapter 12. Downloading the Red Hat Process Automation Manager installation files">Chapter 12, <em>Downloading the Red Hat Process Automation Manager installation files</em></a>:
						</p><p class="simpara">
							<code class="literal">rhpam-7.10.0-kie-server-ee8.zip</code>
						</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Extract the <code class="literal">rhpam-7.10.0-kie-server-ee8.zip</code> archive to a temporary directory. In the following examples this directory is called <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span></code>.
						</li><li class="listitem"><p class="simpara">
							Copy the <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span>/rhpam-7.10.0-kie-server-ee8/kie-server.war</code> directory to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/</code>.
						</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
								Ensure the names of the Red Hat Process Automation Manager deployments you copy do not conflict with your existing deployments in the Red Hat JBoss EAP instance.
							</p></div></div></li><li class="listitem">
							Copy the contents of the <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span>/rhpam-7.10.0-kie-server-ee8/rhpam-7.10.0-kie-server-ee8/SecurityPolicy/</code> to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin</code>.
						</li><li class="listitem">
							When prompted to overwrite files, click <span class="strong strong"><strong>Replace</strong></span>.
						</li><li class="listitem">
							In the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/</code> directory, create an empty file named <code class="literal">kie-server.war.dodeploy</code>. This file ensures that KIE Server is automatically deployed when the server starts.
						</li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you use Microsoft SQL Server, make sure you have configured applicable transaction isolation for your database. If you do not, you may experience deadlocks. The recommended configuration is to turn on <code class="literal">ALLOW_SNAPSHOT_ISOLATION</code> and <code class="literal">READ_COMMITTED_SNAPSHOT</code> by entering the following statements:
					</p><pre class="screen">ALTER DATABASE &lt;DBNAME&gt; SET ALLOW_SNAPSHOT_ISOLATION ON
ALTER DATABASE &lt;DBNAME&gt; SET READ_COMMITTED_SNAPSHOT ON</pre></div></div></section><section class="section" id="eap-data-source-add-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">14.3. Configuring JDBC data sources for KIE Server</h2></div></div></div><p>
					A data source is an object that enables a Java Database Connectivity (JDBC) client, such as an application server, to establish a connection with a database. Applications look up the data source on the Java Naming and Directory Interface (JNDI) tree or in the local application context and request a database connection to retrieve data. You must configure data sources for KIE Server to ensure correct data exchange between the servers and the designated database.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						For production environments, specify an actual data source. Do not use the example data source in production environments.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The JDBC providers that you want to use to create database connections are configured on all servers on which you want to deploy KIE Server, as described in the "Creating Datasources" and "JDBC Drivers" sections of the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.3/html/configuration_guide/index"><span class="emphasis"><em>Red Hat JBoss Enterprise Application Server Configuration Guide</em></span></a>.
						</li><li class="listitem">
							The <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Add Ons</strong></span> (<code class="literal">rhpam-7.10.0-add-ons.zip</code>) file is downloaded from the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Complete the following steps to prepare your database:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Extract <code class="literal">rhpam-7.10.0-add-ons.zip</code> in a temporary directory, for example <code class="literal">TEMP_DIR</code>.
								</li><li class="listitem">
									Extract <code class="literal">TEMP_DIR/rhpam-7.10.0-migration-tool.zip</code>.
								</li><li class="listitem">
									Change your current directory to the <code class="literal">TEMP_DIR/rhpam-7.10.0-migration-tool/ddl-scripts</code> directory. This directory contains DDL scripts for several database types.
								</li><li class="listitem"><p class="simpara">
									Import the DDL script for your database type into the database that you want to use.
								</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">The following example creates jBPM database structures in PostreSQL</span></dt><dd><pre class="programlisting language-shell">psql jbpm &lt; /ddl-scripts/postgresql/postgresql-jbpm-schema.sql</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
													If you are using PostgreSQL or Oracle in conjunction with Spring Boot, you must import the respective Spring Boot DDL script, for example <code class="literal">/ddl-scripts/oracle/oracle-springboot-jbpm-schema.sql</code> or <code class="literal">/ddl-scripts/postgresql/postgresql-springboot-jbpm-schema.sql</code>.
												</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
													The PostgreSQL DDL scripts create the PostgreSQL schema with auto-incrementing integer value (OID) columns for entity attributes annotated with <code class="literal">@LOB</code>. To use other binary column types such as BYTEA instead of OID, you must create the PostgreSQL schema with the <code class="literal">postgresql-bytea-jbpm-schema.sql</code> script and set the Red Hat Process Automation Manager <code class="literal">org.kie.persistence.postgresql.useBytea=true</code> flag. Do not use the <code class="literal">postgresql-jbpm-lo-trigger-clob.sql</code> script when creating a BYTEA-based schema. Red Hat Process Automation Manager does not provide a migration tool to change from an OID-based to a BYTEA-based schema.
												</p></div></div></dd></dl></div></li></ol></div></li><li class="listitem">
							Open <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/standalone-full.xml</code> in a text editor and locate the <code class="literal">&lt;system-properties&gt;</code> tag.
						</li><li class="listitem"><p class="simpara">
							Add the following properties to the <code class="literal">&lt;system-properties&gt;</code> tag where <code class="literal">&lt;DATASOURCE&gt;</code> is the JNDI name of your data source and <code class="literal">&lt;HIBERNATE_DIALECT&gt;</code> is the hibernate dialect for your database.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The default value of the <code class="literal">org.kie.server.persistence.ds</code> property is <code class="literal">java:jboss/datasources/ExampleDS</code>. The default value of the <code class="literal">org.kie.server.persistence.dialect</code> property is <code class="literal">org.hibernate.dialect.H2Dialect</code>.
							</p></div></div><pre class="programlisting language-xml">&lt;property name="org.kie.server.persistence.ds" value="&lt;DATASOURCE&gt;"/&gt;
&lt;property name="org.kie.server.persistence.dialect" value="&lt;HIBERNATE_DIALECT&gt;"/&gt;</pre><p class="simpara">
							The following example shows how to configure a datasource for the PostgreSQL hibernate dialect:
						</p><pre class="programlisting language-xml">&lt;system-properties&gt;
    &lt;property name="org.kie.server.repo" value="${jboss.server.data.dir}"/&gt;
    &lt;property name="org.kie.example" value="true"/&gt;
    &lt;property name="org.jbpm.designer.perspective" value="full"/&gt;
    &lt;property name="designerdataobjects" value="false"/&gt;
    &lt;property name="org.kie.server.user" value="rhpamUser"/&gt;
    &lt;property name="org.kie.server.pwd" value="rhpam123!"/&gt;
    &lt;property name="org.kie.server.location" value="http://localhost:8080/kie-server/services/rest/server"/&gt;
    &lt;property name="org.kie.server.controller" value="http://localhost:8080/business-central/rest/controller"/&gt;
    &lt;property name="org.kie.server.controller.user" value="kieserver"/&gt;
    &lt;property name="org.kie.server.controller.pwd" value="kieserver1!"/&gt;
    &lt;property name="org.kie.server.id" value="local-server-123"/&gt;

    &lt;!-- Data source properties. --&gt;
    &lt;property name="org.kie.server.persistence.ds" value="java:jboss/datasources/KieServerDS"/&gt;
    &lt;property name="org.kie.server.persistence.dialect" value="org.hibernate.dialect.PostgreSQLDialect"/&gt;
&lt;/system-properties&gt;</pre></li></ol></div><p>
					The following dialects are supported:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							DB2: <code class="literal">org.hibernate.dialect.DB2Dialect</code>
						</li><li class="listitem">
							MSSQL: <code class="literal">org.hibernate.dialect.SQLServer2012Dialect</code>
						</li><li class="listitem">
							MySQL: <code class="literal">org.hibernate.dialect.MySQL5InnoDBDialect</code>
						</li><li class="listitem">
							MariaDB: <code class="literal">org.hibernate.dialect.MySQL5InnoDBDialect</code>
						</li><li class="listitem">
							Oracle: <code class="literal">org.hibernate.dialect.Oracle10gDialect</code>
						</li><li class="listitem">
							PostgreSQL: <code class="literal">org.hibernate.dialect.PostgreSQL82Dialect</code>
						</li><li class="listitem">
							PostgreSQL plus: <code class="literal">org.hibernate.dialect.PostgresPlusDialect</code>
						</li><li class="listitem">
							Sybase: <code class="literal">org.hibernate.dialect.SybaseASE157Dialect</code>
						</li></ul></div></section><section class="section" id="eap-users-create-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">14.4. Creating users</h2></div></div></div><p>
					If you used the deployable ZIP files to install Red Hat Process Automation Manager, before you can log in to Business Central or KIE Server, you must create users. This section shows you how to create a Business Central user with the <code class="literal">admin</code>, <code class="literal">rest-all</code>, and <code class="literal">kie-server</code> roles and a KIE Server user that has the <code class="literal">kie-server</code> role. For information about roles, see <a class="xref" href="#roles-users-con_install-on-eap" title="Chapter 11. Red Hat Process Automation Manager roles and users">Chapter 11, <em>Red Hat Process Automation Manager roles and users</em></a>.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you used the installer to install Red Hat Process Automation Manager, you created at least one user during that process. The <code class="literal">EAP_HOME/standalone/configuration/application-users.properties</code> file contains application users and their passwords.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Red Hat Process Automation Manager is installed in the base directory of the Red Hat JBoss EAP installation (<code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code>).
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In a terminal application, navigate to the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin</code> directory.
						</li><li class="listitem"><p class="simpara">
							Create a user with the <code class="literal">admin</code>, <code class="literal">rest-all</code>, and <code class="literal">kie-server</code> roles that you will use to log in to Business Central.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Users with the <code class="literal">admin</code> role are Business Central administrators. Users with <code class="literal">rest-all</code> role can access Business Central REST capabilities. Users with the <code class="literal">kie-server</code> role can access KIE Server (KIE Server) REST capabilities. The <code class="literal">kie-server</code> role is mandatory for users to have access to <span class="strong strong"><strong>Manage</strong></span> and <span class="strong strong"><strong>Track</strong></span> views in Business Central.
							</p></div></div><p class="simpara">
							In the following command, replace <code class="literal">&lt;USERNAME&gt;</code> and <code class="literal">&lt;PASSWORD&gt;</code> with the user name and password of your choice:
						</p><pre class="programlisting language-bash">$ ./add-user.sh -a --user &lt;USERNAME&gt; --password &lt;PASSWORD&gt; --role admin,rest-all,kie-server</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Make sure that the specified user name is not the same as an existing user, role, or group. For example, do not create a user with the user name <code class="literal">admin</code>.
							</p><p>
								The password must have at least eight characters and must contain at least one number and one non-alphanumeric character, but not &amp; (ampersand).
							</p></div></div></li><li class="listitem"><p class="simpara">
							Create a user with the <code class="literal">kie-server</code> role that you will use to log in to KIE Server.
						</p><pre class="programlisting language-bash">$ ./add-user.sh -a --user &lt;USERNAME&gt; --password &lt;PASSWORD&gt; --role kie-server</pre></li><li class="listitem"><p class="simpara">
							Make a note of your user names and passwords.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								If you installed Business Central and KIE Server in the same server instance, you can create a single user that has both of these roles:
							</p><pre class="programlisting language-bash">$ ./add-user.sh -a --user &lt;USERNAME&gt;  --password &lt;PASSWORD&gt; --role admin,rest-all,kie-server</pre><p>
								You should install Business Central and KIE Server on different servers in production environments.
							</p></div></div></li></ol></div></section><section class="section" id="kie-server-configure-central-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">14.5. Configuring KIE Server to connect to Business Central</h2></div></div></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						This section provides a sample setup that you can use for testing purposes. Some of the values are unsuitable for a production environment, and are marked as such.
					</p></div></div><p>
					If a KIE Server is not configured in your Red Hat Process Automation Manager environment, or if you require additional KIE Servers in your Red Hat Process Automation Manager environment, you must configure a KIE Server to connect to Business Central.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you are deploying KIE Server on Red Hat OpenShift Container Platform, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-openshift-operator"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using Operators</em></span></a> document for instructions about configuring it to connect to Business Central.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Business Central and KIE Server are installed in the base directory of the Red Hat JBoss EAP installation (<code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code>) as described in the following sections:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									<a class="xref" href="#eap-dm-install-proc_install-on-eap" title="14.1. Installing Business Central from the ZIP file">Section 14.1, “Installing Business Central from the ZIP file”</a>
								</li><li class="listitem">
									<a class="xref" href="#eap_execution_server_download_install_proc_install-on-eap" title="14.2. Installing KIE Server from the ZIP file">Section 14.2, “Installing KIE Server from the ZIP file”</a>
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Users with the following roles exist:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									In Business Central, a user with the role <code class="literal">rest-all</code>
								</li><li class="listitem"><p class="simpara">
									On the KIE Server, a user with the role <code class="literal">kie-server</code>
								</p><p class="simpara">
									For more information, see <a class="xref" href="#eap-users-create-proc_install-on-eap" title="14.4. Creating users">Section 14.4, “Creating users”</a>.
								</p></li></ul></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In your Red Hat Process Automation Manager installation directory, navigate to the <code class="literal">standalone-full.xml</code> file. For example, if you use a Red Hat JBoss EAP installation for Red Hat Process Automation Manager, go to <code class="literal">$EAP_HOME/standalone/configuration/standalone-full.xml</code>.
						</li><li class="listitem"><p class="simpara">
							Open the <code class="literal">standalone-full.xml</code> file and under the <code class="literal">&lt;system-properties&gt;</code> tag, set the following JVM properties:
						</p><div class="table" id="idm140016276650992"><p class="title"><strong>Table 14.1. JVM Properties for the KIE Server instance</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"/><col style="width: 33%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016275215024" scope="col">Property</th><th align="left" valign="top" id="idm140016275213936" scope="col">Value</th><th align="left" valign="top" id="idm140016275212848" scope="col">Note</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016275215024">
										<p>
											<code class="literal">org.kie.server.id</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016275213936">
										<p>
											<code class="literal">default-kie-server</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016275212848">
										<p>
											The KIE Server ID.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016275215024">
										<p>
											<code class="literal">org.kie.server.controller</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016275213936">
										<p>
											<code class="literal">http://localhost:8080/business-central/rest/controller</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016275212848">
										<p>
											The location of Business Central. The URL for connecting to the API of Business Central.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016275215024">
										<p>
											<code class="literal">org.kie.server.controller.user</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016275213936">
										<p>
											<code class="literal">controllerUser</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016275212848">
										<p>
											The user name with the role <code class="literal">rest-all</code> who can log in to the Business Central.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016275215024">
										<p>
											<code class="literal">org.kie.server.controller.pwd</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016275213936">
										<p>
											<code class="literal">controllerUser1234;</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016275212848">
										<p>
											The password of the user who can log in to the Business Central.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016275215024">
										<p>
											<code class="literal">org.kie.server.location</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016275213936">
										<p>
											<code class="literal">http://localhost:8080/kie-server/services/rest/server</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016275212848">
										<p>
											The location of the KIE Server. The URL for connecting to the API of KIE Server.
										</p>
										</td></tr></tbody></table></div></div><div class="table" id="idm140016276548928"><p class="title"><strong>Table 14.2. JVM Properties for the Business Central instance</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"/><col style="width: 33%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016276861760" scope="col">Property</th><th align="left" valign="top" id="idm140016276860672" scope="col">Value</th><th align="left" valign="top" id="idm140016276859584" scope="col">Note</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016276861760">
										<p>
											<code class="literal">org.kie.server.user</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016276860672">
										<p>
											<code class="literal">controllerUser</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016276859584">
										<p>
											The user name with the role <code class="literal">kie-server</code>.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016276861760">
										<p>
											<code class="literal">org.kie.server.pwd</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016276860672">
										<p>
											<code class="literal">controllerUser1234;</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016276859584">
										<p>
											The password of the user.
										</p>
										</td></tr></tbody></table></div></div><p class="simpara">
							The following example shows how to configure a KIE Server instance:
						</p><pre class="programlisting language-xml">&lt;property name="org.kie.server.id" value="default-kie-server"/&gt;
&lt;property name="org.kie.server.controller" value="http://localhost:8080/business-central/rest/controller"/&gt;
&lt;property name="org.kie.server.controller.user" value="controllerUser"/&gt;
&lt;property name="org.kie.server.controller.pwd" value="controllerUser1234;"/&gt;
&lt;property name="org.kie.server.location" value="http://localhost:8080/kie-server/services/rest/server"/&gt;</pre><p class="simpara">
							The following example shows how to configure a for Business Central instance:
						</p><pre class="programlisting language-xml">&lt;property name="org.kie.server.user" value="controllerUser"/&gt;
&lt;property name="org.kie.server.pwd" value="controllerUser1234;"/&gt;</pre></li><li class="listitem"><p class="simpara">
							Send a GET request to <code class="literal">http://<span class="emphasis"><em>SERVER:PORT</em></span>/kie-server/services/rest/server/</code> to verify that KIE Server started successfully. After authentication, you receive an XML response similar to the following example:
						</p><pre class="programlisting language-xml">&lt;response type="SUCCESS" msg="Kie Server info"&gt;
    &lt;kie-server-info&gt;
        &lt;capabilities&gt;KieServer&lt;/capabilities&gt;
        &lt;capabilities&gt;BRM&lt;/capabilities&gt;
        &lt;capabilities&gt;BPM&lt;/capabilities&gt;
        &lt;capabilities&gt;CaseMgmt&lt;/capabilities&gt;
        &lt;capabilities&gt;BPM-UI&lt;/capabilities&gt;
        &lt;capabilities&gt;BRP&lt;/capabilities&gt;
        &lt;capabilities&gt;DMN&lt;/capabilities&gt;
        &lt;capabilities&gt;Swagger&lt;/capabilities&gt;
        &lt;location&gt;http://localhost:8230/kie-server/services/rest/server&lt;/location&gt;
        &lt;messages&gt;
            &lt;content&gt;Server KieServerInfo{serverId='first-kie-server', version='7.5.1.Final-redhat-1', location='http://localhost:8230/kie-server/services/rest/server', capabilities=[KieServer, BRM, BPM, CaseMgmt, BPM-UI, BRP, DMN, Swagger]}started successfully at Mon Feb 05 15:44:35 AEST 2018&lt;/content&gt;
            &lt;severity&gt;INFO&lt;/severity&gt;
            &lt;timestamp&gt;2018-02-05T15:44:35.355+10:00&lt;/timestamp&gt;
        &lt;/messages&gt;
        &lt;name&gt;first-kie-server&lt;/name&gt;
        &lt;id&gt;first-kie-server&lt;/id&gt;
        &lt;version&gt;7.5.1.Final-redhat-1&lt;/version&gt;
    &lt;/kie-server-info&gt;
&lt;/response&gt;</pre></li><li class="listitem"><p class="simpara">
							Verify successful registration:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Log in to Business Central.
								</li><li class="listitem"><p class="simpara">
									Click <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Deploy</strong></span> → <span class="strong strong"><strong>Execution Servers</strong></span>.
								</p><p class="simpara">
									If registration is successful, you will see the registered server ID.
								</p></li></ol></div></li></ol></div></section></section><section class="chapter" id="securing-passwords-eap-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">Chapter 15. Securing passwords with a keystore</h2></div></div></div><p>
				You can use a keystore to encrypt passwords that are used for communication between Business Central and KIE Server. You should encrypt both controller and KIE Server passwords. If Business Central and KIE Server are deployed to different application servers, then both application servers should use the keystore.
			</p><p>
				Use Java Cryptography Extension KeyStore (JCEKS) for your keystore because it supports symmetric keys. Use KeyTool, which is part of the JDK installation, to create a new JCEKS.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If KIE Server is not configured with JCEKS, KIE Server passwords are stored in system properties in plain text form.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						KIE Server is installed in Red Hat JBoss EAP.
					</li><li class="listitem">
						Java 8 or higher is installed.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						In the Red Hat JBoss EAP home directory, enter the following command to create a KIE Server user with the <code class="literal">kie-server</code> role and specify a password. In the following example, replace <code class="literal">&lt;USER_NAME&gt;</code> and <code class="literal">&lt;PASSWORD&gt;</code> with the user name and password of your choice.
					</p><pre class="programlisting language-bash">$&lt;EAP_HOME&gt;/bin/add-user.sh -a -e -u &lt;USER_NAME&gt; -p &lt;PASSWORD&gt; -g kie-server</pre></li><li class="listitem"><p class="simpara">
						To use KeyTool to create a JCEKS, enter the following command in the Java 8 home directory:
					</p><pre class="programlisting language-bash">$&lt;JAVA_HOME&gt;/bin/keytool -importpassword -keystore &lt;KEYSTORE_PATH&gt; -keypass &lt;ALIAS_KEY_PASSWORD&gt; -alias &lt;PASSWORD_ALIAS&gt; -storepass &lt;KEYSTORE_PASSWORD&gt; -storetype JCEKS</pre><p class="simpara">
						In this example, replace the following variables:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">&lt;KEYSTORE_PATH&gt;</code>: The path where the keystore will be stored
							</li><li class="listitem">
								<code class="literal">&lt;KEYSTORE_PASSWORD&gt;</code>: The keystore password
							</li><li class="listitem">
								<code class="literal">&lt;ALIAS_KEY_PASSWORD&gt;</code>: The password used to access values stored with the alias
							</li><li class="listitem">
								<code class="literal">&lt;PASSWORD_ALIAS&gt;</code>: The alias of the entry to the process
							</li></ul></div></li><li class="listitem">
						When prompted, enter the password for the KIE Server user that you created.
					</li><li class="listitem"><p class="simpara">
						Set the following system properties in the <code class="literal">EAP_HOME/standalone/configuration/standalone-full.xml</code> file and replace the placeholders as listed in the following table:
					</p><pre class="programlisting language-xml">    &lt;system-properties&gt;
        &lt;property name="kie.keystore.keyStoreURL" value="&lt;KEYSTORE_URL&gt;"/&gt;
        &lt;property name="kie.keystore.keyStorePwd" value="&lt;KEYSTORE_PWD&gt;"/&gt;
        &lt;property name="kie.keystore.key.server.alias" value="&lt;KEY_SERVER_ALIAS&gt;"/&gt;
        &lt;property name="kie.keystore.key.server.pwd" value="&lt;KEY_SERVER_PWD&gt;"/&gt;
        &lt;property name="kie.keystore.key.ctrl.alias" value="&lt;KEY_CONTROL_ALIAS&gt;"/&gt;
        &lt;property name="kie.keystore.key.ctrl.pwd" value="&lt;KEY_CONTROL_PWD&gt;"/&gt;
    &lt;/system-properties&gt;</pre><div class="table" id="idm140016277910896"><p class="title"><strong>Table 15.1. System properties used to load a KIE Server JCEKS</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 36%; " class="col_1"/><col style="width: 27%; " class="col_2"/><col style="width: 36%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016270777600" scope="col">System property</th><th align="left" valign="top" id="idm140016270776512" scope="col">Placeholder</th><th align="left" valign="top" id="idm140016270775424" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016270777600">
									<p>
										<code class="literal">kie.keystore.keyStoreURL</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270776512">
									<p>
										<code class="literal">&lt;KEYSTORE_URL&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270775424">
									<p>
										URL for the JCEKS that you want to use, for example <code class="literal">file:///home/kie/keystores/keystore.jceks</code>
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016270777600">
									<p>
										<code class="literal">kie.keystore.keyStorePwd</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270776512">
									<p>
										<code class="literal">&lt;KEYSTORE_PWD&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270775424">
									<p>
										Password for the JCEKS
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016270777600">
									<p>
										<code class="literal">kie.keystore.key.server.alias</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270776512">
									<p>
										<code class="literal">&lt;KEY_SERVER_ALIAS&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270775424">
									<p>
										Alias of the key for REST services where the password is stored
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016270777600">
									<p>
										<code class="literal">kie.keystore.key.server.pwd</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270776512">
									<p>
										<code class="literal">&lt;KEY_SERVER_PWD&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270775424">
									<p>
										Password of the alias for REST services with the stored password
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016270777600">
									<p>
										<code class="literal">kie.keystore.key.ctrl.alias</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270776512">
									<p>
										<code class="literal">&lt;KEY_CONTROL_ALIAS&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270775424">
									<p>
										Alias of the key for default REST Process Automation Controller where the password is stored
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016270777600">
									<p>
										<code class="literal">kie.keystore.key.ctrl.key.ctrl.pwd</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270776512">
									<p>
										<code class="literal">&lt;KEY_CONTROL_PWD&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270775424">
									<p>
										Password of the alias for default REST Process Automation Controller with the stored password
									</p>
									</td></tr></tbody></table></div></div></li><li class="listitem">
						Start KIE Server to verify the configuration.
					</li></ol></div></section><section class="chapter" id="ssh-configuring-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">Chapter 16. Configuring SSH to use RSA</h2></div></div></div><p>
				SSH is used to clone Git repositories. By default, the DSA encryption algorithm is provided by Business Central. However, some SSH clients, for example SSH clients in the Fedora 23 environment, use the RSA algorithm instead of the DSA algorithm. Business Central contains a system property that you can use to switch from DSA to RSA if required.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					SSH clients on supported configurations, for example Red Hat Enterprise Linux 7, are not affected by this issue. For a list of supported configurations, see <a class="link" href="https://access.redhat.com/articles/3405381">Red Hat Process Automation Manager 7 Supported Configurations</a>.
				</p></div></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					Complete one of the following tasks to enable this system property:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Modify the <code class="literal">~/.ssh/config</code> file on the client side as follows to force the SSH client to accept the deprecated DSA algorithm:
					</p><pre class="screen">Host &lt;SERVER_IP&gt;
       HostKeyAlgorithms +ssh-dss</pre></li><li class="listitem"><p class="simpara">
						Include the <code class="literal">-Dorg.uberfire.nio.git.ssh.algorithm=RSA</code> parameter when you start Business Central, for example:
					</p><pre class="screen">$ ./standalone.sh -c standalone-full.xml
-Dorg.uberfire.nio.git.ssh.algorithm=RSA</pre></li></ul></div></section><section class="chapter" id="verifying_the_red_hat_process_automation_manager_installation"><div class="titlepage"><div><div><h2 class="title">Chapter 17. Verifying the Red Hat Process Automation Manager installation</h2></div></div></div><p>
				After you have installed Red Hat Process Automation Manager, create an asset to verify that the installation is working.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						In a terminal window, navigate to the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin</code> directory and enter the following command to start Red Hat Process Automation Manager:
					</p><pre class="screen">./standalone.sh -c standalone-full.xml</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							If you deployed Business Central without KIE Server, you can start Business Central with the <code class="literal">standalone.sh</code> script without specifying the <code class="literal">standalone-full.xml</code> file. In this case, ensure that you make any configuration changes to the <code class="literal">standalone.xml</code> file before starting Business Central.
						</p></div></div></li><li class="listitem"><p class="simpara">
						In a web browser, enter <code class="literal">localhost:8080/business-central</code>.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								If you configured Red Hat Process Automation Manager to run from a domain name, replace <code class="literal">localhost</code> with the domain name, for example:
							</p><p class="simpara">
								<code class="literal">http://www.example.com:8080/business-central</code>
							</p></li><li class="listitem"><p class="simpara">
								If you configured Red Hat Process Automation Manager to run in a cluster, replace <code class="literal">localhost</code> with the IP address of a particular node, for example:
							</p><p class="simpara">
								<code class="literal">http://&lt;node_IP_address&gt;:8080/business-central</code>
							</p></li></ul></div></li><li class="listitem">
						Enter the <code class="literal">admin</code> user credentials that you created during installation. The Business Central home page appears.
					</li><li class="listitem">
						Select <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Deploy</strong></span> → <span class="strong strong"><strong>Execution Servers</strong></span>.
					</li><li class="listitem">
						Confirm that <span class="strong strong"><strong>default-kieserver</strong></span> is listed under <span class="strong strong"><strong>Server Configurations</strong></span>.
					</li><li class="listitem">
						Select <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
					</li><li class="listitem">
						Open the <span class="strong strong"><strong>MySpace</strong></span> space.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Try Samples</strong></span> → <span class="strong strong"><strong>Mortgages</strong></span> → <span class="strong strong"><strong>OK</strong></span>. The <span class="strong strong"><strong>Assets</strong></span> window appears.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Add Asset</strong></span> → <span class="strong strong"><strong>Data Object</strong></span>.
					</li><li class="listitem">
						Enter <code class="literal">MyDataObject</code> in the <span class="strong strong"><strong>Data Object</strong></span> field and click <span class="strong strong"><strong>OK</strong></span>.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Spaces</strong></span> → <span class="strong strong"><strong>MySpace</strong></span> → <span class="strong strong"><strong>Mortgages</strong></span> and confirm that <code class="literal">MyDataObject</code> is in the list of assets.
					</li><li class="listitem">
						Delete the <span class="strong strong"><strong>Mortgages</strong></span> project.
					</li></ol></div></section><section class="chapter" id="eap-ba-dm-run-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">Chapter 18. Running Red Hat Process Automation Manager</h2></div></div></div><p>
				Use this procedure to run the Red Hat Process Automation Manager on Red Hat JBoss EAP in standalone mode.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Red Hat Process Automation Manager is installed and configured.
					</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If you changed the default host (<code class="literal">localhost</code>) or the default port (<code class="literal">9990</code>), then before you run Red Hat Process Automation Manager, you must edit the <code class="literal">business-central.war/WEB-INF/classes/datasource-management.properties</code> and <code class="literal">business-central.war/WEB-INF/classes/security-management.properties</code> files as described in <a class="link" href="https://access.redhat.com/solutions/3519551">Solution 3519551</a>.
				</p></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In a terminal application, navigate to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin</code>.
					</li><li class="listitem"><p class="simpara">
						Run the standalone configuration:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								On Linux or UNIX-based systems:
							</p><pre class="programlisting language-bash">$ ./standalone.sh -c standalone-full.xml</pre></li><li class="listitem"><p class="simpara">
								On Windows:
							</p><pre class="programlisting language-bash">standalone.bat -c standalone-full.xml</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									If you deployed Business Central without KIE Server, you can start Business Central with the <code class="literal">standalone.sh</code> script without specifying the <code class="literal">standalone-full.xml</code> file. In this case, ensure that you make any configuration changes to the <code class="literal">standalone.xml</code> file before starting Business Central.
								</p><p>
									On Linux or UNIX-based systems:
								</p><pre class="screen">$ /standalone.sh</pre><p>
									On Windows:
								</p><pre class="programlisting language-bash">standalone.bat</pre></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
						In a web browser, open the URL <code class="literal">localhost:8080/business-central</code>.
					</p><p class="simpara">
						If you configured Red Hat Process Automation Manager to run from a domain name, replace <code class="literal">localhost</code> with the domain name, for example:
					</p><p class="simpara">
						<code class="literal">http://www.example.com:8080/business-central</code>
					</p></li><li class="listitem">
						Log in using the credentials of the user that you created for Business Central in <a class="xref" href="#eap-users-create-proc_install-on-eap" title="14.4. Creating users">Section 14.4, “Creating users”</a>.
					</li></ol></div></section><section class="chapter" id="controller-con_install-on-eap"><div class="titlepage"><div><div><h2 class="title">Chapter 19. Installing and running the headless Process Automation Manager controller</h2></div></div></div><p>
				You can configure KIE Server to run in managed or unmanaged mode. If KIE Server is unmanaged, you must manually create and maintain KIE containers (deployment units). If KIE Server is managed, the Process Automation Manager controller manages the KIE Server configuration and you interact with the Process Automation Manager controller to create and maintain KIE containers.
			</p><p>
				Business Central has an embedded Process Automation Manager controller. If you install Business Central, use the <span class="strong strong"><strong>Execution Server</strong></span> page to create and maintain KIE containers. If you want to automate KIE Server management without Business Central, you can use the headless Process Automation Manager controller.
			</p><section class="section" id="controller-eap-install-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">19.1. Installing the headless Process Automation Manager controller</h2></div></div></div><p>
					You can install the headless Process Automation Manager controller and use the REST API or the KIE Server Java Client API to interact with it.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							A backed-up Red Hat JBoss EAP installation version 7.3 is available. The base directory of the Red Hat JBoss EAP installation is referred to as <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code>.
						</li><li class="listitem">
							Sufficient user permissions to complete the installation are granted.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Product:</strong></span> Process Automation Manager
								</li><li class="listitem">
									<span class="strong strong"><strong>Version:</strong></span> 7.10
								</li></ul></div></li><li class="listitem">
							Download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Add Ons</strong></span> (the <code class="literal">rhpam-7.10.0-add-ons.zip</code> file).
						</li><li class="listitem">
							Extract the <code class="literal">rhpam-7.10.0-add-ons.zip</code> file. The <code class="literal">rhpam-7.10.0-controller-ee7.zip</code> file is in the extracted directory.
						</li><li class="listitem">
							Extract the <code class="literal">rhpam-7.10.0-controller-ee7</code> archive to a temporary directory. In the following examples this directory is called <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span></code>.
						</li><li class="listitem"><p class="simpara">
							Copy the <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span>/rhpam-7.10.0-controller-ee7/controller.war</code> directory to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/</code>.
						</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
								Ensure that the names of the headless Process Automation Manager controller deployments you copy do not conflict with your existing deployments in the Red Hat JBoss EAP instance.
							</p></div></div></li><li class="listitem">
							Copy the contents of the <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span>/rhpam-7.10.0-controller-ee7/SecurityPolicy/</code> directory to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin</code>.
						</li><li class="listitem">
							When prompted to overwrite files, select <span class="strong strong"><strong>Yes</strong></span>.
						</li><li class="listitem">
							In the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/</code> directory, create an empty file named <code class="literal">controller.war.dodeploy</code>. This file ensures that the headless Process Automation Manager controller is automatically deployed when the server starts.
						</li></ol></div><section class="section" id="controller-eap-users-create-proc_install-on-eap"><div class="titlepage"><div><div><h3 class="title">19.1.1. Creating a headless Process Automation Manager controller user</h3></div></div></div><p>
						Before you can use the headless Process Automation Manager controller, you must create a user that has the <code class="literal">kie-server</code> role.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								The headless Process Automation Manager controller is installed in the base directory of the Red Hat JBoss EAP installation (<code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code>).
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								In a terminal application, navigate to the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin</code> directory.
							</li><li class="listitem"><p class="simpara">
								Enter the following command and replace <code class="literal">&lt;USER_NAME&gt;</code> and <code class="literal">&lt;PASSWORD&gt;</code> with the user name and password of your choice.
							</p><pre class="programlisting language-bash">$ ./add-user.sh -a --user &lt;USER_NAME&gt; --password &lt;PASSWORD&gt; --role kie-server</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									Make sure that the specified user name is not the same as an existing user, role, or group. For example, do not create a user with the user name <code class="literal">admin</code>.
								</p><p>
									The password must have at least eight characters and must contain at least one number and one non-alphanumeric character, but not &amp; (ampersand).
								</p></div></div></li><li class="listitem">
								Make a note of your user name and password.
							</li></ol></div></section><section class="section" id="controller-eap-configure-proc_install-on-eap"><div class="titlepage"><div><div><h3 class="title">19.1.2. Configuring KIE Server and the headless Process Automation Manager controller</h3></div></div></div><p>
						If KIE Server will be managed by the headless Process Automation Manager controller, you must edit the <code class="literal">standalone-full.xml</code> file in KIE Server installation and the <code class="literal">standalone.xml</code> file in the headless Process Automation Manager controller installation.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								KIE Server is installed in an <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code>.
							</li><li class="listitem"><p class="simpara">
								The headless Process Automation Manager controller is installed in an <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code>.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									You should install KIE Server and the headless Process Automation Manager controller on different servers in production environments. However, if you install KIE Server and the headless Process Automation Manager controller on the same server, for example in a development environment, make these changes in the shared <code class="literal">standalone-full.xml</code> file.
								</p></div></div></li><li class="listitem">
								On KIE Server nodes, a user with the <code class="literal">kie-server</code> role exists.
							</li><li class="listitem"><p class="simpara">
								On the server nodes, a user with the <code class="literal">kie-server</code> role exists.
							</p><p class="simpara">
								For more information, see <a class="xref" href="#eap-users-create-proc_install-on-eap" title="14.4. Creating users">Section 14.4, “Creating users”</a>.
							</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								In the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/standalone-full.xml</code> file, add the following properties to the <code class="literal">&lt;system-properties&gt;</code> section and replace <code class="literal">&lt;USERNAME&gt;</code> and <code class="literal">&lt;USER_PWD&gt;</code> with the credentials of a user with the <code class="literal">kie-server</code> role:
							</p><pre class="programlisting language-xml">   &lt;property name="org.kie.server.user" value="&lt;USERNAME&gt;"/&gt;
   &lt;property name="org.kie.server.pwd" value="&lt;USER_PWD&gt;"/&gt;</pre></li><li class="listitem"><p class="simpara">
								In the KIE Server <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/standalone-full.xml</code> file, add the following properties to the <code class="literal">&lt;system-properties&gt;</code> section:
							</p><pre class="programlisting language-xml">  &lt;property name="org.kie.server.controller.user" value="&lt;CONTROLLER_USER&gt;"/&gt;
  &lt;property name="org.kie.server.controller.pwd" value="&lt;CONTROLLER_PWD&gt;"/&gt;
  &lt;property name="org.kie.server.id" value="&lt;KIE_SERVER_ID&gt;"/&gt;
  &lt;property name="org.kie.server.location" value="http://&lt;HOST&gt;:&lt;PORT&gt;/kie-server/services/rest/server"/&gt;
  &lt;property name="org.kie.server.controller" value="&lt;CONTROLLER_URL&gt;"/&gt;</pre></li><li class="listitem"><p class="simpara">
								In this file, replace the following values:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										Replace <code class="literal">&lt;CONTROLLER_USER&gt;</code> and <code class="literal">&lt;CONTROLLER_PWD&gt;</code> with the credentials of a user with the <code class="literal">kie-server</code> role.
									</li><li class="listitem">
										Replace <code class="literal">&lt;KIE_SERVER_ID&gt;</code> with the ID or name of the KIE Server installation, for example, <code class="literal">rhpam-7.10.0-kie-server-1</code>.
									</li><li class="listitem">
										Replace <code class="literal">&lt;HOST&gt;</code> with the ID or name of the KIE Server host, for example, <code class="literal">localhost</code> or <code class="literal">192.7.8.9</code>.
									</li><li class="listitem"><p class="simpara">
										Replace <code class="literal">&lt;PORT&gt;</code> with the port of the KIE Server host, for example, <code class="literal">8080</code>.
									</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
											The <code class="literal">org.kie.server.location</code> property specifies the location of KIE Server.
										</p></div></div></li><li class="listitem">
										Replace <code class="literal">&lt;CONTROLLER_URL&gt;</code> with the URL of the headless Process Automation Manager controller. KIE Server connects to this URL during startup.
									</li></ul></div></li></ol></div></section></section><section class="section" id="controller-eap-run-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">19.2. Running the headless Process Automation Manager controller</h2></div></div></div><p>
					After you have installed the headless Process Automation Manager controller on Red Hat JBoss EAP, use this procedure to run the headless Process Automation Manager controller.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The headless Process Automation Manager controller is installed and configured in the base directory of the Red Hat JBoss EAP installation (<code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code>).
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In a terminal application, navigate to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin</code>.
						</li><li class="listitem"><p class="simpara">
							If you installed the headless Process Automation Manager controller on the same Red Hat JBoss EAP instance as the Red Hat JBoss EAP instance where you installed the KIE Server, enter one of the following commands:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									On Linux or UNIX-based systems:
								</p><pre class="programlisting language-bash">$ ./standalone.sh -c standalone-full.xml</pre></li><li class="listitem"><p class="simpara">
									On Windows:
								</p><pre class="programlisting language-bash">standalone.bat -c standalone-full.xml</pre></li></ul></div></li><li class="listitem"><p class="simpara">
							If you installed the headless Process Automation Manager controller on a separate Red Hat JBoss EAP instance from the Red Hat JBoss EAP instance where you installed the KIE Server, start the headless Process Automation Manager controller with the <code class="literal">standalone.sh</code> script:
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								In this case, ensure that you made all required configuration changes to the <code class="literal">standalone.xml</code> file.
							</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									On Linux or UNIX-based systems:
								</p><pre class="programlisting language-bash">$ ./standalone.sh</pre></li><li class="listitem"><p class="simpara">
									On Windows:
								</p><pre class="programlisting language-bash">standalone.bat</pre></li></ul></div></li><li class="listitem"><p class="simpara">
							To verify that the headless Process Automation Manager controller is working on Red Hat JBoss EAP, enter the following command where <code class="literal">&lt;CONTROLLER&gt;</code> and <code class="literal">&lt;CONTROLLER_PWD&gt;</code> is the user name and password combination that you created in <a class="xref" href="#controller-eap-users-create-proc_install-on-eap" title="19.1.1. Creating a headless Process Automation Manager controller user">Section 19.1.1, “Creating a headless Process Automation Manager controller user”</a>. The output of this command provides information about the KIE Server instance.
						</p><pre class="screen">curl -X GET "http://&lt;HOST&gt;:&lt;PORT&gt;/controller/rest/controller/management/servers" -H  "accept: application/xml" -u '&lt;CONTROLLER&gt;:&lt;CONTROLLER_PWD&gt;'</pre></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Alternatively, you can use the KIE Server Java API Client to access the headless Process Automation Manager controller.
					</p></div></div></section></section><section class="chapter" id="run-dc-standalone-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">Chapter 20. Configuring and running standalone Business Central</h2></div></div></div><p>
				You can use the Business Central standalone JAR file to run Business Central without deploying it to an application server. You can use sample configuration files to run the Business Central standalone JAR file out of the box or you can customize the sampfiles for your requirements.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					This JAR file is supported only when it is run on Red Hat Enterprise Linux.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Business Central Standalone</strong></span> (<code class="literal">rhpam-7.10.0-business-central-standalone.jar</code>) and the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Add Ons</strong></span> (<code class="literal">rhpam-7.10.0-add-ons.zip</code>) files have been downloaded from the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?downloadType=distributions&amp;product=rhpam&amp;productChanged=yes">Software Downloads</a> page for Red Hat Process Automation Manager 7.10, as described in <a class="xref" href="#install-download-proc_install-on-eap" title="Chapter 12. Downloading the Red Hat Process Automation Manager installation files">Chapter 12, <em>Downloading the Red Hat Process Automation Manager installation files</em></a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Extract the downloaded <code class="literal">rhpam-7.10.0-addons.zip</code> to a temporary directory. This archive includes the <code class="literal">rhpam-7.10.0-standalone-sample-configuration.zip</code> file.
					</li><li class="listitem"><p class="simpara">
						Extract the <code class="literal">rhpam-7.10.0-standalone-sample-configuration.zip</code> file to the directory that contains the <code class="literal">rhpam-7.10.0-business-central-standalone.jar</code> file. The <code class="literal">rhpam-7.10.0-standalone-sample-configuration.zip</code> file contains the following sample configuration files:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">application-roles.properties</code>
							</li><li class="listitem">
								<code class="literal">application-users.properties</code>
							</li><li class="listitem"><p class="simpara">
								<code class="literal">sample-standalone-config.yml</code>
							</p><p class="simpara">
								You can run the <code class="literal">rhpam-7.10.0-business-central-standalone.jar</code> files with the sample data provided in the configuration files or you can customize the data for your requirements.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						To customize the configuration data, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Edit the <code class="literal">application-users.properties</code> file. Include an administrative user and if this Business Central instance will be a Process Automation Manager controller for KIE Server, include a Process Automation Manager controller user, for example:
							</p><pre class="screen">rhpamAdmin=password1</pre></li><li class="listitem"><p class="simpara">
								Edit the <code class="literal">application-roles.properties</code> file to assign roles to the users that you included in the <code class="literal">application-users.properties</code> file, for example:
							</p><pre class="screen">rhpamAdmin=admin
controllerUser=kie-server</pre><p class="simpara">
								For more information, see <a class="xref" href="#roles-users-con_install-on-eap" title="Chapter 11. Red Hat Process Automation Manager roles and users">Chapter 11, <em>Red Hat Process Automation Manager roles and users</em></a>.
							</p></li><li class="listitem">
								Review the contents of the the <code class="literal">sample-standalone-config.yml</code> configuration file and update as required.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						To run the Business Central standalone JAR file, enter the following command:
					</p><pre class="screen">java -jar rhpam-7.10.0-business-central-standalone.jar -s sample-standalone-config.yml</pre></li><li class="listitem"><p class="simpara">
						To set application properties when you run the JAR file, include the <code class="literal">-D&lt;PROPERTY&gt;=&lt;VALUE&gt;</code> parameter in the command, where <code class="literal">&lt;PROPERTY&gt;</code> is the name of a supported application property and <code class="literal">&lt;VALUE&gt;</code> is the property value:
					</p><pre class="screen">java -jar rhpam-7.10.0-business-central-standalone.jar -s sample-standalone-config.yml -D&lt;PROPERTY&gt;=&lt;VALUE&gt; -D&lt;PROPERTY&gt;=&lt;VALUE&gt;</pre><p class="simpara">
						For example, to run Business Central and connect to KIE Server as the user <code class="literal">controllerUser</code>, enter:
					</p><pre class="screen">java -jar {PRODUCT_FILE}-{URL_COMPONENT_CENTRAL}-standalone.jar \
-s sample-standalone-config.yml \
-Dorg.kie.server.user=controllerUser
-Dorg.kie.server.pwd=controllerUser1234</pre><p class="simpara">
						Doing this enables you to deploy containers to KIE Server. See <a class="xref" href="#business-central-system-properties-ref_install-on-eap" title="Appendix A. Business Central system properties">Appendix A, <em>Business Central system properties</em></a> for more information.
					</p></li></ol></div></section><section class="chapter" id="maven-repo-using-con_install-on-eap"><div class="titlepage"><div><div><h2 class="title">Chapter 21. Maven settings and repositories for Red Hat Process Automation Manager</h2></div></div></div><p>
				When you create a Red Hat Process Automation Manager project, Business Central uses the Maven repositories that are configured for Business Central. You can use the Maven global or user settings to direct all Red Hat Process Automation Manager projects to retrieve dependencies from the public Red Hat Process Automation Manager repository by modifying the Maven project object model (POM) file (<code class="literal">pom.xml</code>). You can also configure Business Central and KIE Server to use an external Maven repository or prepare a Maven mirror for offline use.
			</p><p>
				For more information about Red Hat Process Automation Manager packaging and deployment options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_and_managing_red_hat_process_automation_manager_services#assembly-packaging-deploying"><span class="emphasis"><em>Packaging and deploying a Red Hat Process Automation Manager project</em></span></a>.
			</p><section class="section" id="maven-managing-dependencies-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">21.1. Adding Maven dependencies for Red Hat Process Automation Manager</h2></div></div></div><p>
					To use the correct Maven dependencies in your Red Hat Process Automation Manager project, add the Red Hat Business Automation bill of materials (BOM) files to the project’s <code class="literal">pom.xml</code> file. The Red Hat Business Automation BOM applies to both Red Hat Decision Manager and Red Hat Process Automation Manager. When you add the BOM files, the correct versions of transitive dependencies from the provided Maven repositories are included in the project.
				</p><p>
					For more information about the Red Hat Business Automation BOM, see <a class="link" href="https://access.redhat.com/solutions/3405361">What is the mapping between Red Hat Process Automation Manager and the Maven library version?</a>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Declare the Red Hat Business Automation BOM in the <code class="literal">pom.xml</code> file:
						</p><div class="informalexample"><pre class="programlisting language-xml">&lt;dependencyManagement&gt;
 &lt;dependencies&gt;
  &lt;dependency&gt;
   &lt;groupId&gt;com.redhat.ba&lt;/groupId&gt;
   &lt;artifactId&gt;ba-platform-bom&lt;/artifactId&gt;
   &lt;version&gt;7.10.0.redhat-00002&lt;/version&gt;
   &lt;type&gt;pom&lt;/type&gt;
   &lt;scope&gt;import&lt;/scope&gt;
  &lt;/dependency&gt;
 &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;
&lt;dependencies&gt;
&lt;!-- Your dependencies --&gt;
&lt;/dependencies&gt;</pre></div></li><li class="listitem">
							Declare dependencies required for your project in the <code class="literal">&lt;dependencies&gt;</code> tag. After you import the product BOM into your project, the versions of the user-facing product dependencies are defined so you do not need to specify the <code class="literal">&lt;version&gt;</code> sub-element of these <code class="literal">&lt;dependency&gt;</code> elements. However, you must use the <code class="literal">&lt;dependency&gt;</code> element to declare dependencies which you want to use in your project.
						</li><li class="listitem"><p class="simpara">
							For standalone projects that are not authored in Business Central, specify all dependencies required for your projects. In projects that you author in Business Central, the basic decision engine and process engine dependencies are provided automatically by Business Central.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									For a basic Red Hat Process Automation Manager project, declare the following dependencies, depending on the features that you want to use:
								</p><div class="formalpara"><p class="title"><strong>Embedded process engine dependencies</strong></p><p>
										
<pre class="programlisting language-xml">&lt;!-- Public KIE API --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-api&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Core dependencies for process engine --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-flow&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-flow-builder&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-bpmn2&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-runtime-manager&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-persistence-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-query-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-audit&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-kie-services&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Dependency needed for default WorkItemHandler implementations. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-workitems-core&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Logging dependency. You can use any logging framework compatible with slf4j. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
  &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
  &lt;version&gt;${logback.version}&lt;/version&gt;
&lt;/dependency&gt;</pre>
									</p></div></li><li class="listitem"><p class="simpara">
									For a Red Hat Process Automation Manager project that uses CDI, you typically declare the following dependencies:
								</p><div class="formalpara"><p class="title"><strong>CDI-enabled process engine dependencies</strong></p><p>
										
<pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-api&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-kie-services&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-services-cdi&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
									</p></div></li><li class="listitem"><p class="simpara">
									For a basic Red Hat Process Automation Manager project, declare the following dependencies:
								</p><div class="formalpara"><p class="title"><strong>Embedded decision engine dependencies</strong></p><p>
										
<pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Dependency for persistence support. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-persistence-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Dependencies for decision tables, templates, and scorecards.
For other assets, declare org.drools:business-central-models-* dependencies. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-decisiontables&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-templates&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-scorecards&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Dependency for loading KJARs from a Maven repository using KieScanner. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-ci&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
									</p></div></li><li class="listitem"><p class="simpara">
									To use the KIE Server, declare the following dependencies:
								</p><div class="formalpara"><p class="title"><strong>Client application KIE Server dependencies</strong></p><p>
										
<pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie.server&lt;/groupId&gt;
  &lt;artifactId&gt;kie-server-client&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
									</p></div></li><li class="listitem"><p class="simpara">
									To create a remote client for Red Hat Process Automation Manager, declare the following dependency:
								</p><div class="formalpara"><p class="title"><strong>Client dependency</strong></p><p>
										
<pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.uberfire&lt;/groupId&gt;
  &lt;artifactId&gt;uberfire-rest-client&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
									</p></div></li><li class="listitem"><p class="simpara">
									When creating a JAR file that includes assets, such as rules and process definitions, specify the packaging type for your Maven project as <code class="literal">kjar</code> and use <code class="literal">org.kie:kie-maven-plugin</code> to process the <code class="literal">kjar</code> packaging type located under the <code class="literal">&lt;project&gt;</code> element. In the following example, <code class="literal">${kie.version}</code> is the Maven library version listed in <a class="link" href="https://access.redhat.com/solutions/3405361">What is the mapping between Red Hat Process Automation Manager and the Maven library version?</a>:
								</p><pre class="programlisting language-xml">&lt;packaging&gt;kjar&lt;/packaging&gt;
&lt;build&gt;
 &lt;plugins&gt;
  &lt;plugin&gt;
   &lt;groupId&gt;org.kie&lt;/groupId&gt;
   &lt;artifactId&gt;kie-maven-plugin&lt;/artifactId&gt;
   &lt;version&gt;${kie.version}&lt;/version&gt;
   &lt;extensions&gt;true&lt;/extensions&gt;
  &lt;/plugin&gt;
 &lt;/plugins&gt;
&lt;/build&gt;</pre></li></ul></div></li></ol></div></section><section class="section" id="maven-external-configure-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">21.2. Configuring an external Maven repository for Business Central and KIE Server</h2></div></div></div><p>
					You can configure Business Central and KIE Server to use an external Maven repository, such as Nexus or Artifactory, instead of the built-in repository. This enables Business Central and KIE Server to access and download artifacts that are maintained in the external Maven repository.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Artifacts in the repository do not receive automated security patches because Maven requires that artifacts be immutable. As a result, artifacts that are missing patches for known security flaws will remain in the repository to avoid breaking builds that depend on them. The version numbers of patched artifacts are incremented. For more information, see <a class="link" href="https://access.redhat.com/maven-repository">JBoss Enterprise Maven Repository</a>.
					</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						For information about configuring an external Maven repository for an authoring environment on Red Hat OpenShift Container Platform, see the following documents:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#operator-deploy-central-proc_openshift-operator"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using Operators</em></span></a>
							</li><li class="listitem">
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-openshift-templates"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using templates</em></span></a>
							</li></ul></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Business Central and KIE Server are installed. For installation options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Create a Maven <code class="literal">settings.xml</code> file with connection and access details for your external repository. For details about the <code class="literal">settings.xml</code> file, see the Maven <a class="link" href="https://maven.apache.org/settings.html">Settings Reference</a>.
						</li><li class="listitem">
							Save the file in a known location, for example, <code class="literal">/opt/custom-config/settings.xml</code>.
						</li><li class="listitem">
							In your Red Hat Process Automation Manager installation directory, navigate to the <code class="literal">standalone-full.xml</code> file. For example, if you use a Red Hat JBoss EAP installation for Red Hat Process Automation Manager, go to <code class="literal">$EAP_HOME/standalone/configuration/standalone-full.xml</code>.
						</li><li class="listitem"><p class="simpara">
							Open <code class="literal">standalone-full.xml</code> and under the <code class="literal">&lt;system-properties&gt;</code> tag, set the <code class="literal">kie.maven.settings.custom</code> property to the full path name of the <code class="literal">settings.xml</code> file.
						</p><p class="simpara">
							For example:
						</p><pre class="programlisting language-xml">&lt;property name="kie.maven.settings.custom" value="/opt/custom-config/settings.xml"/&gt;</pre></li><li class="listitem">
							Start or restart Business Central and KIE Server.
						</li></ol></div><div class="formalpara"><p class="title"><strong>Next steps</strong></p><p>
						For each Business Central project that you want to export or push as a KJAR artifact to the external Maven repository, you must add the repository information in the project <code class="literal">pom.xml</code> file. For instructions, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_and_managing_red_hat_process_automation_manager_services#maven-external-export-proc_packaging-deploying"><span class="emphasis"><em>Packaging and deploying a Red Hat Process Automation Manager project</em></span></a>.
					</p></div></section><section class="section" id="offline-repo-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">21.3. Preparing a Maven mirror repository for offline use</h2></div></div></div><p>
					If your Red Hat Process Automation Manager deployment does not have outgoing access to the public Internet, you must prepare a Maven repository with a mirror of all the necessary artifacts and make this repository available to your environment.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You do not need to complete this procedure if your Red Hat Process Automation Manager deployment is connected to the Internet.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							A computer that has outgoing access to the public Internet is available.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							On the computer that has an outgoing connection to the public Internet, complete the following steps:
						</li><li class="listitem"><p class="simpara">
							Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Product:</strong></span> Red Hat Process Automation Manager
								</li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>Version:</strong></span> 7.10
								</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
											Download and extract the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Offliner Content List</strong></span> (<code class="literal">rhpam-7.10.0-offliner.zip</code>) product deliverable file.
										</li><li class="listitem">
											Extract the contents of the <code class="literal">rhpam-7.10.0-offliner.zip</code> file into any directory.
										</li><li class="listitem"><p class="simpara">
											Change to the directory and enter the following command:
										</p><pre class="screen">./offline-repo-builder.sh offliner.txt</pre><p class="simpara">
											This command creates the <code class="literal">repository</code> subdirectory and downloads the necessary artifacts into this subdirectory. This is the mirror repository.
										</p><p class="simpara">
											If a message reports that some downloads have failed, run the same command again. If downloads fail again, contact Red Hat support.
										</p></li></ol></div></li></ul></div></li><li class="listitem"><p class="simpara">
							If you developed services outside of Business Central and they have additional dependencies, add the dependencies to the mirror repository. If you developed the services as Maven projects, you can use the following steps to prepare these dependencies automatically. Complete the steps on the computer that has an outgoing connection to the public Internet.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Create a backup of the local Maven cache directory (<code class="literal">~/.m2/repository</code>) and then clear the directory.
								</li><li class="listitem">
									Build the source of your projects using the <code class="literal">mvn clean install</code> command.
								</li><li class="listitem"><p class="simpara">
									For every project, enter the following command to ensure that Maven downloads all runtime dependencies for all the artifacts generated by the project:
								</p><pre class="screen">mvn -e -DskipTests dependency:go-offline -f /path/to/project/pom.xml --batch-mode -Djava.net.preferIPv4Stack=true</pre><p class="simpara">
									Replace <code class="literal">/path/to/project/pom.xml</code> with the path of the <code class="literal">pom.xml</code> file of the project.
								</p></li><li class="listitem">
									Copy the contents of the local Maven cache directory (<code class="literal">~/.m2/repository</code>) to the <code class="literal">repository</code> subdirectory that was created.
								</li></ol></div></li><li class="listitem">
							Copy the contents of the <code class="literal">repository</code> subdirectory to a directory on the computer on which you deployed Red Hat Process Automation Manager. This directory becomes the offline Maven mirror repository.
						</li><li class="listitem">
							Create and configure a <code class="literal">settings.xml</code> file for your Red Hat Process Automation Manager deployment as described in <a class="xref" href="#maven-external-configure-proc_install-on-eap" title="21.2. Configuring an external Maven repository for Business Central and KIE Server">Section 21.2, “Configuring an external Maven repository for Business Central and KIE Server”</a>.
						</li><li class="listitem"><p class="simpara">
							Make the following changes in the <code class="literal">settings.xml</code> file:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Under the <code class="literal">&lt;profile&gt;</code> tag, if a <code class="literal">&lt;repositories&gt;</code> or <code class="literal">&lt;pluginRepositores&gt;</code> tag is missing, add the missing tags.
								</li><li class="listitem"><p class="simpara">
									Under <code class="literal">&lt;repositories&gt;</code> add the following content:
								</p><pre class="programlisting language-xml">&lt;repository&gt;
  &lt;id&gt;offline-repository&lt;/id&gt;
  &lt;url&gt;file:///path/to/repo&lt;/url&gt;
  &lt;releases&gt;
    &lt;enabled&gt;true&lt;/enabled&gt;
  &lt;/releases&gt;
  &lt;snapshots&gt;
    &lt;enabled&gt;false&lt;/enabled&gt;
  &lt;/snapshots&gt;
&lt;/repository&gt;</pre><p class="simpara">
									Replace <code class="literal">/path/to/repo</code> with the full path to the local Maven mirror repository directory.
								</p></li><li class="listitem"><p class="simpara">
									Under <code class="literal">&lt;pluginRepositories&gt;</code> add the following content:
								</p><pre class="programlisting language-xml">&lt;repository&gt;
  &lt;id&gt;offline-plugin-repository&lt;/id&gt;
  &lt;url&gt;file:///path/to/repo&lt;/url&gt;
  &lt;releases&gt;
    &lt;enabled&gt;true&lt;/enabled&gt;
  &lt;/releases&gt;
  &lt;snapshots&gt;
    &lt;enabled&gt;false&lt;/enabled&gt;
  &lt;/snapshots&gt;
&lt;/repository&gt;</pre><p class="simpara">
									Replace <code class="literal">/path/to/repo</code> with the full path to the local Maven mirror repository directory.
								</p></li></ul></div></li><li class="listitem">
							Set the <code class="literal">kie.maven.offline.force</code> property for Business Central to <code class="literal">true</code>. For instructions about setting properties for Business Central, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#business-central-system-properties-ref_install-on-eap"><span class="emphasis"><em>Installing and configuring Red Hat Process Automation Manager on Red Hat JBoss EAP 7.3</em></span></a>.
						</li></ol></div></section></section><section class="chapter" id="git-import-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">Chapter 22. Importing projects from Git repositories</h2></div></div></div><p>
				Git is a distributed version control system. It implements revisions as commit objects. When you save your changes to a repository, a new commit object in the Git repository is created.
			</p><p>
				Business Central uses Git to store project data, including assets such as rules and processes. When you create a project in Business Central, it is added to a Git repository that is embedded in Business Central. If you have projects in other Git repositories, you can import those projects into the Business Central Git repository through Business Central spaces.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Red Hat Process Automation Manager projects exist in an external Git repository.
					</li><li class="listitem">
						You have the credentials required for read access to that external Git repository.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In Business Central, click <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
					</li><li class="listitem">
						Select or create the space into which you want to import the projects. The default space is <span class="strong strong"><strong>MySpace</strong></span>.
					</li><li class="listitem"><p class="simpara">
						To import a project, do one of the following:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Click <span class="strong strong"><strong>Import Project</strong></span>.
							</li><li class="listitem">
								Select <span class="strong strong"><strong>Import Project</strong></span> from the drop-down list.
							</li></ul></div></li><li class="listitem">
						In the <span class="strong strong"><strong>Import Project</strong></span> window, enter the URL and credentials for the Git repository that contains the projects that you want to import and click <span class="strong strong"><strong>Import</strong></span>. The projects are added to the Business Central Git repository and are available from the current space.
					</li></ol></div></section><section class="chapter" id="customizing_the_branding_of_business_central"><div class="titlepage"><div><div><h2 class="title">Chapter 23. Customizing the branding of Business Central</h2></div></div></div><p>
				You can customize the branding of the Business Central login page and application header by replacing the images with your own.
			</p><section class="section" id="central-login-customize-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">23.1. Customizing the Business Central login page</h2></div></div></div><p>
					You can customize the company logo and the project logo on the Business Central login page.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Start Red Hat JBoss EAP and open Business Central in a web browser.
						</li><li class="listitem">
							Copy an SVG format image to the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/business-central.war/img/</code> directory in your Red Hat Process Automation Manager installation.
						</li><li class="listitem">
							In the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/business-central.war/img/</code> directory, either move or rename the existing <code class="literal">redhat_logo.png</code> file.
						</li><li class="listitem">
							Rename your PNG file <code class="literal">redhat_logo.png</code>.
						</li><li class="listitem">
							To change the project logo that appears above the <span class="strong strong"><strong>User name</strong></span> and <span class="strong strong"><strong>Password</strong></span> fields, replace the default image <code class="literal">BC_Logo.png</code> with a new SVG file.
						</li><li class="listitem">
							Force a full reload of the login page, bypassing the cache, to view the changes. For example, in most Linux and Windows web browsers, press Ctrl+F5.
						</li></ol></div></section><section class="section" id="central-app-header-customize-proc"><div class="titlepage"><div><div><h2 class="title">23.2. Customizing Business Central application header</h2></div></div></div><p>
					You can customize the Business Central application header.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Start Red Hat JBoss EAP, open Business Central in a web browser, and log in with your user credentials.
						</li><li class="listitem">
							Copy your new application header image in the SVG format to the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/business-central.war/banner/</code> directory in your Red Hat Process Automation Manager installation.
						</li><li class="listitem">
							Open the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/business-central.war/banner/banner.html</code> file in a text editor.
						</li><li class="listitem"><p class="simpara">
							Replace <code class="literal">logo.png</code> in the <code class="literal">&lt;img&gt;</code> tag with the file name of your new image:admin-and-config/
						</p><pre class="screen">&lt;img src="banner/logo.png"/&gt;</pre></li><li class="listitem">
							Force a full reload of the login page, bypassing the cache, to view the changes. For example, in most Linux and Windows web browsers, press Ctrl+F5.
						</li></ol></div></section></section><section class="chapter" id="ldap-ssl-con_install-on-eap"><div class="titlepage"><div><div><h2 class="title">Chapter 24. Integrating LDAP and SSL</h2></div></div></div><p>
				With Red Hat Process Automation Manager you can integrate LDAP and SSL through RH-SSO. For more information, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_single_sign-on/7.4/html-single/server_administration_guide/"><span class="emphasis"><em>Red Hat Single Sign-On Server Administration Guide</em></span></a>.
			</p></section><section class="chapter" id="dashbuilder-runtimes-con_install-on-eap"><div class="titlepage"><div><div><h2 class="title">Chapter 25. Dashbuilder Runtime</h2></div></div></div><p>
				Dashbuilder Runtime is an add-on Red Hat Process Automation Manager application WAR that you can use to view dashboards created in and exported from Business Central. This is useful for reviewing business metrics in Red Hat JBoss EAP installations that do not have Business Central.
			</p><p>
				Navigation between the pages of a dashboard in Dashbuilder Runtime is identical to navigation in the Business Central where the dashboard was created. If a page belongs to a group, that group is imported to Dashbuilder Runtime as well as the page. If a page is imported to Dashbuilder Runtime but not used for navigation, then the page is added to the <span class="strong strong"><strong>Runtime Dashboards</strong></span> menu group. If no navigation is exported then all pages are added to the <span class="strong strong"><strong>Runtime Dashboards</strong></span> menu group.
			</p><section class="section" id="installing-dashbuilder-proc_install-on-eap"><div class="titlepage"><div><div><h2 class="title">25.1. Installing Dashbuilder Runtime</h2></div></div></div><p>
					To install Dashbuilder Runtime, download the Dashbuilder Runtime WAR and create a user with the <code class="literal">admin</code> role.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have created and exported a dashboard in Business Central. For more information about exporting Dashbuilder data, see the "Exporting and importing Dashbuilder data" section in the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/managing_red_hat_process_automation_manager_and_kie_server_settings"><span class="emphasis"><em>Configuring Business Central settings and properties</em></span></a> guide.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Product:</strong></span> Process Automation Manager
								</li><li class="listitem">
									<span class="strong strong"><strong>Version:</strong></span> 7.10
								</li></ul></div></li><li class="listitem">
							Download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Add Ons</strong></span> (<code class="literal">rhpam-7.10.0-add-ons.zip</code>) and extract the ZIP file.
						</li><li class="listitem">
							Navigate to the directory that contains the extracted files and extract the <code class="literal">rhpam-7.10.0-dashbuilder-runtime.zip</code> file.
						</li><li class="listitem">
							Copy the contents of the <code class="literal">dashbuilder-runtime.zip</code> file that you extracted into the <code class="literal">&lt;EAP_HOME&gt;/standalone/deployments</code> folder.
						</li><li class="listitem"><p class="simpara">
							In the Red Hat JBoss EAP home directory, enter the following command to create a user with the <code class="literal">admin</code> role and specify a password. In the following example, replace <code class="literal">&lt;USER_NAME&gt;</code> and <code class="literal">&lt;PASSWORD&gt;</code> with the user name and password of your choice.
						</p><pre class="programlisting language-bash">$&lt;EAP_HOME&gt;/bin/add-user.sh -a -e -u &lt;USER_NAME&gt; -p &lt;PASSWORD&gt; -g admin</pre></li><li class="listitem">
							In a terminal application, navigate to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin</code>.
						</li><li class="listitem"><p class="simpara">
							Enter the following command to start Red Hat JBoss EAP:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									On Linux or UNIX-based systems:
								</p><pre class="programlisting language-bash">$ ./standalone.sh -c standalone-full.xml</pre></li><li class="listitem"><p class="simpara">
									On Windows:
								</p><pre class="programlisting language-bash">standalone.bat -c standalone-full.xml</pre></li></ul></div></li><li class="listitem">
							In a web browser, open the URL <code class="literal">http://localhost:8080</code>.
						</li><li class="listitem">
							Log in using the credentials of the user that you created for Dashbuilder Runtime.
						</li><li class="listitem">
							When promted, upload a dashboard that you exported from Business Central. Dashbuilder Runtime uses that dashboard until it is restarted.
						</li></ol></div></section><section class="section" id="datasets-dashbuilder-runtimes-con"><div class="titlepage"><div><div><h2 class="title">25.2. KIE Server data sets on Dashbuilder Runtime</h2></div></div></div><p>
					A data set is a collection of related information. If you have a KIE Server that contains imported data sets, you can use Dashbuilder Runtime and the KIE Server REST API to run queries on imported data sets.
				</p><p>
					Because KIE Server uses Business Central as a controller, KIE Server containers are created in Business Central. Data sets are also created in Business Central. The KIE Server configuration is a template that you can refer to when you create data sets or install containers.
				</p><p>
					Other services, such as Dashbuilder Runtime, use the KIE Server REST API to retrieve KIE Server information. Dashbuilder Runtime accesses the KIE Server REST API to run queries from data sets.
				</p><p>
					When a KIE Server data set is created in Business Central, the server template information is provided and it is used by Dashbuilder Runtime to look for the KIE Server information. For example:
				</p><pre class="screen">dashbuilder.kieserver.serverTemplate.{SERVER_TEMPLATE}.location={LOCATION}
dashbuilder.kieserver.serverTemplate.{SERVER_TEMPLATE}.user={USER}
dashbuilder.kieserver.serverTemplate.{SERVER_TEMPLATE}.password={PASSWORD}
dashbuilder.kieserver.serverTemplate.{SERVER_TEMPLATE}.token={TOKEN}</pre><p>
					You can also setup KIE Server for each data set. For example:
				</p><pre class="screen">dashbuilder.kieserver.dataset.{DATA_SET_NAME}.location={LOCATION}
dashbuilder.kieserver.dataset.{DATA_SET_NAME}.user={USER}
dashbuilder.kieserver.dataset.{DATA_SET_NAME}.password={PASSWORD}
dashbuilder.kieserver.dataset.{DATA_SET_NAME}.token={TOKEN}</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Token authentication is not used if credentials are provided.
					</p></div></div><p>
					You might want to run the dashboard against another KIE Server installation. When data sets are created on a KIE Server in a development environment, the data sets queries are created on the development KIE Server, for example DEV. If the dashboards are exported to a production environment, for example PROD, with a different KIE Server, the queries that you created in DEV are not available, so an error is thrown. In this case it is possible to port queries from a data set to another KIE Server by using the replace query functionality, either through a server template or a data set:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Server template example:
						</p><pre class="screen">dashbuilder.kieserver.serverTemplate.{SERVER_TEMPLATE}.replace_query=true</pre></li><li class="listitem"><p class="simpara">
							Data set example:
						</p><pre class="screen">dashbuilder.kieserver.dataset.{DATA_SET_NAME}.replace_query=true</pre></li></ul></div><p>
					The <code class="literal">replace_query=true property</code> only needs to be set once so that Dashbuilder Runtime creates the queries. After the queries are created you can remove this system property.
				</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_and_managing_red_hat_process_automation_manager_services#assembly-kie-apis"><span class="emphasis"><em>Interacting with Red Hat Process Automation Manager using KIE APIs</em></span></a>
						</li></ul></div></section><section class="section" id="customizing-dashbuilder-con"><div class="titlepage"><div><div><h2 class="title">25.3. Customizing Dashbuilder Runtime</h2></div></div></div><p>
					You can use system properties to customize Dashbuilder Runtime.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Dashboards Path</span></dt><dd><p class="simpara">
								When a dashboard is uploaded it is stored in the filesystem. The path where it is stored is controlled by the system property <code class="literal">dashbuilder.import.base.dir</code>. The default is <code class="literal">/tmp/dashbuilder</code>.
							</p><p class="simpara">
								The system property is the root path for any dashboard model. For example, if there are multiple files on this path, the file can be imported by accessing Dashbuilder Runtime and passing a query parameter import with the name of the file that should be loaded. For example, if you want to load the <code class="literal">sales_dashboard</code>, execute <code class="literal">runtime_host?import=sales_dashboard</code> and Dashbuilder Runtime will try to load the file <code class="literal">/tmp/dashbuilder/sales_dashboard.zip</code>.
							</p></dd><dt><span class="term">Static Dashboard</span></dt><dd>
								If you want the runtime instance to load a specific dashboard, you can change the system property <code class="literal">dashbuilder.runtime.import</code>. Setting the property to a local file path will cause that specific dashboard to be loaded during Runtime startup.
							</dd><dt><span class="term">Controlling upload size</span></dt><dd>
								Application servers control POST request size by default. You can control the allowable size of uploaded dashboards by using the system property <code class="literal">dashbuilder.runtime.upload.size</code>. The size should be in KB and by default the value is 96kb, meaning that if someone tries to upload a file larger than 96kb then an error will be displayed and the dashboard won’t be installed.
							</dd><dt><span class="term">Loading external dashboards</span></dt><dd><p class="simpara">
								A Dashboard that is located at an accessible URL can be accessed by Dashbuilder Runtime. You can access the URL by passing the URL with the import query parameter such as <code class="literal">runtime_host?import=http://filesHost/sales_dashboard.zip</code>.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									For security reasons this option is disabled by default. You can enable it by setting the system property <code class="literal">dashbuilder.runtime.allowExternal</code> as true.
								</p></div></div></dd></dl></div></section></section><section class="appendix" id="business-central-system-properties-ref_install-on-eap"><div class="titlepage"><div><div><h2 class="title">Appendix A. Business Central system properties</h2></div></div></div><p>
				The Business Central system properties listed in this section are passed to <code class="literal">standalone*.xml</code> files.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Git directory</span></dt><dd><p class="simpara">
							Use the following properties to set the location and name for the Business Central Git directory:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.uberfire.nio.git.dir</code>: Location of the Business Central Git directory.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.dirname</code>: Name of the Business Central Git directory. Default value: <code class="literal">.niogit</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ketch</code>: Enables or disables Git ketch.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.hooks</code>: Location of the Git hooks directory.
								</li></ul></div></dd><dt><span class="term">Git over HTTP</span></dt><dd><p class="simpara">
							Use the following properties to configure access to the Git repository over HTTP:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.uberfire.nio.git.proxy.ssh.over.http</code>: Specifies whether SSH should use an HTTP proxy. Default value: <code class="literal">false</code>.
								</li><li class="listitem">
									<code class="literal">http.proxyHost</code>: Defines the host name of the HTTP proxy. Default value: <code class="literal">null</code>.
								</li><li class="listitem">
									<code class="literal">http.proxyPort</code>: Defines the host port (integer value) of the HTTP proxy. Default value: <code class="literal">null</code>.
								</li><li class="listitem">
									<code class="literal">http.proxyUser</code>: Defines the user name of the HTTP proxy.
								</li><li class="listitem">
									<code class="literal">http.proxyPassword</code>: Defines the user password of the HTTP proxy.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.http.enabled</code>: Enables or disables the HTTP daemon. Default value: <code class="literal">true</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.http.host</code>: If the HTTP daemon is enabled, it uses this property as the host identifier. This is an informative property that is used to display how to access the Git repository over HTTP. The HTTP still relies on the servlet container. Default value: <code class="literal">localhost</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.http.hostname</code>: If the HTTP daemon is enabled, it uses this property as the host name identifier. This is an informative property that is used to display how to access the Git repository over HTTP. The HTTP still relies on the servlet container. Default value: <code class="literal">localhost</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.http.port</code>: If the HTTP daemon is enabled, it uses this property as the port number. This is an informative property that is used to display how to access the Git repository over HTTP. The HTTP still relies on the servlet container. Default value: <code class="literal">8080</code>.
								</li></ul></div></dd><dt><span class="term">Git over HTTPS</span></dt><dd><p class="simpara">
							Use the following properties to configure access to the Git repository over HTTPS:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.uberfire.nio.git.proxy.ssh.over.https</code>: Specifies whether SSH uses an HTTPS proxy. Default value: <code class="literal">false</code>.
								</li><li class="listitem">
									<code class="literal">https.proxyHost</code>: Defines the host name of the HTTPS proxy. Default value: <code class="literal">null</code>.
								</li><li class="listitem">
									<code class="literal">https.proxyPort</code>: Defines the host port (integer value) of the HTTPS proxy. Default value: <code class="literal">null</code>.
								</li><li class="listitem">
									<code class="literal">https.proxyUser</code>: Defines the user name of the HTTPS proxy.
								</li><li class="listitem">
									<code class="literal">https.proxyPassword</code>: Defines the user password of the HTTPS proxy.
								</li><li class="listitem">
									<code class="literal">user.dir</code>: Location of the user directory.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.https.enabled</code>: Enables or disables the HTTPS daemon. Default value: <code class="literal">false</code>
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.https.host</code>: If the HTTPS daemon is enabled, it uses this property as the host identifier. This is an informative property that is used to display how to access the Git repository over HTTPS. The HTTPS still relies on the servlet container. Default value: <code class="literal">localhost</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.https.hostname</code>: If the HTTPS daemon is enabled, it uses this property as the host name identifier. This is an informative property that is used to display how to access the Git repository over HTTPS. The HTTPS still relies on the servlet container. Default value: <code class="literal">localhost</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.https.port</code>: If the HTTPS daemon is enabled, it uses this property as the port number. This is an informative property that is used to display how to access the Git repository over HTTPS. The HTTPS still relies on the servlet container. Default value: <code class="literal">8080</code>.
								</li></ul></div></dd><dt><span class="term">JGit</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.uberfire.nio.jgit.cache.instances</code>: Defines the JGit cache size.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.jgit.cache.overflow.cleanup.size</code>: Defines the JGit cache overflow cleanup size.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.jgit.remove.eldest.iterations</code>: Enables or disables whether to remove eldest JGit iterations.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.jgit.cache.evict.threshold.duration</code>: Defines the JGit evict threshold duration.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.jgit.cache.evict.threshold.time.unit</code>: Defines the JGit evict threshold time unit.
								</li></ul></div></dd><dt><span class="term">Git daemon</span></dt><dd><p class="simpara">
							Use the following properties to enable and configure the Git daemon:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.uberfire.nio.git.daemon.enabled</code>: Enables or disables the Git daemon. Default value: <code class="literal">true</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.daemon.host</code>: If the Git daemon is enabled, it uses this property as the local host identifier. Default value: <code class="literal">localhost</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.daemon.hostname</code>: If the Git daemon is enabled, it uses this property as the local host name identifier. Default value: <code class="literal">localhost</code>
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.daemon.port</code>: If the Git daemon is enabled, it uses this property as the port number. Default value: <code class="literal">9418</code>.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">org.uberfire.nio.git.http.sslVerify</code>: Enables or disables SSL certificate checking for Git repositories. Default value: <code class="literal">true</code>.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										If the default or assigned port is already in use, a new port is automatically selected. Ensure that the ports are available and check the log for more information.
									</p></div></div></li></ul></div></dd><dt><span class="term">Git SSH</span></dt><dd><p class="simpara">
							Use the following properties to enable and configure the Git SSH daemon:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ssh.enabled</code>: Enables or disables the SSH daemon. Default value: <code class="literal">true</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ssh.host</code>: If the SSH daemon enabled, it uses this property as the local host identifier. Default value: <code class="literal">localhost</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ssh.hostname</code>: If the SSH daemon is enabled, it uses this property as local host name identifier. Default value: <code class="literal">localhost</code>.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">org.uberfire.nio.git.ssh.port</code>: If the SSH daemon is enabled, it uses this property as the port number. Default value: <code class="literal">8001</code>.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										If the default or assigned port is already in use, a new port is automatically selected. Ensure that the ports are available and check the log for more information.
									</p></div></div></li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ssh.cert.dir</code>: Location of the <code class="literal">.security</code> directory where local certificates are stored. Default value: Working directory.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ssh.idle.timeout</code>: Sets the SSH idle timeout.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ssh.passphrase</code>: Pass phrase used to access the public key store of your operating system when cloning git repositories with SCP style URLs. Example: <code class="literal">git@github.com:user/repository.git</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ssh.algorithm</code>: Algorithm used by SSH. Default value: <code class="literal">RSA</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.gc.limit</code>: Sets the GC limit.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ssh.ciphers</code>: A comma-separated string of ciphers. The available ciphers are <code class="literal">aes128-ctr</code>, <code class="literal">aes192-ctr</code>, <code class="literal">aes256-ctr</code>, <code class="literal">arcfour128</code>, <code class="literal">arcfour256</code>, <code class="literal">aes192-cbc</code>, <code class="literal">aes256-cbc</code>. If the property is not used, all available ciphers are loaded.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">org.uberfire.nio.git.ssh.macs</code>: A comma-separated string of message authentication codes (MACs). The available MACs are <code class="literal">hmac-md5</code>, <code class="literal">hmac-md5-96</code>, <code class="literal">hmac-sha1</code>, <code class="literal">hmac-sha1-96</code>, <code class="literal">hmac-sha2-256</code>, <code class="literal">hmac-sha2-512</code>. If the property is not used, all available MACs are loaded.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										If you plan to use RSA or any algorithm other than DSA, make sure you set up your application server to use the Bouncy Castle JCE library.
									</p></div></div></li></ul></div></dd><dt><span class="term">KIE Server nodes and Process Automation Manager controller</span></dt><dd><p class="simpara">
							Use the following properties to configure the connections with the KIE Server nodes from the Process Automation Manager controller:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.kie.server.controller</code>: The URL is used to connect to the Process Automation Manager controller. For example, <code class="literal">ws://localhost:8080/business-central/websocket/controller</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.server.user</code>: User name used to connect to the KIE Server nodes from the Process Automation Manager controller. This property is only required when using this Business Central installation as a Process Automation Manager controller.
								</li><li class="listitem">
									<code class="literal">org.kie.server.pwd</code>: Password used to connect to the KIE Server nodes from the Process Automation Manager controller. This property is only required when using this Business Central installation as a Process Automation Manager controller.
								</li></ul></div></dd><dt><span class="term">Maven and miscellaneous</span></dt><dd><p class="simpara">
							Use the following properties to configure Maven and other miscellaneous functions:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									<code class="literal">kie.maven.offline.force</code>: Forces Maven to behave as if offline. If true, disables online dependency resolution. Default value: <code class="literal">false</code>.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										Use this property for Business Central only. If you share a runtime environment with any other component, isolate the configuration and apply it only to Business Central.
									</p></div></div></li><li class="listitem">
									<code class="literal">org.uberfire.gzip.enable</code>: Enables or disables Gzip compression on the <code class="literal">GzipFilter</code> compression filter. Default value: <code class="literal">true</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.workbench.profile</code>: Selects the Business Central profile. Possible values are <code class="literal">FULL</code> or <code class="literal">PLANNER_AND_RULES</code>. A prefix <code class="literal">FULL_</code> sets the profile and hides the profile preferences from the administrator preferences. Default value: <code class="literal">FULL</code>
								</li><li class="listitem">
									<code class="literal">org.appformer.m2repo.url</code>: Business Central uses the default location of the Maven repository when looking for dependencies. It directs to the Maven repository inside Business Central, for example, <code class="literal">http://localhost:8080/business-central/maven2</code>. Set this property before starting Business Central. Default value: File path to the inner <code class="literal">m2</code> repository.
								</li><li class="listitem">
									<code class="literal">appformer.ssh.keystore</code>: Defines the custom SSH keystore to be used with Business Central by specifying a class name. If the property is not available, the default SSH keystore is used.
								</li><li class="listitem">
									<code class="literal">appformer.ssh.keys.storage.folder</code>: When using the default SSH keystore, this property defines the storage folder for the user’s SSH public keys. If the property is not available, the keys are stored in the Business Central <code class="literal">.security</code> folder.
								</li><li class="listitem">
									<code class="literal">appformer.experimental.features</code>: Enables the experimental features framework. Default value: <code class="literal">false</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.demo</code>: Enables an external clone of a demo application from GitHub.
								</li><li class="listitem">
									<code class="literal">org.uberfire.metadata.index.dir</code>: Place where the Lucene <code class="literal">.index</code> directory is stored. Default value: Working directory.
								</li><li class="listitem">
									<code class="literal">org.uberfire.ldap.regex.role_mapper</code>: Regex pattern used to map LDAP principal names to the application role name. Note that the variable role must be a part of the pattern as the application role name substitutes the variable role when matching a principle value and role name.
								</li><li class="listitem">
									<code class="literal">org.uberfire.sys.repo.monitor.disabled</code>: Disables the configuration monitor. Do not disable unless you are sure. Default value: <code class="literal">false</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.secure.key</code>: Password used by password encryption. Default value: <code class="literal">org.uberfire.admin</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.secure.alg</code>: Crypto algorithm used by password encryption. Default value: <code class="literal">PBEWithMD5AndDES</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.domain</code>: Security-domain name used by uberfire. Default value: <code class="literal">ApplicationRealm</code>.
								</li><li class="listitem">
									<code class="literal">org.guvnor.m2repo.dir</code>: Place where the Maven repository folder is stored. Default value: <code class="literal">&lt;working-directory&gt;/repositories/kie</code>.
								</li><li class="listitem">
									<code class="literal">org.guvnor.project.gav.check.disabled</code>: Disables group ID, artifact ID, and version (GAV) checks. Default value: <code class="literal">false</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.build.disable-project-explorer</code>: Disables automatic build of a selected project in Project Explorer. Default value: <code class="literal">false</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.builder.cache.size</code>: Defines the cache size of the project builder. Default value: <code class="literal">20</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.verification.disable-dtable-realtime-verification</code>: Disables the real-time validation and verification of decision tables. Default value: <code class="literal">false</code>.
								</li></ul></div></dd><dt><span class="term">Process Automation Manager controller</span></dt><dd><p class="simpara">
							Use the following properties to configure how to connect to the Process Automation Manager controller:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.kie.workbench.controller</code>: The URL used to connect to the Process Automation Manager controller, for example, <code class="literal">ws://localhost:8080/kie-server-controller/websocket/controller</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.workbench.controller.user</code>: The Process Automation Manager controller user. Default value: <code class="literal">kieserver</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.workbench.controller.pwd</code>: The Process Automation Manager controller password. Default value: <code class="literal">kieserver1!</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.workbench.controller.token</code>: The token string used to connect to the Process Automation Manager controller.
								</li></ul></div></dd><dt><span class="term">Java Cryptography Extension KeyStore (JCEKS)</span></dt><dd><p class="simpara">
							Use the following properties to configure JCEKS:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">kie.keystore.keyStoreURL</code>: The URL used to load a Java Cryptography Extension KeyStore (JCEKS). For example, <code class="literal">file:///home/kie/keystores/keystore.jceks.</code>
								</li><li class="listitem">
									<code class="literal">kie.keystore.keyStorePwd</code>: The password used for the JCEKS.
								</li><li class="listitem">
									<code class="literal">kie.keystore.key.ctrl.alias</code>: The alias of the key for the default REST Process Automation Manager controller.
								</li><li class="listitem">
									<code class="literal">kie.keystore.key.ctrl.pwd</code>: The password of the alias for the default REST Process Automation Manager controller.
								</li></ul></div></dd><dt><span class="term">Rendering</span></dt><dd><p class="simpara">
							Use the following properties to switch between Business Central and KIE Server rendered forms:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.jbpm.wb.forms.renderer.ext</code>: Switches the form rendering between Business Central and KIE Server. By default, the form rendering is performed by Business Central. Default value: <code class="literal">false</code>.
								</li><li class="listitem">
									<code class="literal">org.jbpm.wb.forms.renderer.name</code>: Enables you to switch between Business Central and KIE Server rendered forms. Default value: <code class="literal">workbench</code>.
								</li></ul></div></dd></dl></div></section><section class="chapter" id="additional_resources_2"><div class="titlepage"><div><div><h2 class="title">Chapter 26. Additional resources</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-clustering-eap"><span class="emphasis"><em>Installing and configuring Red Hat Process Automation Manager in a Red Hat JBoss EAP clustered environment</em></span></a>
					</li></ul></div></section><section class="chapter" id="next_steps"><div class="titlepage"><div><div><h2 class="title">Chapter 27. Next steps</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/integrating_red_hat_process_automation_manager_with_other_products_and_components#assembly-integrating-sso"><span class="emphasis"><em>Integrating Red Hat Process Automation Manager with Red Hat Single Sign-On</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/getting_started_with_red_hat_process_automation_manager#assembly-getting-started-process-services"><span class="emphasis"><em>Getting started with business processes</em></span></a>
					</li></ul></div></section></div><div class="part" id="assembly-clustering-eap"><div class="titlepage"><div><div><h1 class="title">Part III. Installing and configuring Red Hat Process Automation Manager in a Red Hat JBoss EAP clustered environment</h1></div></div></div><div class="partintro" id="idm140016277082160"><div/><p>
				As a system engineer, you can create a Red Hat Process Automation Manager clustered environment to provide high availability and load balancing for your development and runtime environments.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have reviewed the information in <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
					</li></ul></div><div class="toc"><p><strong>Table of Contents</strong></p><ul class="toc"><li><span class="chapter"><a href="#clustering-con_clustering">28. Red Hat Process Automation Manager clusters</a></span></li><li><span class="chapter"><a href="#clustering-dev-con_clustering-dev">29. Red Hat Process Automation Manager clusters in a development (authoring) environment</a></span><ul><li><span class="section"><a href="#clustering-datagrid-proc_clustering-dev">29.1. Installing and configuring Red Hat Data Grid</a></span></li><li><span class="section"><a href="#JMS-broker-configure_clustering-dev">29.2. Downloading and configuring AMQ Broker</a></span></li><li><span class="section"><a href="#nfs-server-configure-proc_clustering-dev">29.3. Configuring an NFS server</a></span></li><li><span class="section"><a href="#clustering-download-eap-bc-proc_clustering-dev">29.4. Downloading and extracting Red Hat JBoss EAP 7.3 and Red Hat Process Automation Manager</a></span></li><li><span class="section"><a href="#clustering-bc-configure-standalone_proc_clustering-dev">29.5. Configuring and running Business Central in a cluster</a></span></li><li><span class="section"><a href="#testing-clustering-environment-proc_clustering-dev">29.6. Testing your high availability (HA) on-premise infrastructure</a></span></li><li><span class="section"><a href="#clustering-bc-testing-proc_clustering-dev">29.7. Verifying the Red Hat Process Automation Manager cluster</a></span></li></ul></li><li><span class="chapter"><a href="#clustering-ps-con_clustering-runtime-standalone">30. KIE Server clusters in a runtime environment</a></span><ul><li><span class="section"><a href="#clustering-download-eap-ps-proc_clustering-runtime-standalone">30.1. Downloading and extracting Red Hat JBoss EAP 7.3 and KIE Server</a></span></li><li><span class="section"><a href="#clustering-ps-configure-standalone_clustering-runtime-standalone">30.2. Configuring and running a Red Hat JBoss EAP 7.3 cluster for KIE Server</a></span></li><li><span class="section"><a href="#clustering-headless-controller-proc_clustering-runtime-standalone">30.3. Clustering KIE Servers with the headless Process Automation Manager controller</a></span></li></ul></li><li><span class="chapter"><a href="#installing-and-configuring-smart-router-con_clustering-runtime-standalone">31. Installing and configuring Smart Router</a></span><ul><li><span class="section"><a href="#clustering-smart-router-install-proc_clustering-runtime-standalone">31.1. Clustering KIE Servers with Smart Router</a></span></li><li><span class="section"><a href="#kie-server-smart-router-enable-tls-support-proc_clustering-runtime-standalone">31.2. Configuring Smart Router for TLS support</a></span></li><li><span class="section"><a href="#kie-server-smart-router-enable-endpoint-authentication-proc">31.3. Configuring Smart Router for endpoint authentication</a></span></li><li><span class="section"><a href="#configuring-smart-router-behavior-con">31.4. Configuring Smart Router behavior</a></span></li></ul></li><li><span class="chapter"><a href="#clustering-quartz-proc_clustering-runtime-standalone">32. Configuring Quartz timer service</a></span></li><li><span class="chapter"><a href="#additional_resources_3">33. Additional resources</a></span></li></ul></div></div><section class="chapter" id="clustering-con_clustering"><div class="titlepage"><div><div><h2 class="title">Chapter 28. Red Hat Process Automation Manager clusters</h2></div></div></div><p>
				By clustering two or more computers, you have the benefits of high availability, enhanced collaboration, and load balancing. High availability decreases the chance of data loss when a single computer fails. When a computer fails, another computer fills the gap by providing a copy of the data that was on the failed computer. When the failed computer comes online again, it resumes its place in the cluster.
			</p><p>
				There are several ways that you can cluster Red Hat Process Automation Manager components. This document describes how to cluster the following scenarios:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="#clustering-dev-con_clustering-dev" title="Chapter 29. Red Hat Process Automation Manager clusters in a development (authoring) environment">Chapter 29, <em>Red Hat Process Automation Manager clusters in a development (authoring) environment</em></a>
					</li><li class="listitem">
						<a class="xref" href="#clustering-ps-con_clustering-runtime-standalone" title="Chapter 30. KIE Server clusters in a runtime environment">Chapter 30, <em>KIE Server clusters in a runtime environment</em></a>
					</li></ul></div></section><section class="chapter" id="clustering-dev-con_clustering-dev"><div class="titlepage"><div><div><h2 class="title">Chapter 29. Red Hat Process Automation Manager clusters in a development (authoring) environment</h2></div></div></div><p>
				Developers can use Red Hat Process Automation Manager to author rules and processes that assist users with decision making.
			</p><p>
				You can configure Red Hat Process Automation Manager as a clustered development environment to benefit from high availability. With a clustered environment, if a developer is working on a node and that node fails, that developer’s work is preserved and visible on any other node of the cluster.
			</p><p>
				Most development environments consist of Business Central for creating rules and processes. and at least one KIE Server to test those rules and processes .
			</p><p>
				To create a Red Hat Process Automation Manager clustered development environment, you must perform the following tasks:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Configure Red Hat JBoss EAP 7.3 with Red Hat Data Grid 7.3 on a machine.
					</li><li class="listitem">
						Configure AMQ Broker, a Java messaging server (JMS) broker, on a machine.
					</li><li class="listitem">
						Configure an NFS file server on a machine.
					</li><li class="listitem">
						Download Red Hat JBoss EAP 7.3 and Red Hat Process Automation Manager 7.10, then install them on each machine that is to become a cluster node.
					</li><li class="listitem">
						Configure and start Business Central on each cluster node to start the operation of the cluster.
					</li></ul></div><p>
				Red Hat Data Grid is built from the Infinispan open-source software project. It is a distributed in-memory key/value data store that has indexing capabilities that enable you to store, search, and analyze high volumes of data quickly and in near-real time. In a Red Hat Process Automation Manager clustered environment, it enables you to perform complex and efficient searches across cluster nodes.
			</p><p>
				A JMS broker is a software component that receives messages, stores them locally, and forwards the messages to a recipient. AMQ Broker enables your applications to communicate with any messaging provider. It specifies how components such as message-driven beans, Enterprise JavaBeans, and servlets can send or receive messages.
			</p><section class="section" id="clustering-datagrid-proc_clustering-dev"><div class="titlepage"><div><div><h2 class="title">29.1. Installing and configuring Red Hat Data Grid</h2></div></div></div><p>
					Install and configure Red Hat Data Grid for the Red Hat Process Automation Manager clustered environment for more efficient searching across cluster nodes.
				</p><p>
					For information about advanced installation and configuration options, and Red Hat Data Grid modules for Red Hat JBoss EAP, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_data_grid/7.3/html-single/red_hat_data_grid_user_guide/index#"><span class="emphasis"><em>Red Hat Data Grid User Guide</em></span></a>.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Do not install Red Hat Data Grid on the same node as Business Central.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							A Java Virtual Machine (JVM) environment compatible with Java 8.0 or later is installed.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Product:</strong></span> Data Grid
								</li><li class="listitem">
									<span class="strong strong"><strong>Version:</strong></span> 7.3
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Download and extract the <span class="strong strong"><strong>Red Hat JBoss Data Grid 7.3.0 Server</strong></span> (<code class="literal">jboss-datagrid-7.3.0-1-server.zip</code>) installation file to the preferred location on your system.
						</p><p class="simpara">
							The extracted directory is referred to as <code class="literal"><span class="emphasis"><em>JDG_HOME</em></span></code>.
						</p></li><li class="listitem">
							Update Red Hat Data Grid to the latest version. For more information, see Red Hat Data Grid <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_data_grid/7.3/html-single/red_hat_data_grid_user_guide/index#"><span class="emphasis"><em>Red Hat Data Grid User Guide</em></span></a>.
						</li><li class="listitem"><p class="simpara">
							To run Red Hat Data Grid, navigate to <code class="literal"><span class="emphasis"><em>JDG_HOME</em></span>/bin</code> and enter the following command:
						</p><pre class="screen">$ ./standalone.sh -c clustered.xml -b &lt;HOST&gt;</pre><p class="simpara">
							Replace <code class="literal">&lt;HOST&gt;</code> with the IP address or host name of the server where you installed Red Hat Data Grid.
						</p></li></ol></div></section><section class="section" id="JMS-broker-configure_clustering-dev"><div class="titlepage"><div><div><h2 class="title">29.2. Downloading and configuring AMQ Broker</h2></div></div></div><p>
					Red Hat AMQ Broker enables your applications to communicate with any messaging provider. It specifies how components such as message-driven beans, Enterprise JavaBeans, and servlets can send or receive messages.
				</p><p>
					For information about advanced installations and configuration options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_amq/7.7/html-single/getting_started_with_amq_broker"><span class="emphasis"><em>Getting started with AMQ Broker</em></span></a>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Product: AMQ Broker</strong></span>
								</li><li class="listitem">
									<span class="strong strong"><strong>Version: 7.7.0</strong></span>
								</li></ul></div></li><li class="listitem">
							Click <span class="strong strong"><strong>Download</strong></span> next to <span class="strong strong"><strong>Red Hat AMQ Broker 7.7.0</strong></span> (<code class="literal">amq-broker-7.7.0-bin.zip</code>).
						</li><li class="listitem">
							Extract the <code class="literal">amq-broker-7.7.0-bin.zip</code> file.
						</li><li class="listitem">
							Change directory to <code class="literal">amq-broker-7.7.0-bin/amq-broker-7.7.0/bin</code>.
						</li><li class="listitem"><p class="simpara">
							Enter the following command and replace the following placeholders to create the broker and broker user:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">&lt;HOST&gt;</code> is the IP address or host name of the server where you installed AMQ Broker.
								</li><li class="listitem">
									<code class="literal">&lt;AMQ_USER&gt;</code> and <code class="literal">&lt;AMQ_PASSWORD&gt;</code> is a user name and password combination of your choice.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">&lt;BROKER_NAME&gt;</code> is a name for the broker that you are creating.
								</p><pre class="screen">./artemis create --host &lt;HOST&gt; --user &lt;AMQ_USER&gt; --password &lt;AMQ_PASSWORD&gt; --require-login &lt;BROKER_NAME&gt;</pre></li></ul></div></li><li class="listitem"><p class="simpara">
							To run AMQ Broker, enter the following command in the <code class="literal">amq-broker-7.7.0-bin/amq-broker-7.7.0/bin</code> directory:
						</p><pre class="screen">&lt;BROKER_NAME&gt;/bin/artemis run</pre></li></ol></div></section><section class="section" id="nfs-server-configure-proc_clustering-dev"><div class="titlepage"><div><div><h2 class="title">29.3. Configuring an NFS server</h2></div></div></div><p>
					A shared file system is required for a Business Central clustered environment and each client node must have access to the shared file system.
				</p><p>
					You must deploy and configure an NFS version 4 server.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Configure a server to export NFS version 4 shares. For instructions about exporting NFS shares on Red Hat Enterprise Linux, see <span class="emphasis"><em>Exporting NFS shares</em></span> in <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_file_systems/index"><span class="emphasis"><em>Managing file systems</em></span></a>. For more information about creating the NFS server, see <a class="link" href="https://access.redhat.com/solutions/1355233"><span class="emphasis"><em>How to configure NFS in RHEL 7</em></span></a>.
						</li><li class="listitem"><p class="simpara">
							On the server, create an <code class="literal">/opt/kie/data</code> share with the <code class="literal">rw,sync,no_root_squash</code> options by adding the following line to the <code class="literal">/etc/exports</code> file:
						</p><pre class="screen">/opt/kie/data *(rw,sync,no_root_squash)</pre><p class="simpara">
							In this example, <code class="literal">/opt/kie/data</code> is the shared folder, <code class="literal">*</code> are the IP addresses allowed to connect to the NFS server, and <code class="literal">(rw,sync,no_root_squash)</code> are the minimum options required for NFS. For example:
						</p><pre class="screen">/opt/kie/data 192.268.1.0/24(rw,sync,no_root_squash)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								You can use another share name instead of '/opt/kie/data'. In this case, you must use this name when configuring all nodes that run Business Central.
							</p></div></div></li></ol></div></section><section class="section" id="clustering-download-eap-bc-proc_clustering-dev"><div class="titlepage"><div><div><h2 class="title">29.4. Downloading and extracting Red Hat JBoss EAP 7.3 and Red Hat Process Automation Manager</h2></div></div></div><p>
					Download and install Red Hat JBoss EAP 7.3 and Red Hat Process Automation Manager 7.10 on each node of the cluster.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Download Red Hat JBoss EAP 7.3 on each node of the cluster:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											<span class="strong strong"><strong>Product: Enterprise Application Platform</strong></span>
										</li><li class="listitem">
											<span class="strong strong"><strong>Version: 7.3</strong></span>
										</li></ul></div></li><li class="listitem">
									Click <span class="strong strong"><strong>Download</strong></span> next to <span class="strong strong"><strong>Red Hat JBoss Enterprise Application Platform 7.3.4</strong></span>. (<code class="literal">JBEAP-7.3.4/jboss-eap-7.3.4.zip</code>).
								</li></ol></div></li><li class="listitem">
							Extract the <code class="literal">jboss-eap-7.3.4.zip</code> file. In the following steps, <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code> is the <code class="literal">jboss-eap-7.3/jboss-eap-7.3</code> directory.
						</li><li class="listitem">
							Download and apply the latest Red Hat JBoss EAP patch, if available.
						</li><li class="listitem"><p class="simpara">
							Download Red Hat Process Automation Manager on each node of the cluster:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal, and select the product and version from the drop-down options:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											<span class="strong strong"><strong>Product: Process Automation Manager</strong></span>
										</li><li class="listitem">
											<span class="strong strong"><strong>Version: 7.10</strong></span>
										</li></ul></div></li><li class="listitem">
									Download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0</strong></span> Business Central Deployable for Red Hat JBoss EAP 7 (<code class="literal">rhpam-7.10.0-business-central-eap7-deployable.zip</code>).
								</li></ol></div></li><li class="listitem">
							Extract the <code class="literal">rhpam-7.10.0-business-central-eap7-deployable.zip</code> file to a temporary directory. In the following commands this directory is called <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span></code>.
						</li><li class="listitem">
							Copy the contents of <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span>/rhpam-7.10.0-business-central-eap7-deployable/jboss-eap-7.3</code> to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code>.
						</li><li class="listitem">
							Download and apply the latest Red Hat Process Automation Manager patch, if available.
						</li><li class="listitem">
							Configure Red Hat Single Sign-On for your high availability environment. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/integrating_red_hat_process_automation_manager_with_other_products_and_components#assembly-integrating-sso"><span class="emphasis"><em>Integrating Red Hat Process Automation Manager with Red Hat Single Sign-On</em></span></a> and the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_single_sign-on/7.4/html-single/server_administration_guide/"><span class="emphasis"><em>Red Hat Single Sign-On Server Administration Guide</em></span></a>.
						</li></ol></div></section><section class="section" id="clustering-bc-configure-standalone_proc_clustering-dev"><div class="titlepage"><div><div><h2 class="title">29.5. Configuring and running Business Central in a cluster</h2></div></div></div><p>
					After you install Red Hat JBoss EAP and Business Central you can use Red Hat Data Grid and the AMQ Broker to configure the cluster. Complete these steps on each node of the cluster.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						These steps describe a basic cluster configuration. For more complex configurations, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.3/html-single/configuration_guide/"><span class="emphasis"><em>Red Hat JBoss EAP 7.3 Configuration Guide</em></span></a>.
					</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Do not connect KIE Server to Business Central in high availability (HA) on premise environments.
					</p><p>
						Business Central instances are not able to keep in sync with the status of each KIE Server. For example, if a KIE Server is up but not in sync, Business Central will not be able to deploy through that instance.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Red Hat Data Grid 7.3 is installed as described in <a class="xref" href="#clustering-datagrid-proc_clustering-dev" title="29.1. Installing and configuring Red Hat Data Grid">Section 29.1, “Installing and configuring Red Hat Data Grid”</a>.
						</li><li class="listitem">
							AMQ Broker is installed and configured, as described in <a class="xref" href="#JMS-broker-configure_clustering-dev" title="29.2. Downloading and configuring AMQ Broker">Section 29.2, “Downloading and configuring AMQ Broker”</a>.
						</li><li class="listitem">
							Red Hat JBoss EAP and Red Hat Process Automation Manager are installed on each node of the cluster as described in <a class="xref" href="#clustering-download-eap-bc-proc_clustering-dev" title="29.4. Downloading and extracting Red Hat JBoss EAP 7.3 and Red Hat Process Automation Manager">Section 29.4, “Downloading and extracting Red Hat JBoss EAP 7.3 and Red Hat Process Automation Manager”</a>.
						</li><li class="listitem">
							An NFS server with a shared folder is available as described in <a class="xref" href="#nfs-server-configure-proc_clustering-dev" title="29.3. Configuring an NFS server">Section 29.3, “Configuring an NFS server”</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Mount the directory shared over NFS as <code class="literal">/data</code>. Enter the following commands as the root user:
						</p><pre class="screen">mkdir /data
mount &lt;NFS_SERVER_IP&gt;:&lt;DATA_SHARE&gt; /data</pre><p class="simpara">
							Replace <span class="emphasis"><em>&lt;NFS_SERVER_IP&gt;</em></span> with the IP address or hostname of the NFS server machine. Replace <span class="emphasis"><em>&lt;DATA_SHARE&gt;</em></span> with the share name that you configured (for example, <code class="literal">/opt/kie/data</code>).
						</p></li><li class="listitem"><p class="simpara">
							Create a <code class="literal">kie-wb-playground</code> directory in the <code class="literal">/data</code> NFS directory:
						</p><pre class="screen">mkdir /kie-wb-playground</pre></li><li class="listitem"><p class="simpara">
							Create a <code class="literal">kie-wb-playground</code> directory in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin</code> directory and mount the directory:
						</p><pre class="screen">mount -o rw,sync,actimeo=1 &lt;NFS_SERVER_IP&gt;:&lt;DATA_SHARE&gt;/kie-wb-playground kie-wb-playground</pre></li><li class="listitem">
							Open the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/standalone-full.xml</code> file in a text editor.
						</li><li class="listitem"><p class="simpara">
							Edit or add the properties under the <code class="literal">&lt;system-properties&gt;</code> element and replace the following placeholders:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">&lt;AMQ_USER&gt;</code> and <code class="literal">&lt;AMQ_PASSWORD&gt;</code> are the credentials that you defined when creating the AMQ Broker.
								</li><li class="listitem">
									<code class="literal">&lt;AMQ_BROKER_IP_ADDRESS&gt;</code> is the IP address of the AMQ Broker.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">&lt;DATA_GRID_NODE_IP&gt;</code> is the IP address where Red Hat Data Grid is installed.
								</p><pre class="programlisting language-xml">&lt;system-properties&gt;
  &lt;property name="appformer-jms-connection-mode" value="REMOTE"/&gt;
  &lt;property name="appformer-jms-username" value="&lt;AMQ_USER&gt;"/&gt;
  &lt;property name="appformer-jms-password" value="&lt;AMQ_USER_PASSWORD&gt;"/&gt;
  &lt;property name="appformer-jms-url"
     value="tcp://&lt;AMQ_BROKER_IP_ADDRESS&gt;:61616?ha=true&amp;amp;retryInterval=1000&amp;amp;retryIntervalMultiplier=1.0&amp;amp;reconnectAttempts=-1"/&gt;
  &lt;property name="org.appformer.ext.metadata.infinispan.port"
     value="11222"/&gt;
  &lt;property name="org.appformer.ext.metadata.infinispan.host"
     value="&lt;DATA_GRID_NODE_IP&gt;"/&gt;
  &lt;property name="org.appformer.ext.metadata.infinispan.realm"
     value="ApplicationRealm"/&gt;
  &lt;property name="org.appformer.ext.metadata.infinispan.cluster"
     value="kie-cluster"/&gt;
  &lt;property name="org.appformer.ext.metadata.index"
     value="infinispan"/&gt;
  &lt;property name="org.uberfire.nio.git.dir"
     value="/data"/&gt;
  &lt;property name="es.set.netty.runtime.available.processors"
     value="false"/&gt;
&lt;/system-properties&gt;</pre></li></ul></div></li><li class="listitem"><p class="simpara">
							Optional: If the Red Hat Data Grid deployment requires authentication, edit or add the properties under the <code class="literal">&lt;system-properties&gt;</code> element and replace the following placeholders:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">&lt;SERVER_NAME&gt;</code> is the server name specified in your Red Hat Data Grid server configuration.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">&lt;SASL_QOP&gt;</code> is the combination of auth, auth-int and auth-conf values for your Red Hat Data Grid server configuration.
								</p><pre class="programlisting language-xml">&lt;property name="org.appformer.ext.metadata.infinispan.server.name"
   value="&lt;SERVER_NAME&gt;"/&gt;
&lt;property name="org.appformer.ext.metadata.infinispan.sasl.qop"
   value="&lt;SASL_QOP&gt;"/&gt;
&lt;property name="org.appformer.ext.metadata.infinispan.username"
   value=""/&gt;
&lt;property name="org.appformer.ext.metadata.infinispan.password"
   value=""/&gt;</pre></li></ul></div></li><li class="listitem">
							Save the <code class="literal">standalone-full.xml</code> file.
						</li><li class="listitem"><p class="simpara">
							To start the cluster, navigate to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin</code> and enter the following command:
						</p><pre class="screen">$ ./standalone.sh -c standalone-full.xml -b &lt;HOST&gt;</pre><p class="simpara">
							Replace <code class="literal">&lt;HOST&gt;</code> with the IP address or host name of the server where you installed Red Hat Process Automation Manager.
						</p></li></ol></div></section><section class="section" id="testing-clustering-environment-proc_clustering-dev"><div class="titlepage"><div><div><h2 class="title">29.6. Testing your high availability (HA) on-premise infrastructure</h2></div></div></div><p>
					When you create a production-ready high availability (HA) on-premises infrastructure for Business Central, you must ensure that it meets the minimum hardware and performance requirements for a viable HA environment. An HA on-premise infrastructure consists of the following four main components: Business Central, the message system (AMQ), the indexing server (Red Hat Data Grid), and a shared file system (NFS/GlusterFS/Ceph).
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							A network environment of at least 3 nodes is configured with the following layout:
						</p><p class="simpara">
							Node 1: Business Central
						</p><p class="simpara">
							Node 2: Business Central
						</p><p class="simpara">
							Node 3: AMQ, Red Hat Data Grid, and NFS
						</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Test the network speed by following these steps:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									In the command terminal of each server node, install <code class="literal">iPerf3</code>:
								</p><pre class="screen">$ dnf install iperf3</pre></li><li class="listitem"><p class="simpara">
									In the command terminal of the NFS server node (server node 3), start <code class="literal">iPerf3</code> in server mode:
								</p><pre class="screen">$ iperf3 -s</pre></li><li class="listitem"><p class="simpara">
									In the command terminal of each Business Central server node, start <code class="literal">iPerf3</code> in client mode with the NFS server node set as the host:
								</p><pre class="screen">$ iperf3 -c &lt;NFS_SERVER_IP&gt;</pre></li><li class="listitem"><p class="simpara">
									Compare the results from each server node with the following example of minimum values:
								</p><pre class="screen">iperf3 -c 172.31.47.103
Connecting to host 172.31.47.103, port 5201
[  5] local 172.31.39.4 port 44820 connected to 172.31.47.103 port 5201
[ ID] Interval           Transfer     Bitrate         Retr  Cwnd
[  5]   0.00-1.00   sec   143 MBytes  1.20 Gbits/sec    0    419 KBytes
[  5]   1.00-2.00   sec   111 MBytes   928 Mbits/sec    6    848 KBytes
[  5]   2.00-3.00   sec  53.8 MBytes   451 Mbits/sec    0   1.08 MBytes
[  5]   3.00-4.00   sec  52.5 MBytes   440 Mbits/sec    1   1022 KBytes
[  5]   4.00-5.00   sec  53.8 MBytes   451 Mbits/sec    1    935 KBytes
[  5]   5.00-6.00   sec  53.8 MBytes   451 Mbits/sec    1    848 KBytes
[  5]   6.00-7.00   sec  52.5 MBytes   440 Mbits/sec    0   1.08 MBytes
[  5]   7.00-8.00   sec  53.8 MBytes   451 Mbits/sec    1   1.01 MBytes
[  5]   8.00-9.00   sec  53.8 MBytes   451 Mbits/sec    1    953 KBytes
[  5]   9.00-10.00  sec  52.5 MBytes   440 Mbits/sec    1    856 KBytes
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bitrate         Retr
[  5]   0.00-10.00  sec   680 MBytes   570 Mbits/sec   12             sender
[  5]   0.00-10.04  sec   677 MBytes   566 Mbits/sec                  receiver

iperf Done.</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Verify the NFS information by following these steps:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									In the command terminal of each Business Central server node, mount the NFS node:
								</p><pre class="screen">$ mount -o actimeo=1 &lt;NFS_SERVER_IP&gt;:/opt/nfs/kie /opt/kie/niogit</pre></li><li class="listitem"><p class="simpara">
									In the command terminal of each mounted node, enter <code class="literal">nfsiostat</code>:
								</p><pre class="screen">$ nfsiostat</pre></li><li class="listitem"><p class="simpara">
									Compare the results from each server node with the following example of minimum values:
								</p><pre class="screen">nfsiostat
ops/s	rpc bklog
6.415	0.000

read:
ops/s	kB/s	kB/op	retrans	avg RTT (ms)	avg exe (ms)	avg queue (ms)	errors
0.031	0.045	1.452	0 (0.0%)	0.129		0.166		0.019		0 (0.0%)

write:
ops/s	kB/s	kB/op	retrans	avg RTT (ms)	avg exe (ms)	avg queue (ms)	errors
0.517	0.467	0.903	0 (0.0%)	1.235		1.269		0.01 8		0 (0.0%)</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Verify that the disk is an SSD by following these steps:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									In the command terminal of the NFS server, enter <code class="literal">df -h</code> to identify the disk as shown in the following example:
								</p><pre class="screen">$ df -h
Filesystem               Size  Used Avail Use% Mounted on
devtmpfs                 3.8G     0  3.8G   0% /dev
tmpfs                    3.9G     0  3.9G   0% /dev/shm
tmpfs                    3.9G   33M  3.8G   1% /run
tmpfs                    3.9G     0  3.9G   0% /sys/fs/cgroup
/dev/xvda2                25G  3.2G   22G  13% /
tmpfs                    781M     0  781M   0% /run/user/1000
172.31.47.103:/root/nfs   25G  2.1G   23G   9% /root/nfs</pre></li><li class="listitem"><p class="simpara">
									Enter <code class="literal">lsblk -d</code> to verify that the disk is an SSD:
								</p><pre class="screen">$ lsblk -d</pre></li><li class="listitem"><p class="simpara">
									Enter <code class="literal">hdparm -Tt</code> to test the disk:
								</p><pre class="screen">$ hdparm -Tt /dev/xvda2</pre></li><li class="listitem"><p class="simpara">
									Compare the results from each server node with the following example of minimum values:
								</p><pre class="screen">$ hdparm -Tt /dev/xvda2

/dev/xvda2:
 Timing cached reads:   18670 MB in  1.99 seconds = 9389.01 MB/sec
 Timing buffered disk reads: 216 MB in  3.03 seconds =  71.40 MB/sec</pre></li></ol></div></li></ol></div></section><section class="section" id="clustering-bc-testing-proc_clustering-dev"><div class="titlepage"><div><div><h2 class="title">29.7. Verifying the Red Hat Process Automation Manager cluster</h2></div></div></div><p>
					After configuring the cluster for Red Hat Process Automation Manager, create an asset to verify that the installation is working.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In a web browser, enter <code class="literal">&lt;node-IP-address&gt;:8080/business-central</code>. Replace <code class="literal">&lt;node-IP-address&gt;</code> with the IP address of a particular node.
						</li><li class="listitem">
							Enter the <code class="literal">admin</code> user credentials that you created during installation. The Business Central home page appears.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
						</li><li class="listitem">
							Open the <span class="strong strong"><strong>MySpace</strong></span> space.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Try Samples</strong></span> → <span class="strong strong"><strong>Mortgages</strong></span> → <span class="strong strong"><strong>OK</strong></span>. The <span class="strong strong"><strong>Assets</strong></span> window appears.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Add Asset</strong></span> → <span class="strong strong"><strong>Data Object</strong></span>.
						</li><li class="listitem">
							Enter <code class="literal">MyDataObject</code> in the <span class="strong strong"><strong>Data Object</strong></span> field and click <span class="strong strong"><strong>OK</strong></span>.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Spaces</strong></span> → <span class="strong strong"><strong>MySpace</strong></span> → <span class="strong strong"><strong>Mortgages</strong></span> and confirm that <code class="literal">MyDataObject</code> is in the list of assets.
						</li><li class="listitem"><p class="simpara">
							Enter the following URL in a web browser, where <code class="literal">&lt;node_IP_address&gt;</code> is the address of a different node of the cluster:
						</p><p class="simpara">
							<code class="literal">http://&lt;node_IP_address&gt;:8080/business-central</code>
						</p></li><li class="listitem">
							Enter the same credentials that you used to log in to Business Central on the first node, where you created the <code class="literal">MyDataObject</code> asset.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Menu</strong></span>→ <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
						</li><li class="listitem">
							Open the <span class="strong strong"><strong>MySpace</strong></span> space.
						</li><li class="listitem">
							Select the <span class="strong strong"><strong>Mortgages</strong></span> project.
						</li><li class="listitem">
							Verify that <code class="literal">MyDataObject</code> is in the asset list.
						</li><li class="listitem">
							Delete the <span class="strong strong"><strong>Mortgages</strong></span> project.
						</li></ol></div></section></section><section class="chapter" id="clustering-ps-con_clustering-runtime-standalone"><div class="titlepage"><div><div><h2 class="title">Chapter 30. KIE Server clusters in a runtime environment</h2></div></div></div><p>
				In a runtime environment, KIE Server runs services that contain rules and processes that support business decisions. The primary benefit of clustering a KIE Server runtime environment is load balancing. If activity on one node of the cluster increases, that activity can be shared among the other nodes of the cluster to improve performance.
			</p><p>
				To create a KIE Server clustered runtime environment, you download and extract Red Hat JBoss EAP 7.3 and KIE Server. Then, you configure Red Hat JBoss EAP 7.3 for a cluster, start the cluster, and install KIE Server on each cluster node.
			</p><p>
				Optionally, you can then cluster the headless Process Automation Manager controller and Smart Router.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Do not connect KIE Server to Business Central in high availability (HA) on premise environments.
				</p><p>
					Business Central instances are not able to keep in sync with the status of each KIE Server. For example, if a KIE Server is up but not in sync, Business Central will not be able to deploy through that instance.
				</p></div></div><section class="section" id="clustering-download-eap-ps-proc_clustering-runtime-standalone"><div class="titlepage"><div><div><h2 class="title">30.1. Downloading and extracting Red Hat JBoss EAP 7.3 and KIE Server</h2></div></div></div><p>
					Complete the steps in this section to download and install Red Hat JBoss EAP 7.3 and KIE Server for installation in a clustered environment.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Download Red Hat JBoss EAP 7.3 on each node of the cluster:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required) and select the product and version from the drop-down options:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											<span class="strong strong"><strong>Product: Red Hat JBoss EAP</strong></span>
										</li><li class="listitem">
											<span class="strong strong"><strong>Version: 7.3</strong></span>
										</li></ul></div></li><li class="listitem">
									Click <span class="strong strong"><strong>Download</strong></span> next to <span class="strong strong"><strong>Red Hat JBoss Enterprise Application Platform 7.3.4</strong></span>. (<code class="literal">jboss-eap-7.3.4.zip</code>).
								</li></ol></div></li><li class="listitem">
							Extract the <code class="literal">jboss-eap-7.3.4.zip</code> file. The <code class="literal">jboss-eap-7.3/jboss-eap-7.3</code> directory is referred to as <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code>.
						</li><li class="listitem">
							Download and apply the latest Red Hat JBoss EAP patch, if available.
						</li><li class="listitem"><p class="simpara">
							Download KIE Server:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal and select the product and version from the drop-down options:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											<span class="strong strong"><strong>Product: Process Automation Manager</strong></span>
										</li><li class="listitem">
											<span class="strong strong"><strong>Version: 7.10</strong></span>
										</li></ul></div></li><li class="listitem">
									Download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 KIE Server for All Supported EE8 Containers</strong></span> (<code class="literal">rhpam-7.10.0-kie-server-ee8.zip</code>).
								</li></ol></div></li><li class="listitem">
							Extract the <code class="literal">rhpam-7.10.0-kie-server-ee8.zip</code> archive to a temporary directory. In the following examples this directory is called <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span></code>.
						</li><li class="listitem"><p class="simpara">
							Copy the <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span>/rhpam-7.10.0-kie-server-ee8/rhpam-7.10.0-kie-server-ee8/kie-server.war</code> directory to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/</code>.
						</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
								Ensure the names of the Red Hat Process Automation Manager deployments you copy do not conflict with your existing deployments in the Red Hat JBoss EAP instance.
							</p></div></div></li><li class="listitem">
							Copy the contents of the <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span>/rhpam-7.10.0-kie-server-ee8/rhpam-7.10.0-kie-server-ee8/SecurityPolicy/</code> to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin</code>.
						</li><li class="listitem">
							When prompted to overwrite files, click <span class="strong strong"><strong>Replace</strong></span>.
						</li><li class="listitem">
							In the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/</code> directory, create an empty file named <code class="literal">kie-server.war.dodeploy</code>. This file ensures that KIE Server is automatically deployed when the server starts.
						</li><li class="listitem">
							Download and apply the latest Red Hat Process Automation Manager patch, if available.
						</li><li class="listitem">
							Navigate to the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin</code> directory.
						</li><li class="listitem"><p class="simpara">
							Create a user with the <code class="literal">kie-server</code> role that you will use to log in to KIE Server.
						</p><pre class="programlisting language-bash">$ ./add-user.sh -a --user &lt;USERNAME&gt; --password &lt;PASSWORD&gt; --role kie-server</pre></li><li class="listitem">
							Make a note of your user names and passwords.
						</li></ol></div></section><section class="section" id="clustering-ps-configure-standalone_clustering-runtime-standalone"><div class="titlepage"><div><div><h2 class="title">30.2. Configuring and running a Red Hat JBoss EAP 7.3 cluster for KIE Server</h2></div></div></div><p>
					Configure the Red Hat JBoss EAP cluster for KIE Server, and then start the cluster.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Install the JDBC driver on all Red Hat JBoss EAP instances that are part of this cluster. For more information, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.3/html-single/configuration_guide/#jdbc_drivers">"JDBC Drivers"</a> section of the <span class="emphasis"><em>Red Hat JBoss EAP 7.3 Configuration Guide</em></span>.
						</li><li class="listitem">
							Open the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/standalone-full.xml</code> file in a text editor.
						</li><li class="listitem"><p class="simpara">
							Edit the <code class="literal">data-stores</code> property and the <code class="literal">timer-service thread-pool-name</code> above it:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									The <code class="literal">datasource-jndi-name</code> is the JNDI name of the database specified at the beginning of this procedure.
								</li><li class="listitem">
									You can enter any name for the value of the <code class="literal">partition</code> property. However, a node will only see timers from other nodes that have the same partition name. Grouping nodes into partitions by assigning partition names enables you to break a large cluster up into several smaller clusters. Doing this improves performance. For example, instead of having a cluster of 100 nodes, where all 100 nodes are trying to execute and refresh the same timers, you can create 20 clusters of 5 nodes by giving every group of 5 a different partition name.
								</li><li class="listitem">
									Replace the <code class="literal">default-data-store</code> attribute value with <code class="literal">ejb_timer_ds</code>.
								</li><li class="listitem"><p class="simpara">
									Set the value of <code class="literal">refresh-interval</code> in milliseconds to specify how often the EJB timer connects to the database to synchronize and load tasks to be processed.
								</p><pre class="programlisting language-xml">&lt;timer-service thread-pool-name="default" default-data-store="ejb_timer_ds"&gt;
&lt;data-stores&gt;
    &lt;database-data-store name="ejb_timer_ds" datasource-jndi-name="java:jboss/datasources/ejb_timer" database="postgresql" partition="ejb_timer_part" refresh-interval="30000"/&gt;
&lt;/data-stores&gt;
&lt;/timer-service&gt;</pre><p class="simpara">
									The following table lists the supported databases and the corresponding <code class="literal">database</code> attribute value:
								</p><div class="table" id="idm140016267539312"><p class="title"><strong>Table 30.1. Supported databases</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 50%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016267534480" scope="col">Database</th><th align="left" valign="top" id="idm140016267533392" scope="col">Attribute value</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016267534480">
												<p>
													Hyper SQL (for demonstration purposes only, not supported)
												</p>
												</td><td align="left" valign="top" headers="idm140016267533392">
												<p>
													<code class="literal">hsql</code>
												</p>
												</td></tr><tr><td align="left" valign="top" headers="idm140016267534480">
												<p>
													PostgreSQL
												</p>
												</td><td align="left" valign="top" headers="idm140016267533392">
												<p>
													<code class="literal">postgresql</code>
												</p>
												</td></tr><tr><td align="left" valign="top" headers="idm140016267534480">
												<p>
													Oracle
												</p>
												</td><td align="left" valign="top" headers="idm140016267533392">
												<p>
													<code class="literal">oracle</code>
												</p>
												</td></tr><tr><td align="left" valign="top" headers="idm140016267534480">
												<p>
													IBM DB2
												</p>
												</td><td align="left" valign="top" headers="idm140016267533392">
												<p>
													<code class="literal">db2</code>
												</p>
												</td></tr><tr><td align="left" valign="top" headers="idm140016267534480">
												<p>
													Microsoft SQL Server
												</p>
												</td><td align="left" valign="top" headers="idm140016267533392">
												<p>
													<code class="literal">mssql</code>
												</p>
												</td></tr><tr><td align="left" valign="top" headers="idm140016267534480">
												<p>
													MySQL and MariaDB
												</p>
												</td><td align="left" valign="top" headers="idm140016267533392">
												<p>
													<code class="literal">mysql</code>
												</p>
												</td></tr></tbody></table></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
							Add the KIE Server and EJB timer data sources to the <code class="literal">standalone-full.xml</code> file. In these examples, <code class="literal">&lt;DATABASE&gt;</code> is the name of the database, <code class="literal">&lt;SERVER_NAME&gt;</code> is the host name of the JNDI database, and <code class="literal">&lt;USER_NAME&gt;</code> and <code class="literal">&lt;USER_PWD&gt;</code> are the credentials for that database.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Add the data source to allow KIE Server to connect to the database, for example:
								</p><pre class="programlisting language-xml">&lt;xa-datasource jndi-name="java:/jboss/datasources/rhpam" pool-name="rhpam-RHPAM" use-java-context="true" enabled="true"&gt;
  &lt;xa-datasource-property name="DatabaseName"&gt;&lt;DATABASE&gt;&lt;/xa-datasource-property&gt;
  &lt;xa-datasource-property name="PortNumber"&gt;5432&lt;/xa-datasource-property&gt;
  &lt;xa-datasource-property name="ServerName"&gt;&lt;SERVER_NAME&gt;&lt;/xa-datasource-property&gt;
  &lt;driver&gt;postgresql&lt;/driver&gt;
  &lt;security&gt;
    &lt;user-name&gt;&lt;USER_NAME&gt;&lt;/user-name&gt;
    &lt;password&gt;&lt;USER_PWD&gt;&lt;/password&gt;
&lt;/security&gt;
&lt;/xa-datasource&gt;</pre></li><li class="listitem"><p class="simpara">
									Add the data source to enable the EJB timer, for example:
								</p><pre class="programlisting language-xml">&lt;xa-datasource jndi-name="java:jboss/datasources/ejb_timer" pool-name="ejb_timer" use-java-context="true" enabled="true"&gt;
    &lt;xa-datasource-property name="DatabaseName"&gt;&lt;DATABASE&gt;&lt;/xa-datasource-property&gt;
    &lt;xa-datasource-property name="PortNumber"&gt;5432&lt;/xa-datasource-property&gt;
    &lt;xa-datasource-property name="ServerName"&gt;&lt;SERVER_NAME&gt;&lt;/xa-datasource-property&gt;
    &lt;driver&gt;postgresql&lt;/driver&gt;
    &lt;transaction-isolation&gt;TRANSACTION_READ_COMMITTED&lt;/transaction-isolation&gt;
    &lt;security&gt;
        &lt;user-name&gt;&lt;USER_NAME&gt;&lt;/user-name&gt;
        &lt;password&gt;&lt;USER_PWD&gt;&lt;/password&gt;
    &lt;/security&gt;
&lt;/xa-datasource&gt;</pre><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
										You must use two different databases for KIE Server runtime data and EJB timer data.
									</p></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
							Add the following properties to the <code class="literal">&lt;system-properties&gt;</code> element and replace the following placeholders:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">&lt;JNDI_NAME&gt;</code> is the JNDI name of your data source. For Red Hat Process Automation Manager, this is <code class="literal">java:/jboss/datasources/rhpam</code>.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">&lt;DIALECT&gt;</code> is the hibernate dialect for your database.
								</p><p class="simpara">
									The following dialects are supported:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											DB2: <code class="literal">org.hibernate.dialect.DB2Dialect</code>
										</li><li class="listitem">
											MSSQL: <code class="literal">org.hibernate.dialect.SQLServer2012Dialect</code>
										</li><li class="listitem">
											MySQL: <code class="literal">org.hibernate.dialect.MySQL5InnoDBDialect</code>
										</li><li class="listitem">
											MariaDB: <code class="literal">org.hibernate.dialect.MySQL5InnoDBDialect</code>
										</li><li class="listitem">
											Oracle: <code class="literal">org.hibernate.dialect.Oracle10gDialect</code>
										</li><li class="listitem">
											PostgreSQL: <code class="literal">org.hibernate.dialect.PostgreSQL82Dialect</code>
										</li><li class="listitem"><p class="simpara">
											PostgreSQL plus: <code class="literal">org.hibernate.dialect.PostgresPlusDialect</code>
										</p><pre class="programlisting language-xml">&lt;system-properties&gt;
  &lt;property name="org.kie.server.persistence.ds" value="&lt;JNDI_NAME&gt;"/&gt;
  &lt;property name="org.kie.server.persistence.dialect" value="&lt;DIALECT&gt;"/&gt;
  &lt;property name="org.jbpm.ejb.timer.tx" value="true"/&gt;
&lt;/system-properties&gt;</pre></li></ul></div></li></ul></div></li><li class="listitem">
							Save the <code class="literal">standalone-full.xml</code> file.
						</li><li class="listitem"><p class="simpara">
							To start the cluster, navigate to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin</code> and enter one of the following commands:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									On Linux or UNIX-based systems:
								</p><pre class="programlisting language-bash">$ ./standalone.sh -c standalone-full.xml</pre></li><li class="listitem"><p class="simpara">
									On Windows:
								</p><pre class="programlisting language-bash">standalone.bat -c standalone-full.xml</pre></li></ul></div></li></ol></div></section><section class="section" id="clustering-headless-controller-proc_clustering-runtime-standalone"><div class="titlepage"><div><div><h2 class="title">30.3. Clustering KIE Servers with the headless Process Automation Manager controller</h2></div></div></div><p>
					The Process Automation Manager controller is integrated with Business Central. However, if you do not install Business Central, you can install the headless Process Automation Manager controller and use the REST API or the KIE Server Java Client API to interact with it.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							A backed-up Red Hat JBoss EAP installation version 7.3 or later is available. The base directory of the Red Hat JBoss EAP installation is referred to as <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code>.
						</li><li class="listitem">
							Sufficient user permissions to complete the installation are granted.
						</li><li class="listitem">
							An NFS server with a shared folder is available as described in <a class="xref" href="#nfs-server-configure-proc_clustering-dev" title="29.3. Configuring an NFS server">Section 29.3, “Configuring an NFS server”</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Product: Process Automation Manager</strong></span>
								</li><li class="listitem">
									<span class="strong strong"><strong>Version: 7.10</strong></span>
								</li></ul></div></li><li class="listitem">
							Download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Add Ons</strong></span> (the <code class="literal">rhpam-7.10.0-add-ons.zip</code> file).
						</li><li class="listitem">
							Extract the <code class="literal">rhpam-7.10.0-add-ons.zip</code> file. The <code class="literal">rhpam-7.10.0-controller-ee7.zip</code> file is in the extracted directory.
						</li><li class="listitem">
							Extract the <code class="literal">rhpam-7.10.0-controller-ee7</code> archive to a temporary directory. In the following examples this directory is called <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span></code>.
						</li><li class="listitem"><p class="simpara">
							Copy the <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span>/rhpam-7.10.0-controller-ee7/controller.war</code> directory to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/</code>.
						</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
								Ensure that the names of the headless Process Automation Manager controller deployments you copy do not conflict with your existing deployments in the Red Hat JBoss EAP instance.
							</p></div></div></li><li class="listitem">
							Copy the contents of the <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span>/rhpam-7.10.0-controller-ee7/SecurityPolicy/</code> directory to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin</code>.
						</li><li class="listitem">
							When prompted to overwrite files, click <span class="strong strong"><strong>Yes</strong></span>.
						</li><li class="listitem">
							In the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/</code> directory, create an empty file named <code class="literal">controller.war.dodeploy</code>. This file ensures that the headless Process Automation Manager controller is automatically deployed when the server starts.
						</li><li class="listitem">
							Open the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/standalone.xml</code> file in a text editor.
						</li><li class="listitem"><p class="simpara">
							Add the following properties to the <code class="literal">&lt;system-properties&gt;</code> element and replace <code class="literal">&lt;NFS_STORAGE&gt;</code> with the absolute path to the NFS storage where the template configuration is stored:
						</p><pre class="screen">&lt;system-properties&gt;
  &lt;property name="org.kie.server.controller.templatefile.watcher.enabled" value="true"/&gt;
  &lt;property name="org.kie.server.controller.templatefile" value="&lt;NFS_STORAGE&gt;"/&gt;
&lt;/system-properties&gt;</pre><p class="simpara">
							Template files contain default configurations for specific deployment scenarios.
						</p><p class="simpara">
							If the value of the <code class="literal">org.kie.server.controller.templatefile.watcher.enabled</code> property is set to true, a separate thread is started to watch for modifications of the template file. The default interval for these checks is 30000 milliseconds and can be further controlled by the <code class="literal">org.kie.server.controller.templatefile.watcher.interval</code> system property. If the value of this property is set to false, changes to the template file are detected only when the server restarts.
						</p></li><li class="listitem"><p class="simpara">
							To start the headless Process Automation Manager controller, navigate to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin</code> and enter the following command:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									On Linux or UNIX-based systems:
								</p><pre class="programlisting language-bash">$ ./standalone.sh</pre></li><li class="listitem"><p class="simpara">
									On Windows:
								</p><pre class="programlisting language-bash">standalone.bat</pre></li></ul></div></li></ol></div></section></section><section class="chapter" id="installing-and-configuring-smart-router-con_clustering-runtime-standalone"><div class="titlepage"><div><div><h2 class="title">Chapter 31. Installing and configuring Smart Router</h2></div></div></div><p>
				Smart Router (KIE Server router) is a lightweight Java component that you can use as an integration layer between multiple KIE Servers, client applications, and other components. Depending on your deployment and execution environment, Smart Router can aggregate multiple independent KIE Server instances as though they are a single server. Smart Router provides the following features:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Data aggregation</span></dt><dd>
							Collects data from all KIE Server instances (one instance from each group) when there is a client application request and aggregates the results in a single response.
						</dd><dt><span class="term">Routing</span></dt><dd>
							Functions as a single endpoint that receives calls from client applications to any of your services and routes each call automatically to the KIE Server that runs the specific service. This means that KIE Servers do not need to have the same services deployed.
						</dd><dt><span class="term">Load balancing</span></dt><dd>
							Provides efficient load balancing. Load balancing requests for a Smart Router cluster must be managed externally with standard load balancing tools.
						</dd><dt><span class="term">Authentication</span></dt><dd>
							Authenticates KIE Server instances by using a system property flag and can enable HTTPS traffic.
						</dd><dt><span class="term">Environment Management</span></dt><dd>
							Manages the changing environment, for example adding or removing server instances.
						</dd></dl></div><section class="section" id="clustering-smart-router-install-proc_clustering-runtime-standalone"><div class="titlepage"><div><div><h2 class="title">31.1. Clustering KIE Servers with Smart Router</h2></div></div></div><p>
					You can use Smart Router to aggregate multiple independent KIE Server instances as though they are a single server. It performs the role of an intelligent load balancer because it can route requests to individual KIE Servers and aggregate data from different KIE Servers. Smart Router uses aliases to perform as a proxy.
				</p><p>
					This section describes how to install Smart Router and configure it for a Red Hat Process Automation Manager runtime environment.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							KIE Server is installed on each node of a Red Hat JBoss EAP 7.3 cluster.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								You do not need to configure KIE Server as unmanaged for Smart Router.
							</p><p>
								An unmanaged KIE Server does not connect to the controller.
							</p><p>
								For example, if you connect an unmanaged KIE Server to Smart Router and register Smart Router with the controller, then Business Central contacts the unmanaged KIE Server by using Smart Router.
							</p></div></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Product: Process Automation Manager</strong></span>
								</li><li class="listitem">
									<span class="strong strong"><strong>Version: 7.10</strong></span>
								</li></ul></div></li><li class="listitem">
							Download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Add-Ons</strong></span>.
						</li><li class="listitem">
							Extract the downloaded <code class="literal">rhpam-7.10.0-add-ons.zip</code> file to a temporary directory. The <code class="literal">rhpam-7.10.0-smart-router.jar</code> file is in the extracted <code class="literal">rhpam-7.10.0-add-ons</code> directory.
						</li><li class="listitem">
							Copy the <code class="literal">rhpam-7.10.0-smart-router.jar</code> file to the location where you will run the file.
						</li><li class="listitem"><p class="simpara">
							Enter the following command to start Smart Router:
						</p><pre class="screen">java
-Dorg.kie.server.router.host=&lt;ROUTER_HOST&gt;
-Dorg.kie.server.router.port=&lt;ROUTER_PORT&gt;
-Dorg.kie.server.controller=&lt;CONTROLLER_URL&gt;
-Dorg.kie.server.controller.user=&lt;CONTROLLER_USER&gt;
-Dorg.kie.server.controller.pwd=&lt;CONTROLLER_PWD&gt;
-Dorg.kie.server.router.config.watcher.enabled=true
-Dorg.kie.server.router.repo=&lt;NFS_STORAGE&gt;
-jar rhpam-7.9.0-smart-router.jar</pre><p class="simpara">
							The properties in the preceding command have the following default values:
						</p><pre class="screen">org.kie.server.router.host=localhost
org.kie.server.router.port=9000
org.kie.server.controller= N/A
org.kie.server.controller.user=kieserver
org.kie.server.controller.pwd=kieserver1!
org.kie.server.router.repo= &lt;CURRENT_WORKING_DIR&gt;
org.kie.server.router.config.watcher.enabled=false</pre><p class="simpara">
							<code class="literal">org.kie.server.controller</code> is the URL of the server controller, for example:
						</p><pre class="screen">org.kie.server.controller=http://&lt;HOST&gt;:&lt;PORT&gt;/controller/rest/controller</pre><p class="simpara">
							<code class="literal">org.kie.server.router.config.watcher.enabled</code> is an optional settings to enable the watcher service system property.
						</p></li><li class="listitem"><p class="simpara">
							To access Smart Router from the client side, use the Smart Router URL instead of the KIE Server URL, for example:
						</p><pre class="screen">KieServicesConfiguration config = KieServicesFactory.newRestConfiguration("http://smartrouter.example.com:9000", "USERNAME", "PASSWORD");</pre><p class="simpara">
							In this example, <code class="literal">smartrouter.example.com</code> is the Smart Router URL, and <code class="literal">USERNAME</code> and <code class="literal">PASSWORD</code> are the log in credentials for the Smart Router configuration.
						</p></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You must create containers directly against the <code class="literal">kie-server</code>. For example:
					</p><pre class="screen">$ curl -v -X POST -H 'Content-type: application/xml' -H 'X-KIE-Content-Type: xstream' -d @create-container.xml -u ${KIE_CRED} http://${KIE-SERVER-HOST}:${KIE-SERVER-PORT}/kie-server/services/rest/server/config/</pre><pre class="screen">$ cat create-container.xml
&lt;script&gt;
  &lt;create-container&gt;
    &lt;container container-id="example:timer-test:1.1"&gt;
      &lt;release-id&gt;
        &lt;group-id&gt;example&lt;/group-id&gt;
        &lt;artifact-id&gt;timer-test&lt;/artifact-id&gt;
        &lt;version&gt;1.1&lt;/version&gt;
      &lt;/release-id&gt;
      &lt;config-items&gt;
        &lt;itemName&gt;RuntimeStrategy&lt;/itemName&gt;
        &lt;itemValue&gt;PER_PROCESS_INSTANCE&lt;/itemValue&gt;
        &lt;itemType&gt;&lt;/itemType&gt;
      &lt;/config-items&gt;
    &lt;/container&gt;
  &lt;/create-container&gt;
&lt;/script&gt;</pre><p>
						A message about the deployed container is displayed in the smart-router console. For example:
					</p><pre class="screen">INFO: Added http://localhost:8180/kie-server/services/rest/server as server location for container example:timer-test:1.1</pre><p>
						To display a list of containers, enter the following command:
					</p><pre class="screen">$ curl http://localhost:9000/mgmt/list</pre><p>
						The list of containers is displayed:
					</p><pre class="screen">{
  "containerInfo": [{
    "alias": "timer-test",
    "containerId": "example:timer-test:1.1",
    "releaseId": "example:timer-test:1.1"
  }],
  "containers": [
    {"example:timer-test:1.1": ["http://localhost:8180/kie-server/services/rest/server"]},
    {"timer-test": ["http://localhost:8180/kie-server/services/rest/server"]}
  ],
  "servers": [
    {"kieserver2": []},
    {"kieserver1": ["http://localhost:8180/kie-server/services/rest/server"]}
  ]
}</pre><p>
						To initiate a process using the Smart Router URL, enter the following command:
					</p><pre class="screen">$ curl -s -X POST -H 'Content-type: application/json' -H 'X-KIE-Content-Type: json' -d '{"timerDuration":"9s"}' -u kieserver:kieserver1! http://localhost:9000/containers/example:timer-test:1.1/processes/timer-test.TimerProcess/instances</pre></div></div></section><section class="section" id="kie-server-smart-router-enable-tls-support-proc_clustering-runtime-standalone"><div class="titlepage"><div><div><h2 class="title">31.2. Configuring Smart Router for TLS support</h2></div></div></div><p>
					You can configure Smart Router (KIE Server Router) for TLS support to allow HTTPS traffic.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server is installed on each node of a Red Hat JBoss EAP 7.3 cluster.
						</li><li class="listitem">
							Smart Router is installed and configured. For more information, see <a class="xref" href="#clustering-smart-router-install-proc_clustering-runtime-standalone" title="31.1. Clustering KIE Servers with Smart Router">Section 31.1, “Clustering KIE Servers with Smart Router”</a>.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To start Smart Router with TLS support and HTTPS enabled, use the TLS keystore properties, for example:
						</p><pre class="programlisting language-java">java  -Dorg.kie.server.router.tls.keystore = &lt;KEYSTORE_PATH&gt;
      -Dorg.kie.server.router.tls.keystore.password = &lt;KEYSTORE_PWD&gt;
      -Dorg.kie.server.router.tls.keystore.keyalias = &lt;KEYSTORE_ALIAS&gt;
      -Dorg.kie.server.router.tls.port = &lt;HTTPS_PORT&gt;
      -jar rhpam-7.9.0-smart-router.jar</pre><p class="simpara">
							<code class="literal">org.kie.server.router.tls.port</code> is a property used to configure the HTTPS port. The default HTTPS port value is <code class="literal">9443</code>.
						</p></li></ul></div></section><section class="section" id="kie-server-smart-router-enable-endpoint-authentication-proc"><div class="titlepage"><div><div><h2 class="title">31.3. Configuring Smart Router for endpoint authentication</h2></div></div></div><p>
					You can configure Smart Router (KIE Server Router) for endpoint authentication.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server is installed on each node of a Red Hat JBoss EAP 7.3 cluster.
						</li><li class="listitem">
							Smart Router is installed and configured. For more information, see <a class="xref" href="#clustering-smart-router-install-proc_clustering-runtime-standalone" title="31.1. Clustering KIE Servers with Smart Router">Section 31.1, “Clustering KIE Servers with Smart Router”</a>.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To start Smart Router with endpoint authentication enabled, configure the management credentials:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Add the following properties to your KIE Server configuration:
								</p><pre class="screen">`org.kie.server.router.management.username`
`org.kie.server.router.management.password`</pre><p class="simpara">
									The default <code class="literal">username</code> is the KIE Server ID.
								</p></li><li class="listitem"><p class="simpara">
									Add the following property to your Smart Router configuration:
								</p><pre class="screen">`org.kie.server.router.management.password`</pre><p class="simpara">
									The <code class="literal">password</code> property values are <code class="literal">true</code> or <code class="literal">false</code> (default).
								</p></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Enabling endpoint authentication means any any operation that lists, adds or removes containers must be authenticated.
							</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
									Optional: Add users to Smart Router. For example:
								</p><pre class="screen">java -jar rhpam-7.9.0-smart-router.jar -addUser &lt;USERNAME&gt; &lt;PASSWORD&gt;</pre></li><li class="listitem"><p class="simpara">
									Optional: Remove users from Smart Router. For example:
								</p><pre class="screen">java -jar rhpam-7.9.0-smart-router.jar -removeUser &lt;USERNAME&gt;</pre></li></ol></div></li></ul></div></section><section class="section" id="configuring-smart-router-behavior-con"><div class="titlepage"><div><div><h2 class="title">31.4. Configuring Smart Router behavior</h2></div></div></div><p>
					In a clustered environment with multiple KIE Servers, the default behavior is to send requests to each KIE Server in parallel and a host of each KIE Server is sent the request using the "round-robin" method. In the following example environment, each KIE Server is deployed with the same KJAR but each KJAR version is different:
				</p><div class="table" id="idm140016265867984"><p class="title"><strong>Table 31.1. Example environment</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 30%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016265862224" scope="col">Server Name</th><th align="left" valign="top" id="idm140016265861136" scope="col">KJAR version</th><th align="left" valign="top" id="idm140016270442656" scope="col">Hosts</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016265862224">
								<p>
									<code class="literal">kie-server1</code>
								</p>
								</td><td align="left" valign="top" headers="idm140016265861136">
								<p>
									<code class="literal">kjar:1.0</code> <code class="literal">(alias=kjar, group-id=com.example, artifact-id=sample-kjar, version=1.0)</code>
								</p>
								</td><td align="left" valign="top" headers="idm140016270442656">
								<p>
									<code class="literal">129.0.1.1, 129.0.1.2, 129.0.1.3</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm140016265862224">
								<p>
									<code class="literal">kie-server2</code>
								</p>
								</td><td align="left" valign="top" headers="idm140016265861136">
								<p>
									<code class="literal">kjar:2.0</code> <code class="literal">(alias=kjar, group-id=com.example, artifact-id=sample-kjar, version=2.0)</code>
								</p>
								</td><td align="left" valign="top" headers="idm140016270442656">
								<p>
									<code class="literal">129.0.2.1, 129.0.2.2, 129.0.2.3</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm140016265862224">
								<p>
									<code class="literal">kie-server3</code>
								</p>
								</td><td align="left" valign="top" headers="idm140016265861136">
								<p>
									<code class="literal">kjar:3.0</code> <code class="literal">(alias=kjar, group-id=com.example, artifact-id=sample-kjar, version=3.0)</code>
								</p>
								</td><td align="left" valign="top" headers="idm140016270442656">
								<p>
									<code class="literal">129.0.3.1, 129.0.3.2, 129.0.3.3</code>
								</p>
								</td></tr></tbody></table></div></div><p>
					If you send a request, the request is sent to <code class="literal">kie-server1 (129.0.1.2)</code>, <code class="literal">kie-server2 (129.0.2.3)</code>, and <code class="literal">kie-server3 (129.0.3.1)</code>.
				</p><p>
					If you send a second request, that request is sent to the next host of each KIE Server. For example, <code class="literal">kie-server1 (129.0.1.3)</code>, <code class="literal">kie-server2 (129.0.2.1)</code>, and <code class="literal">kie-server3 (129.0.3.2)</code>.
				</p><p>
					Smart Router has three components that you can modify to change this behavior:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">ContainerResolver</span></dt><dd>
								The component responsible for finding the container id to use when interacting with servers.
							</dd><dt><span class="term">RestrictionPolicy</span></dt><dd>
								The component responsible for disallowing Smart Router to use specific endpoints.
							</dd><dt><span class="term">ConfigRepository</span></dt><dd>
								The component responsible for maintaining the Smart Router configuration. This is mainly related to the routing table.
							</dd><dt><span class="term">IdentityService</span></dt><dd>
								The component responsible for allowing you to use your own identity provider. This is for KIE Server instances.
							</dd></dl></div><p>
					Smart Router uses the <code class="literal">ServiceLoader</code> utility to implement these components:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">ContainerResolver</span></dt><dd>
								<code class="literal">META-INF/services/org.kie.server.router.spi.ContainerResolver</code>
							</dd><dt><span class="term">RestrictionPolicy</span></dt><dd>
								<code class="literal">META-INF/services/org.kie.server.router.spi.RestrictionPolicy</code>
							</dd><dt><span class="term">ConfigRepository</span></dt><dd>
								<code class="literal">META-INF/services/org.kie.server.router.spi.ConfigRepository</code>
							</dd><dt><span class="term">IdentityService</span></dt><dd>
								<code class="literal">META-INF/services/org.kie.server.router.identity.IdentityService</code>
							</dd></dl></div><p>
					For example, for the above scenario, you can customize the <code class="literal">ContainerResolver</code> to make Smart Router search for the latest version of the KJAR process across all available KIE Servers and to always start with that process. This scenario would mean that each KIE Server hosts a single KJAR and each version will share the same alias.
				</p><p>
					Since Smart Router is an executable jar, to include extensions, you need to modify the command. For example:
				</p><pre class="screen">java -cp LOCATION/router-ext-7.9.0.redhat-00002.jar:rhpam-7.9.0-smart-router.jar org.kie.server.router.KieServerRouter</pre><p>
					Once the service is started you will see log output stating the implementation that is used for the components:
				</p><pre class="screen">Mar 01, 2017 1:47:10 PM org.kie.server.router.KieServerRouter &lt;init&gt;
INFO: KIE Server router repository implementation is InMemoryConfigRepository
Mar 01, 2017 1:47:10 PM org.kie.server.router.proxy.KieServerProxyClient &lt;init&gt;
INFO: Using 'LatestVersionContainerResolver' container resolver and restriction policy 'ByPassUserNotAllowedRestrictionPolicy'
Mar 01, 2017 1:47:10 PM org.xnio.Xnio &lt;clinit&gt;
INFO: XNIO version 3.3.6.Final
Mar 01, 2017 1:47:10 PM org.xnio.nio.NioXnio &lt;clinit&gt;
INFO: XNIO NIO Implementation Version 3.3.6.Final
Mar 01, 2017 1:47:11 PM org.kie.server.router.KieServerRouter start
INFO: KieServerRouter started on localhost:9000 at Wed Mar 01 13:47:11 CET 2017</pre></section></section><section class="chapter" id="clustering-quartz-proc_clustering-runtime-standalone"><div class="titlepage"><div><div><h2 class="title">Chapter 32. Configuring Quartz timer service</h2></div></div></div><p>
				When you run KIE Server in a cluster you can configure the Quartz timer service.
			</p><p>
				Before you configure a database on your application server, you must prepare the database for Quartz to create Quartz tables, which will hold the timer data, and the Quartz definition file.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A supported non-JTA data source is connected to your application server, for example a PostgreSQL data source.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create Quartz tables in your database to enable timer events to synchronize using the DDL script for your database.
					</p><p class="simpara">
						The DDL script is available in the extracted supplementary ZIP archive in <code class="literal"><span class="emphasis"><em>QUARTZ_HOME</em></span>/docs/dbTables</code>.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Scripts containing the word <code class="literal">drop</code> such as <code class="literal">quartz_tables_drop_db2.sql</code> drop the Quartz table before creating it.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Create the Quartz configuration file <code class="literal">quartz-definition.properties</code> in the <code class="literal"><span class="emphasis"><em>JBOSS_HOME</em></span>/<span class="emphasis"><em>MODE</em></span>/configuration/</code> directory and add the following example content:
					</p><pre class="programlisting language-bash">#=========================================================================
# Configure Main Scheduler Properties
#=========================================================================
org.quartz.scheduler.instanceName = jBPMClusteredScheduler
org.quartz.scheduler.instanceId = AUTO
#=========================================================================
# Configure ThreadPool
#=========================================================================
org.quartz.threadPool.class = org.quartz.simpl.SimpleThreadPool
org.quartz.threadPool.threadCount = 5
org.quartz.threadPool.threadPriority = 5
#=========================================================================
# Configure JobStore
#=========================================================================
org.quartz.jobStore.misfireThreshold = 60000
org.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreCMT
org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.PostgreSQLDelegate
org.quartz.jobStore.useProperties=false
org.quartz.jobStore.dataSource=managedDS
org.quartz.jobStore.nonManagedTXDataSource=notManagedDS
org.quartz.jobStore.tablePrefix=QRTZ_
org.quartz.jobStore.isClustered=true
org.quartz.jobStore.clusterCheckinInterval = 20000
#=========================================================================
# Configure Datasources
#=========================================================================
org.quartz.dataSource.managedDS.jndiURL=jboss/datasources/psbpmsDS
org.quartz.dataSource.notManagedDS.jndiURL=jboss/datasources/quartzNotManagedDS
# Note the configured data sources that accommodate the two Quartz schemes at the very end of the file.</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							The recommended interval for cluster discovery is 20 seconds and is set in the <code class="literal">org.quartz.jobStore.clusterCheckinInterval</code> attribute of the <code class="literal">quartz-definition.properties</code> file. Consider the performance impact on your system and modify the settings as necessary.
						</p></div></div></li><li class="listitem">
						Provide the absolute path to your <code class="literal">quartz-definition.properties</code> file in the <code class="literal">org.quartz.properties</code> property.
					</li><li class="listitem"><p class="simpara">
						Optional: To configure the number of retries and delay for the Quartz trigger, update the following system properties:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">org.jbpm.timer.quartz.retries</code> (default value is 5)
							</li><li class="listitem">
								<code class="literal">org.jbpm.timer.quartz.delay</code> in milliseconds (default value is 1000)
							</li></ul></div></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					By default, Quartz requires two data sources:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Managed data source to participate in the transaction of the process engine.
						</li><li class="listitem">
							Unmanaged data source to look up timers to trigger without any transaction handling
						</li></ul></div><p>
					Red Hat Process Automation Manager business applications assume that the Quartz database (schema) will be co-located with Red Hat Process Automation Manager tables and therefore produce data sources used for transactional operations for Quartz.
				</p><p>
					The other (non transactional) data source must be configured but it should point to the same database as the main data source.
				</p></div></div></section><section class="chapter" id="additional_resources_3"><div class="titlepage"><div><div><h2 class="title">Chapter 33. Additional resources</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-install-on-eap"><span class="emphasis"><em>Installing and configuring Red Hat Process Automation Manager on Red Hat JBoss EAP 7.3</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-openshift-operator"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using Operators</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-openshift-templates"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using templates</em></span></a>
					</li></ul></div></section></div><div class="part" id="assembly-install-on-jws"><div class="titlepage"><div><div><h1 class="title">Part IV. Installing and configuring Red Hat Process Automation Manager on Red Hat JBoss Web Server</h1></div></div></div><div class="partintro" id="idm140016266231664"><div/><p>
				This document describes how to install Red Hat Process Automation Manager 7.10 on JBoss Web Server.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have reviewed the information in <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
					</li><li class="listitem">
						You have installed Red Hat JBoss Web Server 5.3.0. For information about installing Red Hat JBoss Web Server, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_web_server/5.4/html-single/installation_guide/index"><span class="emphasis"><em>Red Hat JBoss Web Server Installation Guide</em></span></a>.
					</li></ul></div><div class="toc"><p><strong>Table of Contents</strong></p><ul class="toc"><li><span class="chapter"><a href="#installing-con_install-on-jws">34. About Red Hat Process Automation Manager</a></span><ul><li><span class="section"><a href="#components-con_install-on-jws">34.1. Red Hat Process Automation Manager components</a></span></li><li><span class="section"><a href="#roles-users-con_install-on-jws">34.2. Red Hat Process Automation Manager roles and users</a></span></li></ul></li><li><span class="chapter"><a href="#install-download-proc_install-on-jws">35. Downloading the Red Hat Process Automation Manager installation files</a></span></li><li><span class="chapter"><a href="#assembly_installing-using-installer_install-on-jws">36. Using the Red Hat Process Automation Manager installer</a></span><ul><li><span class="section"><a href="#installer-run-proc_install-on-jws">36.1. Using the installer in interactive mode</a></span></li><li><span class="section"><a href="#installer-run-cli-proc_install-on-jws">36.2. Using the installer in CLI mode</a></span></li></ul></li><li><span class="chapter"><a href="#kie_server_zip_file_installation_and_configuration">37. KIE Server ZIP file installation and configuration</a></span><ul><li><span class="section"><a href="#jws-zip-install-proc_install-on-jws">37.1. Installing KIE Server from ZIP files</a></span></li><li><span class="section"><a href="#jws-jdbc-config_install-on-jws">37.2. Configuring JDBC Web Server data sources</a></span></li></ul></li><li><span class="chapter"><a href="#securing-passwords-jws-proc_install-on-jws">38. Securing passwords with a keystore</a></span></li><li><span class="chapter"><a href="#jws-kie-server-verify-proc_install-on-jws">39. Verifying the KIE Server installation</a></span></li><li><span class="chapter"><a href="#controller-jws-install-proc_install-on-jws">40. Downloading and installing the headless Process Automation Manager controller</a></span></li><li><span class="chapter"><a href="#run-dc-standalone-proc_install-on-jws">41. Configuring and running standalone Business Central</a></span></li><li><span class="chapter"><a href="#maven-repo-using-con_install-on-jws">42. Maven settings and repositories for Red Hat Process Automation Manager</a></span><ul><li><span class="section"><a href="#maven-pom-configuration-proc_install-on-jws">42.1. Configuring Maven using the project configuration file (<code class="literal">pom.xml</code>)</a></span></li><li><span class="section"><a href="#maven-settings-configuration-ref_install-on-jws">42.2. Modifying the Maven settings file</a></span></li><li><span class="section"><a href="#maven-managing-dependencies-proc_install-on-jws">42.3. Adding Maven dependencies for Red Hat Process Automation Manager</a></span></li><li><span class="section"><a href="#offline-repo-proc_install-on-jws">42.4. Preparing a Maven mirror repository for offline use</a></span></li></ul></li><li><span class="chapter"><a href="#git-import-proc_install-on-jws">43. Importing projects from Git repositories</a></span></li><li><span class="chapter"><a href="#ldap-ssl-con_install-on-jws">44. Integrating LDAP and SSL</a></span></li><li><span class="appendix"><a href="#business-central-system-properties-ref_install-on-jws">B. Business Central system properties</a></span></li></ul></div></div><section class="chapter" id="installing-con_install-on-jws"><div class="titlepage"><div><div><h2 class="title">Chapter 34. About Red Hat Process Automation Manager</h2></div></div></div><p>
				Red Hat Process Automation Manager is the Red Hat middleware platform for creating business automation applications and microservices. It enables enterprise business and IT users to document, simulate, manage, automate, and monitor business processes and policies. It is designed to empower business and IT users to collaborate more effectively, so business applications can be changed easily and quickly.
			</p><p>
				Red Hat Process Automation Manager is made up of Business Central and KIE Server.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						KIE Server is the server where rules and other artifacts are executed. It is used to instantiate and execute rules and solve planning problems. KIE Server provides the runtime environment for business assets and accesses the data stored in the assets repository (knowledge store).
					</li><li class="listitem">
						Business Central
					</li><li class="listitem"><p class="simpara">
						Business Central is the graphical user interface where you create and manage business rules that KIE Server executes. It enables you to perform the following tasks:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Create, manage, and edit your rules, processes, and related assets.
							</li><li class="listitem">
								Manage connected KIE Server instances and their KIE containers (deployment units).
							</li><li class="listitem"><p class="simpara">
								Execute runtime operations against processes and tasks in KIE Server instances connected to Business Central.
							</p><p class="simpara">
								Business Central is also available as a standalone JAR file. You can use the Business Central standalone JAR file to run Business Central without needing to deploy it to an application server.
							</p></li></ul></div></li></ul></div><p>
				Red Hat JBoss Web Server is an enterprise ready web server designed for medium and large applications, based on Tomcat. Red Hat JBoss Web Server provides organizations with a single deployment platform for Java Server Pages (JSP) and Java Servlet technologies, PHP, and CGI.
			</p><p>
				On a Red Hat JBoss Web Server installation, you can install KIE Server and the headless Process Automation Manager controller. Alternatively, you can run the standalone Business Central JAR file.
			</p><p>
				The instructions in this document explain how to install Red Hat Process Automation Manager in a Red Hat JBoss Web Server instance.
			</p><p>
				For instructions on how to install Red Hat Process Automation Manager in other environments, see the following documents:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-install-on-eap"><span class="emphasis"><em>Installing and configuring Red Hat Process Automation Manager on Red Hat JBoss EAP 7.3</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-installing-kie-server-on-was"><span class="emphasis"><em>Installing and configuring KIE Server on IBM WebSphere Application Server</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-installing-kie-server-on-wls"><span class="emphasis"><em>Installing and configuring KIE Server on Oracle WebLogic Server</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-openshift-operator"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using Operators</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-openshift-templates"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using templates</em></span></a>
					</li></ul></div><p>
				For information about supported components, see the following documents:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/3405361">What is the mapping between Red Hat Process Automation Manager and the Maven library version?</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/articles/3405381">Red Hat Process Automation Manager 7 Supported Configurations</a>
					</li></ul></div><section class="section" id="components-con_install-on-jws"><div class="titlepage"><div><div><h2 class="title">34.1. Red Hat Process Automation Manager components</h2></div></div></div><p>
					Red Hat Process Automation Manager is made up of Business Central and KIE Server.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Business Central is the graphical user interface where you create and manage business rules. You can install Business Central in a Red Hat JBoss EAP instance or on the Red Hat OpenShift Container Platform (OpenShift).
						</p><p class="simpara">
							Business Central is also available as a standalone JAR file. You can use the Business Central standalone JAR file to run Business Central without deploying it to an application server.
						</p></li><li class="listitem"><p class="simpara">
							KIE Server is the server where rules and other artifacts are executed. It is used to instantiate and execute rules and solve planning problems. You can install KIE Server in a Red Hat JBoss EAP instance, in a Red Hat JBoss EAP cluster, on OpenShift, in an Oracle WebLogic server instance, in an IBM WebSphere Application Server instance, or as a part of Spring Boot application.
						</p><p class="simpara">
							You can configure KIE Server to run in managed or unmanaged mode. If KIE Server is unmanaged, you must manually create and maintain KIE containers (deployment units). A KIE container is a specific version of a project. If KIE Server is managed, the Process Automation Manager controller manages the KIE Server configuration and you interact with the Process Automation Manager controller to create and maintain KIE containers.
						</p><p class="simpara">
							On a Red Hat JBoss Web Server installation, you can install KIE Server and the headless Process Automation Manager controller. Alternatively, you can run the standalone Business Central JAR file.
						</p></li></ul></div></section><section class="section" id="roles-users-con_install-on-jws"><div class="titlepage"><div><div><h2 class="title">34.2. Red Hat Process Automation Manager roles and users</h2></div></div></div><p>
					To access Business Central or KIE Server, you must create users and assign them appropriate roles before the servers are started. You can create users and roles when you install Business Central or KIE Server.
				</p><p>
					Business Central and KIE Server use the Java Authentication and Authorization Service (JAAS) login module to authenticate users. If both Business Central and KIE Server are running on a single instance, then they share the same JAAS subject and security domain. Therefore, a user who is authenticated for Business Central can also access KIE Server.
				</p><p>
					However, if Business Central and KIE Server are running on different instances, then the JAAS login module is triggered for both individually. Therefore, a user who is authenticated for Business Central must be authenticated separately to access KIE Server. For example, if a user who is authenticated on Business Central but not authenticated on KIE Server tries to view or manage process definitions in Business Central, a 401 error is logged in the log file and the <code class="literal">Invalid credentials to load data from remote server. Contact your system administrator.</code> message appears in Business Central.
				</p><p>
					This section describes Red Hat Process Automation Manager user roles.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The <code class="literal">admin</code>, <code class="literal">analyst</code>, <code class="literal">developer</code>, <code class="literal">manager</code>, <code class="literal">process-admin</code>, <code class="literal">user</code>, and <code class="literal">rest-all</code> roles are reserved for Business Central. The <code class="literal">kie-server</code> role is reserved for KIE Server. For this reason, the available roles can differ depending on whether Business Central, KIE Server, or both are installed.
					</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">admin</code>: Users with the <code class="literal">admin</code> role are the Business Central administrators. They can manage users and create, clone, and manage repositories. They have full access to make required changes in the application. Users with the <code class="literal">admin</code> role have access to all areas within Red Hat Process Automation Manager.
						</li><li class="listitem">
							<code class="literal">analyst</code>: Users with the <code class="literal">analyst</code> role have access to all high-level features. They can model and execute their projects. However, these users cannot add contributors to spaces or delete spaces in the <span class="strong strong"><strong>Design → Projects</strong></span> view. Access to the <span class="strong strong"><strong>Deploy → Execution Servers</strong></span> view, which is intended for administrators, is not available to users with the <code class="literal">analyst</code> role. However, the <span class="strong strong"><strong>Deploy</strong></span> button is available to these users when they access the Library perspective.
						</li><li class="listitem">
							<code class="literal">developer</code>: Users with the <code class="literal">developer</code> role have access to almost all features and can manage rules, models, process flows, forms, and dashboards. They can manage the asset repository, they can create, build, and deploy projects, and they can use Red Hat CodeReady Studio to view processes. Only certain administrative functions such as creating and cloning a new repository are hidden from users with the <code class="literal">developer</code> role.
						</li><li class="listitem">
							<code class="literal">manager</code>: Users with the <code class="literal">manager</code> role can view reports. These users are usually interested in statistics about the business processes and their performance, business indicators, and other business-related reporting. A user with this role has access only to process and task reports.
						</li><li class="listitem">
							<code class="literal">process-admin</code>: Users with the <code class="literal">process-admin</code> role are business process administrators. They have full access to business processes, business tasks, and execution errors. These users can also view business reports and have access to the Task Inbox list.
						</li><li class="listitem">
							<code class="literal">user</code>: Users with the <code class="literal">user</code> role can work on the Task Inbox list, which contains business tasks that are part of currently running processes. Users with this role can view process and task reports and manage processes.
						</li><li class="listitem">
							<code class="literal">rest-all</code>: Users with the <code class="literal">rest-all</code> role can access Business Central REST capabilities.
						</li><li class="listitem">
							<code class="literal">kie-server</code>: Users with the <code class="literal">kie-server</code> role can access KIE Server REST capabilities. This role is mandatory for users to have access to <span class="strong strong"><strong>Manage</strong></span> and <span class="strong strong"><strong>Track</strong></span> views in Business Central.
						</li></ul></div></section></section><section class="chapter" id="install-download-proc_install-on-jws"><div class="titlepage"><div><div><h2 class="title">Chapter 35. Downloading the Red Hat Process Automation Manager installation files</h2></div></div></div><p>
				You can use the installer JAR file or deployable ZIP files to install Red Hat Process Automation Manager. You can run the installer in interactive or command line interface (CLI) mode. Alternatively, you can extract and configure the Business Central and KIE Server deployable ZIP files. If you want to run Business Central without deploying it to an application server, download the Business Central Standalone JAR file.
			</p><p>
				Download a Red Hat Process Automation Manager distribution that meets your environment and installation requirements.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="strong strong"><strong>Product:</strong></span> Process Automation Manager
							</li><li class="listitem">
								<span class="strong strong"><strong>Version:</strong></span> 7.10
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Download one of the following product distributions, depending on your preferred installation method:
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							You only need to download one of these distributions.
						</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								If you want to use the installer to install Red Hat Process Automation Manager on Red Hat JBoss Web Server, download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Installer</strong></span> (<code class="literal">rhpam-installer-7.10.0.jar</code>). The installer graphical user interface guides you through the installation process.
							</li><li class="listitem"><p class="simpara">
								To install KIE Server on Red Hat JBoss Web Server using the deployable ZIP files, download the following files:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Add Ons</strong></span> (<code class="literal">rhpam-7.10.0-add-ons.zip</code>)
									</li><li class="listitem">
										<span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Maven Repository</strong></span> (<code class="literal">rhpam-7.10.0-maven-repository.zip</code>)
									</li></ul></div></li><li class="listitem">
								To run Business Central without needing to deploy it to an application server, download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Business Central Standalone</strong></span> (<code class="literal">rhpam-7.10.0-business-central-standalone.jar</code>).
							</li></ul></div></li></ol></div></section><section class="chapter" id="assembly_installing-using-installer_install-on-jws"><div class="titlepage"><div><div><h2 class="title">Chapter 36. Using the Red Hat Process Automation Manager installer</h2></div></div></div><p>
				This section describes how to install Business Central and the KIE Server using the installer JAR file. The JAR file is an executable file that installs Red Hat Process Automation Manager in an existing Red Hat JBoss Web Server 5.3.0 server installation. You can run the installer in interactive or command line interface (CLI) mode.
			</p><div class="formalpara"><p class="title"><strong>Next steps:</strong></p><p>
					Follow the instructions in one of the following sections:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="#installer-run-proc_install-on-jws" title="36.1. Using the installer in interactive mode">Section 36.1, “Using the installer in interactive mode”</a>
					</li><li class="listitem">
						<a class="xref" href="#installer-run-cli-proc_install-on-jws" title="36.2. Using the installer in CLI mode">Section 36.2, “Using the installer in CLI mode”</a>
					</li></ul></div><section class="section" id="installer-run-proc_install-on-jws"><div class="titlepage"><div><div><h2 class="title">36.1. Using the installer in interactive mode</h2></div></div></div><p>
					The installer for Red Hat Process Automation Manager is an executable JAR file. You can use it to install Red Hat Process Automation Manager in an existing Red Hat JBoss Web Server 5.3.0 server installation.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						For security reasons, you should run the installer as a non-root user.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Installer</strong></span> has been downloaded. For instructions, see <a class="xref" href="#install-download-proc_install-on-jws" title="Chapter 35. Downloading the Red Hat Process Automation Manager installation files">Chapter 35, <em>Downloading the Red Hat Process Automation Manager installation files</em></a>.
						</li><li class="listitem">
							A supported JDK is installed. For a list of supported JDKs, see <a class="link" href="https://access.redhat.com/articles/3405381">Red Hat Process Automation Manager 7 Supported Configurations</a>.
						</li><li class="listitem">
							A backed-up Red Hat JBoss Web Server 5.3.0 server installation is available.
						</li><li class="listitem"><p class="simpara">
							Sufficient user permissions to complete the installation are granted.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Ensure that you are logged in with a user that has write permission for Tomcat.
							</p></div></div></li><li class="listitem"><p class="simpara">
							The JAR binary is included in <code class="literal">$PATH</code> environment variable. On Red Hat Enterprise Linux, it is included in the <code class="literal">java-$<span class="emphasis"><em>JAVA_VERSION</em></span>-openjdk-devel</code> package.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Red Hat Process Automation Manager is designed to work with UTF-8 encoding. If a different encoding system is used by the underlying JVM, unexpected errors might occur. To ensure UTF-8 is used by the JVM, use the <code class="literal">"-Dfile.encoding=UTF-8"</code> system property. For a list of system properties, see <a class="xref" href="#business-central-system-properties-ref_install-on-jws" title="Appendix B. Business Central system properties">Appendix B, <em>Business Central system properties</em></a>.
							</p></div></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In a terminal window, navigate to the directory where you downloaded the installer JAR file and enter the following command:
						</p><pre class="screen">java -jar rhpam-installer-7.10.0.jar</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								When running the installer on Windows, you may be prompted to provide administrator credentials during the installation. To prevent this requirement, add the <code class="literal">izpack.mode=privileged</code> option to the installation command:
							</p><pre class="screen">java -Dizpack.mode=privileged -jar
rhpam-installer-7.10.0.jar</pre><p>
								Furthermore, when running the installer on a 32-bit Java virtual machine, you might encounter memory limitations. To prevent this issue, run this command:
							</p><pre class="screen">java -XX:MaxHeapSize=4g -jar
rhpam-installer-7.10.0.jar</pre></div></div><p class="simpara">
							The graphical installer displays a splash screen and a license agreement page.
						</p></li><li class="listitem">
							Click <span class="strong strong"><strong>I accept the terms of this license agreement</strong></span> and click <span class="strong strong"><strong>Next</strong></span>.
						</li><li class="listitem">
							Specify the Red Hat JBoss Web Server 5.3.0 server home where you want to install Red Hat Process Automation Manager and click <span class="strong strong"><strong>Next</strong></span>.
						</li><li class="listitem"><p class="simpara">
							Select the components that you want to install and click <span class="strong strong"><strong>Next</strong></span>.
						</p><p class="simpara">
							You cannot install Business Central on Red Hat JBoss Web Server. You can only install it on Red Hat JBoss EAP. However, you can install KIE Server and the headless Process Automation Manager controller on Red Hat JBoss Web Server. The headless Process Automation Manager controller is used to manage KIE Server. Install the headless Process Automation Manager controller if you plan to manage multiple KIE Server instances.
						</p></li><li class="listitem"><p class="simpara">
							Create a user and click <span class="strong strong"><strong>Next</strong></span>. By default, if you install both Business Central and KIE Server in the same container the new user is given the <code class="literal">admin</code>, <code class="literal">kie-server</code>, and <code class="literal">rest-all</code> roles. If you install only KIE Server, the user is given the <code class="literal">kie-server</code> role. The <code class="literal">kie-server</code> role is required to access KIE Server REST capabilities.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Make sure that the specified user name is not the same as an existing user, role, or group. For example, do not create a user with the user name <code class="literal">admin</code>.
							</p><p>
								The password must have at least eight characters and must contain at least one number and one non-alphanumeric character, but not &amp; (ampersand).
							</p></div></div><p class="simpara">
							Make a note of the user name and password. You will need them to access Business Central and KIE Server.
						</p></li><li class="listitem">
							On the <span class="strong strong"><strong>Installation Overview</strong></span> page, review the components that you will install and click <span class="strong strong"><strong>Next</strong></span> to start the installation.
						</li><li class="listitem">
							When the installation has completed, click <span class="strong strong"><strong>Next</strong></span>.
						</li><li class="listitem"><p class="simpara">
							If KIE Server is installed, the <span class="strong strong"><strong>Configure Runtime</strong></span> step appears under <span class="strong strong"><strong>Component Installation</strong></span>. On the <span class="strong strong"><strong>Configure Runtime Environment</strong></span> page, choose to perform the default installation or perform an advanced configuration.
						</p><p class="simpara">
							If you choose <span class="strong strong"><strong>Perform advanced configuration</strong></span>, you can choose to configure database settings or customize certain KIE Server options.
						</p></li><li class="listitem"><p class="simpara">
							If you selected <span class="strong strong"><strong>Customize database settings</strong></span>, on the <span class="strong strong"><strong>JDBC Drive Configuration</strong></span> page specify a data source JDBC driver vendor, select one or more driver JAR files, and click <span class="strong strong"><strong>Next</strong></span>.
						</p><p class="simpara">
							A data source is an object that enables a Java Database Connectivity (JDBC) client, such as an application server, to establish a connection with a database. Applications look up the data source on the Java Naming and Directory Interface (JNDI) tree or in the local application context and request a database connection to retrieve data. You must configure data sources for KIE Server to ensure correct data exchange between the servers and the designated database.
						</p></li><li class="listitem"><p class="simpara">
							If you selected <span class="strong strong"><strong>Customize KIE Server properties</strong></span>, on the <span class="strong strong"><strong>KIE Server Properties Configuration</strong></span> page change any of the following properties:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Change the value of <span class="strong strong"><strong>KIE Server ID</strong></span> to change the name of the KIE Server property.
								</li><li class="listitem">
									Deselect any KIE Server functions that you want to disable.
								</li></ul></div></li><li class="listitem">
							Click <span class="strong strong"><strong>Next</strong></span> to configure the runtime environment.
						</li><li class="listitem">
							When <span class="strong strong"><strong>Processing finished</strong></span> appears at the top of the screen, click <span class="strong strong"><strong>Next</strong></span> to complete the installation.
						</li><li class="listitem"><p class="simpara">
							Optional: Click <span class="strong strong"><strong>Generate Installation Script and Properties File</strong></span> to save the installation data in XML files, and then click <span class="strong strong"><strong>Done</strong></span>.
						</p><p class="simpara">
							The installer generates two files. The <code class="literal">auto.xml</code> file automates future installations and the <code class="literal">auto.xml.variables</code> file stores user passwords and other sensitive variables. Use the <code class="literal">auto.xml</code> file to repeat the Red Hat Process Automation Manager installation on multiple systems with the same type of server and the same configuration as the original installation. If necessary, update the <code class="literal">installpath</code> parameter in the <code class="literal">auto.xml</code> file. To perform an installation using the XML file, enter the following command:
						</p><pre class="screen">java -jar rhpam-installer-7.10.0.jar &lt;path-to-auto.xml-file&gt;</pre></li></ol></div><p>
					You have successfully installed Red Hat Process Automation Manager using the installer. If you installed only Business Central, repeat these steps to install KIE Server on a separate server.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you use Microsoft SQL Server, make sure you have configured applicable transaction isolation for your database. If you do not, you may experience deadlocks. The recommended configuration is to turn on <code class="literal">ALLOW_SNAPSHOT_ISOLATION</code> and <code class="literal">READ_COMMITTED_SNAPSHOT</code> by entering the following statements:
					</p><pre class="screen">ALTER DATABASE &lt;DBNAME&gt; SET ALLOW_SNAPSHOT_ISOLATION ON
ALTER DATABASE &lt;DBNAME&gt; SET READ_COMMITTED_SNAPSHOT ON</pre></div></div></section><section class="section" id="installer-run-cli-proc_install-on-jws"><div class="titlepage"><div><div><h2 class="title">36.2. Using the installer in CLI mode</h2></div></div></div><p>
					You can use the command-line interface (CLI) to run the Red Hat Process Automation Manager installer.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						For security reasons, you should run the installer as a non-root user.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Installer</strong></span> has been downloaded. For instructions, see <a class="xref" href="#install-download-proc_install-on-jws" title="Chapter 35. Downloading the Red Hat Process Automation Manager installation files">Chapter 35, <em>Downloading the Red Hat Process Automation Manager installation files</em></a>.
						</li><li class="listitem">
							A supported JDK is installed. For a list of supported JDKs, see <a class="link" href="https://access.redhat.com/articles/3405381">Red Hat Process Automation Manager 7 Supported Configurations</a>.
						</li><li class="listitem">
							A backed-up Red Hat JBoss Web Server 5.3.0 server installation is available.
						</li><li class="listitem"><p class="simpara">
							Sufficient user permissions to complete the installation are granted.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Ensure that you are logged in with a user that has write permission for Tomcat.
							</p></div></div></li><li class="listitem"><p class="simpara">
							The JAR binary is included in the <code class="literal">$PATH</code> environment variable. On Red Hat Enterprise Linux, it is included in the <code class="literal">java-$<span class="emphasis"><em>JAVA_VERSION</em></span>-openjdk-devel</code> package.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Red Hat Process Automation Manager is designed to work with UTF-8 encoding. If a different encoding system is used by the underlying JVM, unexpected errors might occur. To ensure UTF-8 is used by the JVM, use the <code class="literal">"-Dfile.encoding=UTF-8"</code> system property. For a list of system properties, see <a class="xref" href="#business-central-system-properties-ref_install-on-jws" title="Appendix B. Business Central system properties">Appendix B, <em>Business Central system properties</em></a>.
							</p></div></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In a terminal window, navigate to the directory where you downloaded the installer file and enter the following command:
						</p><pre class="screen">java -jar rhpam-installer-7.10.0.jar -console</pre><p class="simpara">
							The command-line interactive process will start and display the End-User License Agreement.
						</p><pre class="screen">press 1 to continue, 2 to quit, 3 to redisplay.</pre></li><li class="listitem"><p class="simpara">
							Read the license agreement, enter <code class="literal">1</code>, and press <code class="literal">Enter</code> to continue:
						</p><pre class="screen">Specify the home directory of one of the following servers:  Red Hat JBoss EAP 7 or Red Hat JBoss Web Server 5. For more information, see https://access.redhat.com/articles/3405381[Red Hat Process Automation Manager 7 Supported Configurations].</pre></li><li class="listitem"><p class="simpara">
							Enter the parent directory of an existing Red Hat JBoss Web Server 5.3.0 installation.
						</p><p class="simpara">
							The installer will verify the location of the installation at the location provided. Enter <code class="literal">1</code> to confirm and continue.
						</p></li><li class="listitem"><p class="simpara">
							Follow the instructions in the installer to complete the installation.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								When you create the user name and password, make sure that the specified user name does not conflict with any known title of a role or a group. For example, if there is a role called <code class="literal">admin</code>, you should not create a user with the user name <code class="literal">admin</code>.
							</p><p>
								The password must have at least eight characters and must contain at least one number and one non-alphanumeric character (<span class="emphasis"><em>not</em></span> including the character <code class="literal">&amp;</code>).
							</p><p>
								Make a note of the user name and password. You will need them to access Business Central and KIE Server.
							</p></div></div></li><li class="listitem"><p class="simpara">
							When the installation has completed, you will see this message:
						</p><pre class="screen">Would you like to generate an automatic installation script and properties file?</pre></li><li class="listitem">
							Enter <code class="literal">y</code> to create XML files that contain the installation data, or <code class="literal">n</code> to complete the installation. If you enter <code class="literal">y</code>, you are prompted to specify a path for the XML files.
						</li><li class="listitem"><p class="simpara">
							Enter a path or press the Enter key to accept the suggested path.
						</p><p class="simpara">
							The installer generates two files. The <code class="literal">auto.xml</code> file automates future installations and the <code class="literal">auto.xml.variables</code> file stores user passwords and other sensitive variables. Use the <code class="literal">auto.xml</code> file on multiple systems to easily repeat a Red Hat Process Automation Manager installation on the same type of server with the same configuration as the original installation. If necessary, update the <code class="literal">installpath</code> parameter in the <code class="literal">auto.xml</code> file. To perform an installation using the XML file, enter the following command:
						</p><pre class="screen">java -jar rhpam-installer-7.10.0.jar &lt;path-to-auto.xml-file&gt;</pre></li><li class="listitem">
							If you installed only KIE Server, repeat these steps to install the headless Process Automation Manager controller on a separate server.
						</li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you use Microsoft SQL Server, make sure you have configured applicable transaction isolation for your database. If you do not, you may experience deadlocks. The recommended configuration is to turn on ALLOW_SNAPSHOT_ISOLATION and READ_COMMITTED_SNAPSHOT by entering the following statements:
					</p><pre class="screen">ALTER DATABASE &lt;DBNAME&gt; SET ALLOW_SNAPSHOT_ISOLATION ON
ALTER DATABASE &lt;DBNAME&gt; SET READ_COMMITTED_SNAPSHOT ON</pre></div></div></section></section><section class="chapter" id="kie_server_zip_file_installation_and_configuration"><div class="titlepage"><div><div><h2 class="title">Chapter 37. KIE Server ZIP file installation and configuration</h2></div></div></div><p>
				You can install KIE Server using the <code class="literal">rhpam-7.10.0-kie-server-jws.zip</code> file available from the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Add Ons</strong></span> (<code class="literal">rhpam-7.10.0-add-ons.zip</code>) file on the Customer Portal and then configure the Java Database Connectivity (JDBC) web server data sources on Red Hat JBoss Web Server .
			</p><section class="section" id="jws-zip-install-proc_install-on-jws"><div class="titlepage"><div><div><h2 class="title">37.1. Installing KIE Server from ZIP files</h2></div></div></div><p>
					KIE Server provides the runtime environment for business assets and accesses the data stored in the assets repository (knowledge store). You can use ZIP files to install KIE Server on an existing Red Hat JBoss Web Server 5.3.0 server instance.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						To use the installer JAR file to install KIE Server, see <a class="xref" href="#assembly_installing-using-installer_install-on-jws" title="Chapter 36. Using the Red Hat Process Automation Manager installer">Chapter 36, <em>Using the Red Hat Process Automation Manager installer</em></a>.
					</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							The following files have been downloaded, as described in <a class="xref" href="#install-download-proc_install-on-jws" title="Chapter 35. Downloading the Red Hat Process Automation Manager installation files">Chapter 35, <em>Downloading the Red Hat Process Automation Manager installation files</em></a>:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									<span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Add Ons</strong></span> (<code class="literal">rhpam-7.10.0-add-ons.zip</code>)
								</li><li class="listitem">
									<span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Maven Repository</strong></span> (<code class="literal">rhpam-7.10.0-maven-repository.zip</code>)
								</li></ul></div></li><li class="listitem">
							A backed-up Red Hat JBoss Web Server 5.3.0 server installation is available. The base directory of the Red Hat JBoss Web Server installation is referred to as <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span></code>.
						</li><li class="listitem">
							Sufficient user permissions to complete the installation are granted.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Extract the <code class="literal">rhpam-7.10.0-add-ons.zip</code> file.
						</li><li class="listitem"><p class="simpara">
							From the extracted <code class="literal">rhpam-7.10.0-add-ons.zip</code> file, extract the following files:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">rhpam-7.10.0-kie-server-jws.zip</code>
								</li><li class="listitem">
									<code class="literal">rhpam-7.10.0-process-engine.zip</code>
								</li></ul></div><p class="simpara">
							In the following instructions, the directory that contains the extracted <code class="literal">rhpam-7.10.0-kie-server-jws.zip</code> file is called <code class="literal">JWS_TEMP_DIR</code> and the directory that contains the extracted <code class="literal">rhpam-7.10.0-process-engine.zip</code> file is called <code class="literal">ENGINE_TEMP_DIR</code>.
						</p></li><li class="listitem"><p class="simpara">
							Copy the <code class="literal">JWS_TEMP_DIR/rhpam-7.10.0-kie-server-jws/kie-server.war</code> directory to the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/webapps</code> directory.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Ensure the names of the Red Hat Process Automation Manager deployments you copy do not conflict with your existing deployments in the Red Hat JBoss Web Server instance.
							</p></div></div></li><li class="listitem">
							Remove the <code class="literal">.war</code> extensions from the <code class="literal">kie-server.war</code> folder.
						</li><li class="listitem">
							Move the <code class="literal">kie-tomcat-integration-7.48.0.Final-redhat-00002.jar</code> file from the <code class="literal">ENGINE_TEMP_DIR</code> directory to the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/lib</code> directory.
						</li><li class="listitem">
							Move the <code class="literal">jboss-jacc-api-&lt;VERSION&gt;.jar</code>, <code class="literal">slf4j-api-&lt;VERSION&gt;.jar</code>, and <code class="literal">slf4j-jdk14-&lt;VERSION&gt;.jar</code> files from the <code class="literal">ENGINE_TEMP_DIR/lib</code> directory to the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/lib</code> directory, where <code class="literal">&lt;VERSION&gt;</code> is the version artifact file name, in the <code class="literal">lib</code> directory.
						</li><li class="listitem"><p class="simpara">
							Add the following line to the <code class="literal">&lt;host&gt;</code> element in the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/conf/server.xml</code> file after the last Valve definition:
						</p><pre class="screen">&lt;Valve className="org.kie.integration.tomcat.JACCValve" /&gt;</pre></li><li class="listitem">
							Open the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/conf/tomcat-users.xml</code> file in a text editor.
						</li><li class="listitem"><p class="simpara">
							Add users and roles to the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/conf/tomcat-users.xml</code> file. In the following example, <code class="literal">&lt;ROLE_NAME&gt;</code> is a role supported by Red Hat Process Automation Manager. <code class="literal">&lt;USER_NAME&gt;</code> and <code class="literal">&lt;USER_PWD&gt;</code> are the user name and password of your choice:
						</p><pre class="screen">&lt;role rolename="&lt;ROLE_NAME&gt;"/&gt;
&lt;user username="&lt;USER_NAME&gt;" password="&lt;USER_PWD&gt;" roles="&lt;ROLE_NAME&gt;"/&gt;</pre><p class="simpara">
							If a user has more than one role, as shown in the following example, separate the roles with a comma:
						</p><pre class="screen">&lt;role rolename="admin"/&gt;
&lt;role rolename="kie-server"/&gt;
&lt;user username="rhpamUser" password="user1234" roles="admin,kie-server"/&gt;</pre></li><li class="listitem"><p class="simpara">
							Complete one of the following steps in the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/bin</code> directory:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									On Linux or UNIX, create the <code class="literal">setenv.sh</code> file with the following content:
								</p><pre class="screen">CATALINA_OPTS="-Xmx1024m -Dorg.jboss.logging.provider=jdk"</pre></li><li class="listitem"><p class="simpara">
									On Windows, add the following content to the <code class="literal">setenv.bat</code> file:
								</p><pre class="screen">set CATALINA_OPTS=-Xmx1024m -Dorg.jboss.logging.provider=jdk</pre></li></ul></div></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you use Microsoft SQL Server, make sure you have configured proper transaction isolation for your database. If you do not, you may experience deadlocks. The recommended configuration is to turn on ALLOW_SNAPSHOT_ISOLATION and READ_COMMITTED_SNAPSHOT by entering the following statements:
					</p><pre class="screen">ALTER DATABASE &lt;DBNAME&gt; SET ALLOW_SNAPSHOT_ISOLATION ON
ALTER DATABASE &lt;DBNAME&gt; SET READ_COMMITTED_SNAPSHOT ON</pre></div></div></section><section class="section" id="jws-jdbc-config_install-on-jws"><div class="titlepage"><div><div><h2 class="title">37.2. Configuring JDBC Web Server data sources</h2></div></div></div><p>
					Java Database Connectivity (JDBC) is an API specification that is used to connect programs written in Java to the data in popular databases. A data source is an object that enables a JDBC client, such as an application server, to establish a connection with a database. Applications look up the data source on the Java Naming and Directory Interface (JNDI) tree or in the local application context and request a database connection to retrieve data. You must configure data sources for KIE Server to ensure proper data exchange between the servers and the designated database.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Red Hat Process Automation Manager is installed on Red Hat JBoss Web Server.
						</li><li class="listitem">
							The Red Hat Process Automation Manager 7.10.x Maven Repository (<code class="literal">rhpam-7.10.0-maven-repository.zip</code>) and the Red Hat Process Automation Manager 7.10.x Add-Ons (<code class="literal">rhpam-7.10.0-add-ons.zip</code>) files have been downloaded, as described in <a class="xref" href="#install-download-proc_install-on-jws" title="Chapter 35. Downloading the Red Hat Process Automation Manager installation files">Chapter 35, <em>Downloading the Red Hat Process Automation Manager installation files</em></a>.
						</li><li class="listitem"><p class="simpara">
							You want to configure one of the following supported databases and Hibernate dialects:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									DB2: <code class="literal">org.hibernate.dialect.DB2Dialect</code>
								</li><li class="listitem">
									MSSQL: <code class="literal">org.hibernate.dialect.SQLServer2012Dialect</code>
								</li><li class="listitem">
									MySQL: <code class="literal">org.hibernate.dialect.MySQL5InnoDBDialect</code>
								</li><li class="listitem">
									MariaDB: <code class="literal">org.hibernate.dialect.MySQL5InnoDBDialect</code>
								</li><li class="listitem">
									Oracle: <code class="literal">org.hibernate.dialect.Oracle10gDialect</code>
								</li><li class="listitem">
									PostgreSQL: <code class="literal">org.hibernate.dialect.PostgreSQL82Dialect</code>
								</li><li class="listitem">
									PostgreSQL plus: <code class="literal">org.hibernate.dialect.PostgresPlusDialect</code>
								</li><li class="listitem">
									Sybase: <code class="literal">org.hibernate.dialect.SybaseASE157Dialect</code>
								</li></ul></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Complete the following steps to prepare your database:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Extract <code class="literal">rhpam-7.10.0-add-ons.zip</code> in a temporary directory, for example <code class="literal">TEMP_DIR</code>.
								</li><li class="listitem">
									Extract <code class="literal">TEMP_DIR/rhpam-7.10.0-migration-tool.zip</code>.
								</li><li class="listitem">
									Change your current directory to the <code class="literal">TEMP_DIR/rhpam-7.10.0-migration-tool/ddl-scripts</code> directory. This directory contains DDL scripts for several database types.
								</li><li class="listitem"><p class="simpara">
									Import the DDL script for your database type into the database that you want to use, for example:
								</p><pre class="programlisting language-shell">psql jbpm &lt; /ddl-scripts/postgresql/postgresql-jbpm-schema.sql</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										If you are using PostgreSQL or Oracle in conjunction with Spring Boot, you must import the respective Spring Boot DDL script, for example <code class="literal">/ddl-scripts/oracle/oracle-springboot-jbpm-schema.sql</code> or <code class="literal">/ddl-scripts/postgresql/postgresql-springboot-jbpm-schema.sql</code>.
									</p></div></div></li></ol></div></li><li class="listitem">
							Extract the <code class="literal">rhpam-7.10.0-maven-repository.zip</code> offline Maven repository file.
						</li><li class="listitem"><p class="simpara">
							Copy the following libraries from the extracted offline Maven repository to the <code class="literal">JWS_HOME/tomcat/lib</code> folder where <code class="literal">VERSION</code> is the version of that library:
						</p><pre class="screen">org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/{VERSION}/jboss-transaction-api_1.2_spec-{VERSION}.jar
org/jboss/integration/narayana-tomcat/{VERSION}/narayana-tomcat-{VERSION}.jar
org/jboss/narayana/jta/narayana-jta/{VERSION}/narayana-jta-{VERSION}.jar
org/jboss/jboss-transaction-spi/{VERSION}/jboss-transaction-spi-{VERSION}.jar</pre></li><li class="listitem">
							Copy your database JDBC driver to the <code class="literal">JWS_HOME/tomcat/lib</code> folder.
						</li><li class="listitem"><p class="simpara">
							Configure the pooling XA data source in the <code class="literal">JWS_HOME/tomcat/conf/context.xml</code> file:
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Some of the properties in the following examples might not apply to your database server. Check the documentation for your JDBC driver to determine which properties to set.
							</p></div></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Configure an XA data source without pooling capabilities. This XA data source is used to create new connections to the target database. In the following example, the XA datasource is <code class="literal">xads</code> and the variables are defined in <a class="xref" href="#xa_data_source_install-on-jws" title="Table 37.1. XA data source variables">Table 37.1, “XA data source variables”</a>:
								</p><pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Context&gt;
&lt;Resource
auth="Container"
databaseName="${datasource.dbName}"
description="XA Data Source"
factory="org.apache.tomcat.jdbc.naming.GenericNamingResourcesFactory" loginTimeout="0"
name="xads"
uniqueName="xads"
portNumber="${datasource.port}"
serverName="${datasource.hostname}"
testOnBorrow="false"
type="${datasource.class}"
url="${datasource.url}"
URL="${datasource.url}"
user="${datasource.username}"
password="${datasource.password}"
driverType="4"
schema="${datasource.schema}"
/&gt;
&lt;/Context&gt;</pre><div class="table" id="xa_data_source_install-on-jws"><p class="title"><strong>Table 37.1. XA data source variables</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"/><col style="width: 60%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016269475936" scope="col">Variable</th><th align="left" valign="top" id="idm140016266119072" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016269475936">
												<p>
													<code class="literal">&lt;datasource.dbName&gt;</code>
												</p>
												</td><td align="left" valign="top" headers="idm140016266119072">
												<p>
													The name of the database.
												</p>
												</td></tr><tr><td align="left" valign="top" headers="idm140016269475936">
												<p>
													<code class="literal">&lt;datasource.port&gt;</code>
												</p>
												</td><td align="left" valign="top" headers="idm140016266119072">
												<p>
													The port number of the database.
												</p>
												</td></tr><tr><td align="left" valign="top" headers="idm140016269475936">
												<p>
													<code class="literal">&lt;datasource.hostname&gt;</code>
												</p>
												</td><td align="left" valign="top" headers="idm140016266119072">
												<p>
													The name of the database host.
												</p>
												</td></tr><tr><td align="left" valign="top" headers="idm140016269475936">
												<p>
													<code class="literal">&lt;datasource.class&gt;</code>
												</p>
												</td><td align="left" valign="top" headers="idm140016266119072">
												<p>
													<code class="literal">XADataSource</code> class of JDBC driver.
												</p>
												</td></tr><tr><td align="left" valign="top" headers="idm140016269475936">
												<p>
													<code class="literal">&lt;datasource.url&gt;</code>
												</p>
												</td><td align="left" valign="top" headers="idm140016266119072">
												<p>
													The JDBC database connection URL. With some databases, the URL property is <code class="literal">url</code> and with other databases (for example H2 databases) this property is <code class="literal">URL</code>.
												</p>
												</td></tr><tr><td align="left" valign="top" headers="idm140016269475936">
												<p>
													<code class="literal">&lt;datasource.username&gt;</code>
												</p>
												</td><td align="left" valign="top" headers="idm140016266119072">
												<p>
													User name for the database connection.
												</p>
												</td></tr><tr><td align="left" valign="top" headers="idm140016269475936">
												<p>
													<code class="literal">&lt;datasource.password&gt;</code>
												</p>
												</td><td align="left" valign="top" headers="idm140016266119072">
												<p>
													Password for the database connection.
												</p>
												</td></tr><tr><td align="left" valign="top" headers="idm140016269475936">
												<p>
													<code class="literal">&lt;datasource.schema&gt;</code>
												</p>
												</td><td align="left" valign="top" headers="idm140016266119072">
												<p>
													The database schema.
												</p>
												</td></tr></tbody></table></div></div></li><li class="listitem"><p class="simpara">
									Configure a pooling data source that relies on the XA data source for creating new connections. In this example, the data source is <code class="literal">poolingXaDs</code>, <code class="literal">&lt;datasource.username&gt;</code> is the user name for the database connection, and <code class="literal">&lt;datasource.password&gt;</code> is the password for the database connection:
								</p><pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Context&gt;
&lt;Resource
name="poolingXaDs"
uniqueName="poolingXaDs"
auth="Container"
description="Pooling XA Data Source" factory="org.jboss.narayana.tomcat.jta.TransactionalDataSourceFactory" testOnBorrow="true"
transactionManager="TransactionManager" transactionSynchronizationRegistry="TransactionSynchronizationRegistry" type="javax.sql.XADataSource"
username="${datasource.username}"
password="${datasource.password}"
xaDataSource="xads"
/&gt;
&lt;/Context&gt;</pre><p class="simpara">
									The data source is now available under the <code class="literal">java:comp/env/poolingXaDs</code> JNDI name and passes it to the KIE Server through the <code class="literal">org.kie.server.persistence.ds</code> system property as described in the next steps.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										The pooling data source configuration relies on additional resources that have been previously configured in <code class="literal">context.xml</code> file in <code class="literal">kie-server</code> application, specifically <code class="literal">TransactionManager</code> and <code class="literal">TransactionSynchronizationRegistry</code>.
									</p></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
							Configure KIE Server to use the data source:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Open one of the following scripts in a text editor:
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										The <code class="literal">setenv.sh</code> or <code class="literal">setenv.bat</code> script should already exist. However, if it does not, create it.
									</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
											For Linux or Unix:
										</p><pre class="screen">JWS_HOME/tomcat/bin/setenv.sh</pre></li><li class="listitem"><p class="simpara">
											For Windows:
										</p><pre class="screen">JWS_HOME/tomcat/bin/setenv.bat</pre></li></ul></div></li><li class="listitem"><p class="simpara">
									Add the following properties to <code class="literal">CATALINA_OPS</code> where <code class="literal">&lt;hibernate.dialect&gt;</code> is the Hibernate dialect for your database:
								</p><pre class="screen">CATALINA_OPTS="-Xmx1024m
-Dorg.jboss.logging.provider=jdk
-Dorg.kie.server.persistence.ds=java:comp/env/poolingXaDs
-Dorg.kie.server.persistence.tm=JBossTS
-Dorg.kie.server.persistence.dialect=${&lt;hibernate.dialect&gt;}"</pre></li></ol></div></li></ol></div></section></section><section class="chapter" id="securing-passwords-jws-proc_install-on-jws"><div class="titlepage"><div><div><h2 class="title">Chapter 38. Securing passwords with a keystore</h2></div></div></div><p>
				You can use a keystore to encrypt passwords that are used for communication between Business Central and KIE Server. You should encrypt both controller and KIE Server passwords. If Business Central and KIE Server are deployed to different application servers, then both application servers should use the keystore.
			</p><p>
				Use Java Cryptography Extension KeyStore (JCEKS) for your keystore because it supports symmetric keys. Use KeyTool, which is part of the JDK installation, to create a new JCEKS.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If KIE Server is not configured with JCEKS, KIE Server passwords are stored in system properties in plain text form.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						KIE Server is installed in Red Hat JBoss Web Server.
					</li><li class="listitem">
						Java 8 or higher is installed.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Open the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/conf/tomcat-users.xml</code> file in a text editor.
					</li><li class="listitem"><p class="simpara">
						Add a KIE Server user with the <code class="literal">kie-server</code> role to the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/conf/tomcat-users.xml</code> file. In the following example, replace <code class="literal">&lt;USER_NAME&gt;</code> and <code class="literal">&lt;PASSWORD&gt;</code> with the user name and password of your choice.
					</p><pre class="screen">&lt;role rolename="kie-server"/&gt;
&lt;user username="&lt;USER_NAME&gt;" password="&lt;PASSWORD&gt;" roles="kie-server"/&gt;</pre></li><li class="listitem"><p class="simpara">
						To use KeyTool to create a JCEKS, enter the following command in the Java 8 home directory:
					</p><pre class="programlisting language-bash">$&lt;JAVA_HOME&gt;/bin/keytool -importpassword -keystore &lt;KEYSTORE_PATH&gt; -keypass &lt;ALIAS_KEY_PASSWORD&gt; -alias &lt;PASSWORD_ALIAS&gt; -storepass &lt;KEYSTORE_PASSWORD&gt; -storetype JCEKS</pre><p class="simpara">
						In this example, replace the following variables:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">&lt;KEYSTORE_PATH&gt;</code>: The path where the keystore will be stored
							</li><li class="listitem">
								<code class="literal">&lt;KEYSTORE_PASSWORD&gt;</code>: The keystore password
							</li><li class="listitem">
								<code class="literal">&lt;ALIAS_KEY_PASSWORD&gt;</code>: The password used to access values stored with the alias
							</li><li class="listitem">
								<code class="literal">&lt;PASSWORD_ALIAS&gt;</code>: The alias of the entry to the process
							</li></ul></div></li><li class="listitem">
						When prompted, enter the password for the KIE Server user that you created.
					</li><li class="listitem"><p class="simpara">
						To set the system properties, complete one of these steps in the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/bin</code> directory and replace the variables as described in the following table:
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							If Business Central or the standalone controller are installed in separate instances from Red Hat JBoss Web Server, do not add the <code class="literal">kie.keystore.key.server.alias</code> and <code class="literal">kie.keystore.key.server.pwd</code> properties to <code class="literal">CATALINA_OPTS</code>.
						</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								On Linux or UNIX, create the <code class="literal">setenv.sh</code> file with the following content:
							</p><pre class="screen">set CATALINA_OPTS="
-Dkie.keystore.keyStoreURL=&lt;KEYSTORE_URL&gt;
-Dkie.keystore.keyStorePwd=&lt;KEYSTORE_PWD&gt;
-Dkie.keystore.key.server.alias=&lt;KEY_SERVER_ALIAS&gt;
-Dkie.keystore.key.server.pwd=&lt;KEY_SERVER_PWD&gt;
-Dkie.keystore.key.ctrl.alias=&lt;KEY_CONTROL_ALIAS&gt;
-Dkie.keystore.key.ctrl.key.ctrl.pwd=&lt;KEY_CONTROL_PWD&gt;</pre></li><li class="listitem"><p class="simpara">
								On Windows, add the following content to the <code class="literal">setenv.bat</code> file:
							</p><pre class="screen">set CATALINA_OPTS="
-Dkie.keystore.keyStoreURL=&lt;KEYSTORE_URL&gt;
-Dkie.keystore.keyStorePwd=&lt;KEYSTORE_PWD&gt;
-Dkie.keystore.key.server.alias=&lt;KEY_SERVER_ALIAS&gt;
-Dkie.keystore.key.server.pwd=&lt;KEY_SERVER_PWD&gt;
-Dkie.keystore.key.ctrl.alias=&lt;KEY_CONTROL_ALIAS&gt;
-Dkie.keystore.key.ctrl.pwd=&lt;KEY_CONTROL_PWD&gt;</pre></li></ul></div><div class="table" id="idm140016270827680"><p class="title"><strong>Table 38.1. System properties used to load a KIE Server JCEKS</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 36%; " class="col_1"/><col style="width: 27%; " class="col_2"/><col style="width: 36%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016270821888" scope="col">System property</th><th align="left" valign="top" id="idm140016270820800" scope="col">Placeholder</th><th align="left" valign="top" id="idm140016270819712" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016270821888">
									<p>
										<code class="literal">kie.keystore.keyStoreURL</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270820800">
									<p>
										<code class="literal">&lt;KEYSTORE_URL&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270819712">
									<p>
										URL for the JCEKS that you want to use, for example <code class="literal">file:///home/kie/keystores/keystore.jceks</code>
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016270821888">
									<p>
										<code class="literal">kie.keystore.keyStorePwd</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270820800">
									<p>
										<code class="literal">&lt;KEYSTORE_PWD&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270819712">
									<p>
										Password for the JCEKS
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016270821888">
									<p>
										<code class="literal">kie.keystore.key.server.alias</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270820800">
									<p>
										<code class="literal">&lt;KEY_SERVER_ALIAS&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270819712">
									<p>
										Alias of the key for REST services where the password is stored
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016270821888">
									<p>
										<code class="literal">kie.keystore.key.server.pwd</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270820800">
									<p>
										<code class="literal">&lt;KEY_SERVER_PWD&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270819712">
									<p>
										Password of the alias for REST services with the stored password
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016270821888">
									<p>
										<code class="literal">kie.keystore.key.ctrl.alias</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270820800">
									<p>
										<code class="literal">&lt;KEY_CONTROL_ALIAS&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270819712">
									<p>
										Alias of the key for default REST Process Automation Controller where the password is stored
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016270821888">
									<p>
										<code class="literal">kie.keystore.key.ctrl.pwd</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270820800">
									<p>
										<code class="literal">&lt;KEY_CONTROL_PWD&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270819712">
									<p>
										Password of the alias for default REST Process Automation Controller with the stored password
									</p>
									</td></tr></tbody></table></div></div></li><li class="listitem">
						Start KIE Server to verify the configuration.
					</li></ol></div></section><section class="chapter" id="jws-kie-server-verify-proc_install-on-jws"><div class="titlepage"><div><div><h2 class="title">Chapter 39. Verifying the KIE Server installation</h2></div></div></div><p>
				Verify that KIE Server is installed correctly.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						KIE Server is installed and configured.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To start KIE Server, enter one of the following commands in the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/bin</code> directory:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								On Linux or UNIX-based systems:
							</p><pre class="programlisting language-bash">$ ./startup.sh</pre></li><li class="listitem"><p class="simpara">
								On Windows:
							</p><pre class="programlisting language-bash">startup.bat</pre></li></ul></div></li><li class="listitem">
						After a few minutes, review the files in the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/logs</code> directory and correct any errors.
					</li><li class="listitem">
						To verify that KIE Server is working correctly, enter <code class="literal">http://localhost:8080/kie-server/services/rest/server</code> in a web browser.
					</li><li class="listitem">
						Enter the user name and password stored in the <code class="literal">tomcat-users.xml</code> file.
					</li></ol></div></section><section class="chapter" id="controller-jws-install-proc_install-on-jws"><div class="titlepage"><div><div><h2 class="title">Chapter 40. Downloading and installing the headless Process Automation Manager controller</h2></div></div></div><p>
				You can configure KIE Server to run in managed or unmanaged mode. If KIE Server is unmanaged, you must manually create and maintain KIE containers (deployment units). If KIE Server is managed, the Process Automation Manager controller manages the KIE Server configuration and you interact with the Process Automation Manager controller to create and maintain KIE containers.
			</p><p>
				The Process Automation Manager controller is integrated with Business Central. If you install Business Central, use the <span class="strong strong"><strong>Execution Server</strong></span> page to create and maintain KIE containers. However, if you do not install Business Central, you can install the headless Process Automation Manager controller and use the REST API or the KIE Server Java Client API to interact with it.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Add Ons</strong></span> (<code class="literal">rhpam-7.10.0-add-ons.zip</code>) file has been downloaded, as described in <a class="xref" href="#install-download-proc_install-on-jws" title="Chapter 35. Downloading the Red Hat Process Automation Manager installation files">Chapter 35, <em>Downloading the Red Hat Process Automation Manager installation files</em></a>.
					</li><li class="listitem">
						A Red Hat JBoss Web Server 5.3.0 server installation is available. The base directory of the Red Hat JBoss Web Server installation is referred to as <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span></code>.
					</li><li class="listitem">
						Sufficient user permissions to complete the installation are granted.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Extract the <code class="literal">rhpam-7.10.0-add-ons.zip</code> file. The <code class="literal">rhpam-7.10.0-controller-jws.zip</code> file is in the extracted directory.
					</li><li class="listitem">
						Extract the <code class="literal">rhpam-7.10.0-controller-jws.zip</code> archive to a temporary directory. In the following examples this directory is called <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span></code>.
					</li><li class="listitem"><p class="simpara">
						Copy the <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span>/rhpam-7.10.0-controller-jws.zip/controller.war</code> directory to the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/webapps</code> directory.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Ensure the names of the Red Hat Process Automation Manager deployments you copy do not conflict with your existing deployments in the Red Hat JBoss Web Server instance.
						</p></div></div></li><li class="listitem">
						Remove the <code class="literal">.war</code> extensions from the <code class="literal">controller.war</code> folder.
					</li><li class="listitem">
						Copy the contents of the <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span>/rhpam-7.10.0-controller-jws/SecurityPolicy/</code> directory to <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/bin</code>
					</li><li class="listitem">
						When prompted to overwrite files, select <span class="strong strong"><strong>Yes</strong></span>.
					</li><li class="listitem"><p class="simpara">
						Add the <code class="literal">kie-server</code> role and user to the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/conf/tomcat-users.xml</code> file. In the following example, <code class="literal">&lt;USER_NAME&gt;</code> and <code class="literal">&lt;PASSWORD&gt;</code> are the user name and password of your choice:
					</p><pre class="screen">&lt;role rolename="kie-server"/&gt;
&lt;user username="&lt;USER_NAME&gt;" password="&lt;PASSWORD&gt;" roles="kie-server"/&gt;</pre></li><li class="listitem"><p class="simpara">
						Complete one of the following tasks in the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/bin</code> directory of the instance running KIE Server:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								On Linux or UNIX, create the <code class="literal">setenv.sh</code> file with the following content:
							</p><pre class="screen">CATALINA_OPTS="-Xmx1024m
 -Dorg.jboss.logging.provider=jdk
 -Dorg.kie.server.controller.user=&lt;CONTROLLER_USER&gt;
 -Dorg.kie.server.controller.pwd=&lt;CONTROLLER_PWD&gt;
 -Dorg.kie.server.id=&lt;KIE_SERVER_ID&gt;
 -Dorg.kie.server.location=http://&lt;HOST&gt;:&lt;PORT&gt;/kie-server/services/rest/server
 -Dorg.kie.server.controller=http://&lt;HOST&gt;:&lt;PORT&gt;/controller/rest/controller"</pre></li><li class="listitem"><p class="simpara">
								On Windows, add the following content to the <code class="literal">setenv.bat</code> file:
							</p><pre class="screen">set CATALINA_OPTS=-Xmx1024m -Dorg.jboss.logging.provider=jdk
 -Dorg.kie.server.controller.user=&lt;CONTROLLER_USER&gt;
 -Dorg.kie.server.controller.pwd=&lt;CONTROLLER_PWD&gt;
 -Dorg.kie.server.id=&lt;KIE_SERVER_ID&gt;
 -Dorg.kie.server.location=http://&lt;HOST&gt;:&lt;PORT&gt;/kie-server/services/rest/server
 -Dorg.kie.server.controller=http://&lt;HOST&gt;:&lt;PORT&gt;/controller/rest/controller</pre><p class="simpara">
								In the preceding examples, replace the following variables:
							</p></li><li class="listitem">
								Replace <code class="literal">&lt;CONTROLLER_USER&gt;</code> and <code class="literal">&lt;CONTROLLER_PWD&gt;</code> with the user name and password for the <code class="literal">kie-server</code> role that you defined earlier in this procedure.
							</li><li class="listitem">
								Replace <code class="literal">&lt;KIE_SERVER_ID&gt;</code> with a unique identifier.
							</li><li class="listitem">
								Replace <code class="literal">&lt;CONTROLLER_HOST&gt;:&lt;CONTROLLER_PORT&gt;</code> with the IP address (host and port) of the controller. If you use the same server for KIE Server and the controller, <code class="literal">&lt;CONTROLLER_HOST&gt;:&lt;CONTROLLER_PORT&gt;</code> is <code class="literal">localhost:8080</code>.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						In the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/bin</code> directory of the instance running the headless Process Automation Manager controller, create a readable <code class="literal">setenv.sh</code> file with the following content, where <code class="literal">&lt;USERNAME&gt;</code> is the KIE Server user and <code class="literal">&lt;USER_PWD&gt;</code> is the password for that user:
					</p><p class="simpara">
						<code class="literal">CATALINA_OPTS="-Dorg.kie.server.user=&lt;USERNAME&gt; -Dorg.kie.server.pwd=&lt;USER_PWD&gt;"</code>
					</p></li><li class="listitem"><p class="simpara">
						To start the headless Process Automation Manager controller, enter one of the following commands in the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/bin</code> directory:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								On Linux or UNIX-based systems:
							</p><pre class="programlisting language-bash">$ ./startup.sh</pre></li><li class="listitem"><p class="simpara">
								On Windows:
							</p><pre class="programlisting language-bash">startup.bat</pre></li></ul></div></li><li class="listitem">
						After a few minutes, review the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/logs</code> directory and correct any errors.
					</li><li class="listitem">
						To verify that the headless Process Automation Manager controller is working correctly, enter <code class="literal">http://&lt;CONTROLLER_HOST&gt;:&lt;CONTROLLER_PORT&gt;/controller/rest/controller/management/servers</code> in a web browser. If you use the same server for KIE Server and the controller, <code class="literal">&lt;CONTROLLER_HOST&gt;:&lt;CONTROLLER_PORT&gt;</code> is <code class="literal">localhost:8080</code>.
					</li><li class="listitem">
						Enter the user name and password stored in the <code class="literal">tomcat-users.xml</code> file.
					</li></ol></div></section><section class="chapter" id="run-dc-standalone-proc_install-on-jws"><div class="titlepage"><div><div><h2 class="title">Chapter 41. Configuring and running standalone Business Central</h2></div></div></div><p>
				You can use the Business Central standalone JAR file to run Business Central without deploying it to an application server. You can use sample configuration files to run the Business Central standalone JAR file out of the box or you can customize the sampfiles for your requirements.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					This JAR file is supported only when it is run on Red Hat Enterprise Linux.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Business Central Standalone</strong></span> (<code class="literal">rhpam-7.10.0-business-central-standalone.jar</code>) and the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Add Ons</strong></span> (<code class="literal">rhpam-7.10.0-add-ons.zip</code>) files have been downloaded from the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?downloadType=distributions&amp;product=rhpam&amp;productChanged=yes">Software Downloads</a> page for Red Hat Process Automation Manager 7.10, as described in <a class="xref" href="#install-download-proc_install-on-jws" title="Chapter 35. Downloading the Red Hat Process Automation Manager installation files">Chapter 35, <em>Downloading the Red Hat Process Automation Manager installation files</em></a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Extract the downloaded <code class="literal">rhpam-7.10.0-addons.zip</code> to a temporary directory. This archive includes the <code class="literal">rhpam-7.10.0-standalone-sample-configuration.zip</code> file.
					</li><li class="listitem"><p class="simpara">
						Extract the <code class="literal">rhpam-7.10.0-standalone-sample-configuration.zip</code> file to the directory that contains the <code class="literal">rhpam-7.10.0-business-central-standalone.jar</code> file. The <code class="literal">rhpam-7.10.0-standalone-sample-configuration.zip</code> file contains the following sample configuration files:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">application-roles.properties</code>
							</li><li class="listitem">
								<code class="literal">application-users.properties</code>
							</li><li class="listitem"><p class="simpara">
								<code class="literal">sample-standalone-config.yml</code>
							</p><p class="simpara">
								You can run the <code class="literal">rhpam-7.10.0-business-central-standalone.jar</code> files with the sample data provided in the configuration files or you can customize the data for your requirements.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						To customize the configuration data, complete the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Edit the <code class="literal">application-users.properties</code> file. Include an administrative user and if this Business Central instance will be a Process Automation Manager controller for KIE Server, include a Process Automation Manager controller user, for example:
							</p><pre class="screen">rhpamAdmin=password1</pre></li><li class="listitem"><p class="simpara">
								Edit the <code class="literal">application-roles.properties</code> file to assign roles to the users that you included in the <code class="literal">application-users.properties</code> file, for example:
							</p><pre class="screen">rhpamAdmin=admin
controllerUser=kie-server</pre><p class="simpara">
								For more information, see <a class="xref" href="#roles-users-con_install-on-jws" title="34.2. Red Hat Process Automation Manager roles and users">Section 34.2, “Red Hat Process Automation Manager roles and users”</a>.
							</p></li><li class="listitem">
								Review the contents of the the <code class="literal">sample-standalone-config.yml</code> configuration file and update as required.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						To run the Business Central standalone JAR file, enter the following command:
					</p><pre class="screen">java -jar rhpam-7.10.0-business-central-standalone.jar -s sample-standalone-config.yml</pre></li><li class="listitem"><p class="simpara">
						To set application properties when you run the JAR file, include the <code class="literal">-D&lt;PROPERTY&gt;=&lt;VALUE&gt;</code> parameter in the command, where <code class="literal">&lt;PROPERTY&gt;</code> is the name of a supported application property and <code class="literal">&lt;VALUE&gt;</code> is the property value:
					</p><pre class="screen">java -jar rhpam-7.10.0-business-central-standalone.jar -s sample-standalone-config.yml -D&lt;PROPERTY&gt;=&lt;VALUE&gt; -D&lt;PROPERTY&gt;=&lt;VALUE&gt;</pre><p class="simpara">
						For example, to run Business Central and connect to KIE Server as the user <code class="literal">controllerUser</code>, enter:
					</p><pre class="screen">java -jar {PRODUCT_FILE}-{URL_COMPONENT_CENTRAL}-standalone.jar \
-s sample-standalone-config.yml \
-Dorg.kie.server.user=controllerUser
-Dorg.kie.server.pwd=controllerUser1234</pre><p class="simpara">
						Doing this enables you to deploy containers to KIE Server. See <a class="xref" href="#business-central-system-properties-ref_install-on-eap" title="Appendix A. Business Central system properties">Appendix A, <em>Business Central system properties</em></a> for more information.
					</p></li></ol></div></section><section class="chapter" id="maven-repo-using-con_install-on-jws"><div class="titlepage"><div><div><h2 class="title">Chapter 42. Maven settings and repositories for Red Hat Process Automation Manager</h2></div></div></div><p>
				When you create a Red Hat Process Automation Manager project, Business Central uses the Maven repositories that are configured for Business Central. You can use the Maven global or user settings to direct all Red Hat Process Automation Manager projects to retrieve dependencies from the public Red Hat Process Automation Manager repository by modifying the Maven project object model (POM) file (<code class="literal">pom.xml</code>). You can also configure Business Central and KIE Server to use an external Maven repository or prepare a Maven mirror for offline use.
			</p><p>
				For more information about Red Hat Process Automation Manager packaging and deployment options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_and_managing_red_hat_process_automation_manager_services#assembly-packaging-deploying"><span class="emphasis"><em>Packaging and deploying a Red Hat Process Automation Manager project</em></span></a>.
			</p><section class="section" id="maven-pom-configuration-proc_install-on-jws"><div class="titlepage"><div><div><h2 class="title">42.1. Configuring Maven using the project configuration file (<code class="literal">pom.xml</code>)</h2></div></div></div><p>
					To use Maven for building and managing your Red Hat Process Automation Manager projects, you must create and configure the POM file (<code class="literal">pom.xml</code>). This file holds configuration information for your project. For more information, see <a class="link" href="https://maven.apache.org/pom.html">Apache Maven Project</a>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Generate a Maven project. A <code class="literal">pom.xml</code> file is automatically generated when you create a Maven project.
						</li><li class="listitem"><p class="simpara">
							Edit the <code class="literal">pom.xml</code> file to add more dependencies and new repositories.
						</p><p class="simpara">
							Maven downloads all of the JAR files and the dependent JAR files from the Maven repository when you compile and package your project.
						</p></li></ol></div><p>
					Find the schema for the <code class="literal">pom.xml</code> file at <a class="link" href="http://maven.apache.org/maven-v4_0_0.xsd">http://maven.apache.org/maven-v4_0_0.xsd</a>. For more information about POM files, see <a class="link" href="http://maven.apache.org/pom.html">Apache Maven Project POM</a>.
				</p></section><section class="section" id="maven-settings-configuration-ref_install-on-jws"><div class="titlepage"><div><div><h2 class="title">42.2. Modifying the Maven settings file</h2></div></div></div><p>
					Red Hat Process Automation Manager uses Maven <code class="literal">settings.xml</code> file to configure it’s Maven execution. You must create and activate a profile in the <code class="literal">settings.xml</code> file and declare the Maven repositories used by your Red Hat Process Automation Manager projects.
				</p><p>
					For information about the Maven <code class="literal">settings.xml</code> file, see the Apache Maven Project <a class="link" href="https://maven.apache.org/settings.html">Setting Reference</a>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the <code class="literal">settings.xml</code> file, declare the repositories that your Red Hat Process Automation Manager projects use. Usually, this is either the <a class="link" href="https://maven.repository.redhat.com/ga/">online Red Hat Process Automation Manager Maven repository</a> or the Red Hat Process Automation Manager Maven repository that you download from the Red Hat Customer Portal and any repositories for custom artifacts that you want to use.
						</li><li class="listitem"><p class="simpara">
							Ensure that Business Central or KIE Server is configured to use the <code class="literal">settings.xml</code> file. For example, specify the <code class="literal">kie.maven.settings.custom=&lt;SETTINGS_FILE_PATH&gt;</code> property where <code class="literal">&lt;SETTINGS_FILE_PATH&gt;</code> is the path to the <code class="literal">settings.xml</code> file.
						</p><p class="simpara">
							On Red Hat JBoss Web Server, for KIE Server add <code class="literal">-Dkie.maven.settings.custom=&lt;SETTINGS_FILE_PATH&gt;</code> to the <code class="literal">CATALINA_OPTS</code> section of the <code class="literal">setenv.sh</code> (Linux) or <code class="literal">setenv.bat</code> (Windows) file. For standalone Business Central, enter the following command:
						</p><pre class="screen">java -jar rhpam-7.10.0-business-central-standalone.jar -s application-config.yaml -Dkie.maven.settings.custom=&lt;SETTINGS_FILE_PATH&gt;</pre></li></ol></div></section><section class="section" id="maven-managing-dependencies-proc_install-on-jws"><div class="titlepage"><div><div><h2 class="title">42.3. Adding Maven dependencies for Red Hat Process Automation Manager</h2></div></div></div><p>
					To use the correct Maven dependencies in your Red Hat Process Automation Manager project, add the Red Hat Business Automation bill of materials (BOM) files to the project’s <code class="literal">pom.xml</code> file. The Red Hat Business Automation BOM applies to both Red Hat Decision Manager and Red Hat Process Automation Manager. When you add the BOM files, the correct versions of transitive dependencies from the provided Maven repositories are included in the project.
				</p><p>
					For more information about the Red Hat Business Automation BOM, see <a class="link" href="https://access.redhat.com/solutions/3405361">What is the mapping between Red Hat Process Automation Manager and the Maven library version?</a>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Declare the Red Hat Business Automation BOM in the <code class="literal">pom.xml</code> file:
						</p><div class="informalexample"><pre class="programlisting language-xml">&lt;dependencyManagement&gt;
 &lt;dependencies&gt;
  &lt;dependency&gt;
   &lt;groupId&gt;com.redhat.ba&lt;/groupId&gt;
   &lt;artifactId&gt;ba-platform-bom&lt;/artifactId&gt;
   &lt;version&gt;7.10.0.redhat-00002&lt;/version&gt;
   &lt;type&gt;pom&lt;/type&gt;
   &lt;scope&gt;import&lt;/scope&gt;
  &lt;/dependency&gt;
 &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;
&lt;dependencies&gt;
&lt;!-- Your dependencies --&gt;
&lt;/dependencies&gt;</pre></div></li><li class="listitem">
							Declare dependencies required for your project in the <code class="literal">&lt;dependencies&gt;</code> tag. After you import the product BOM into your project, the versions of the user-facing product dependencies are defined so you do not need to specify the <code class="literal">&lt;version&gt;</code> sub-element of these <code class="literal">&lt;dependency&gt;</code> elements. However, you must use the <code class="literal">&lt;dependency&gt;</code> element to declare dependencies which you want to use in your project.
						</li><li class="listitem"><p class="simpara">
							For standalone projects that are not authored in Business Central, specify all dependencies required for your projects. In projects that you author in Business Central, the basic decision engine and process engine dependencies are provided automatically by Business Central.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									For a basic Red Hat Process Automation Manager project, declare the following dependencies, depending on the features that you want to use:
								</p><div class="formalpara"><p class="title"><strong>Embedded process engine dependencies</strong></p><p>
										
<pre class="programlisting language-xml">&lt;!-- Public KIE API --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-api&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Core dependencies for process engine --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-flow&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-flow-builder&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-bpmn2&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-runtime-manager&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-persistence-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-query-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-audit&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-kie-services&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Dependency needed for default WorkItemHandler implementations. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-workitems-core&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Logging dependency. You can use any logging framework compatible with slf4j. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
  &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
  &lt;version&gt;${logback.version}&lt;/version&gt;
&lt;/dependency&gt;</pre>
									</p></div></li><li class="listitem"><p class="simpara">
									For a Red Hat Process Automation Manager project that uses CDI, you typically declare the following dependencies:
								</p><div class="formalpara"><p class="title"><strong>CDI-enabled process engine dependencies</strong></p><p>
										
<pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-api&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-kie-services&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-services-cdi&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
									</p></div></li><li class="listitem"><p class="simpara">
									For a basic Red Hat Process Automation Manager project, declare the following dependencies:
								</p><div class="formalpara"><p class="title"><strong>Embedded decision engine dependencies</strong></p><p>
										
<pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Dependency for persistence support. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-persistence-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Dependencies for decision tables, templates, and scorecards.
For other assets, declare org.drools:business-central-models-* dependencies. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-decisiontables&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-templates&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-scorecards&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Dependency for loading KJARs from a Maven repository using KieScanner. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-ci&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
									</p></div></li><li class="listitem"><p class="simpara">
									To use the KIE Server, declare the following dependencies:
								</p><div class="formalpara"><p class="title"><strong>Client application KIE Server dependencies</strong></p><p>
										
<pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie.server&lt;/groupId&gt;
  &lt;artifactId&gt;kie-server-client&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
									</p></div></li><li class="listitem"><p class="simpara">
									To create a remote client for Red Hat Process Automation Manager, declare the following dependency:
								</p><div class="formalpara"><p class="title"><strong>Client dependency</strong></p><p>
										
<pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.uberfire&lt;/groupId&gt;
  &lt;artifactId&gt;uberfire-rest-client&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
									</p></div></li><li class="listitem"><p class="simpara">
									When creating a JAR file that includes assets, such as rules and process definitions, specify the packaging type for your Maven project as <code class="literal">kjar</code> and use <code class="literal">org.kie:kie-maven-plugin</code> to process the <code class="literal">kjar</code> packaging type located under the <code class="literal">&lt;project&gt;</code> element. In the following example, <code class="literal">${kie.version}</code> is the Maven library version listed in <a class="link" href="https://access.redhat.com/solutions/3405361">What is the mapping between Red Hat Process Automation Manager and the Maven library version?</a>:
								</p><pre class="programlisting language-xml">&lt;packaging&gt;kjar&lt;/packaging&gt;
&lt;build&gt;
 &lt;plugins&gt;
  &lt;plugin&gt;
   &lt;groupId&gt;org.kie&lt;/groupId&gt;
   &lt;artifactId&gt;kie-maven-plugin&lt;/artifactId&gt;
   &lt;version&gt;${kie.version}&lt;/version&gt;
   &lt;extensions&gt;true&lt;/extensions&gt;
  &lt;/plugin&gt;
 &lt;/plugins&gt;
&lt;/build&gt;</pre></li></ul></div></li></ol></div></section><section class="section" id="offline-repo-proc_install-on-jws"><div class="titlepage"><div><div><h2 class="title">42.4. Preparing a Maven mirror repository for offline use</h2></div></div></div><p>
					If your Red Hat Process Automation Manager deployment does not have outgoing access to the public Internet, you must prepare a Maven repository with a mirror of all the necessary artifacts and make this repository available to your environment.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You do not need to complete this procedure if your Red Hat Process Automation Manager deployment is connected to the Internet.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							A computer that has outgoing access to the public Internet is available.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							On the computer that has an outgoing connection to the public Internet, complete the following steps:
						</li><li class="listitem"><p class="simpara">
							Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Product:</strong></span> Red Hat Process Automation Manager
								</li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>Version:</strong></span> 7.10
								</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
											Download and extract the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Offliner Content List</strong></span> (<code class="literal">rhpam-7.10.0-offliner.zip</code>) product deliverable file.
										</li><li class="listitem">
											Extract the contents of the <code class="literal">rhpam-7.10.0-offliner.zip</code> file into any directory.
										</li><li class="listitem"><p class="simpara">
											Change to the directory and enter the following command:
										</p><pre class="screen">./offline-repo-builder.sh offliner.txt</pre><p class="simpara">
											This command creates the <code class="literal">repository</code> subdirectory and downloads the necessary artifacts into this subdirectory. This is the mirror repository.
										</p><p class="simpara">
											If a message reports that some downloads have failed, run the same command again. If downloads fail again, contact Red Hat support.
										</p></li></ol></div></li></ul></div></li><li class="listitem"><p class="simpara">
							If you developed services outside of Business Central and they have additional dependencies, add the dependencies to the mirror repository. If you developed the services as Maven projects, you can use the following steps to prepare these dependencies automatically. Complete the steps on the computer that has an outgoing connection to the public Internet.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Create a backup of the local Maven cache directory (<code class="literal">~/.m2/repository</code>) and then clear the directory.
								</li><li class="listitem">
									Build the source of your projects using the <code class="literal">mvn clean install</code> command.
								</li><li class="listitem"><p class="simpara">
									For every project, enter the following command to ensure that Maven downloads all runtime dependencies for all the artifacts generated by the project:
								</p><pre class="screen">mvn -e -DskipTests dependency:go-offline -f /path/to/project/pom.xml --batch-mode -Djava.net.preferIPv4Stack=true</pre><p class="simpara">
									Replace <code class="literal">/path/to/project/pom.xml</code> with the path of the <code class="literal">pom.xml</code> file of the project.
								</p></li><li class="listitem">
									Copy the contents of the local Maven cache directory (<code class="literal">~/.m2/repository</code>) to the <code class="literal">repository</code> subdirectory that was created.
								</li></ol></div></li><li class="listitem">
							Copy the contents of the <code class="literal">repository</code> subdirectory to a directory on the computer on which you deployed Red Hat Process Automation Manager. This directory becomes the offline Maven mirror repository.
						</li><li class="listitem">
							Create and configure a <code class="literal">settings.xml</code> file for your Red Hat Process Automation Manager deployment as described in <a class="xref" href="#maven-settings-configuration-ref_install-on-jws" title="42.2. Modifying the Maven settings file">Section 42.2, “Modifying the Maven settings file”</a>.
						</li><li class="listitem"><p class="simpara">
							Make the following changes in the <code class="literal">settings.xml</code> file:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Under the <code class="literal">&lt;profile&gt;</code> tag, if a <code class="literal">&lt;repositories&gt;</code> or <code class="literal">&lt;pluginRepositores&gt;</code> tag is missing, add the missing tags.
								</li><li class="listitem"><p class="simpara">
									Under <code class="literal">&lt;repositories&gt;</code> add the following content:
								</p><pre class="programlisting language-xml">&lt;repository&gt;
  &lt;id&gt;offline-repository&lt;/id&gt;
  &lt;url&gt;file:///path/to/repo&lt;/url&gt;
  &lt;releases&gt;
    &lt;enabled&gt;true&lt;/enabled&gt;
  &lt;/releases&gt;
  &lt;snapshots&gt;
    &lt;enabled&gt;false&lt;/enabled&gt;
  &lt;/snapshots&gt;
&lt;/repository&gt;</pre><p class="simpara">
									Replace <code class="literal">/path/to/repo</code> with the full path to the local Maven mirror repository directory.
								</p></li><li class="listitem"><p class="simpara">
									Under <code class="literal">&lt;pluginRepositories&gt;</code> add the following content:
								</p><pre class="programlisting language-xml">&lt;repository&gt;
  &lt;id&gt;offline-plugin-repository&lt;/id&gt;
  &lt;url&gt;file:///path/to/repo&lt;/url&gt;
  &lt;releases&gt;
    &lt;enabled&gt;true&lt;/enabled&gt;
  &lt;/releases&gt;
  &lt;snapshots&gt;
    &lt;enabled&gt;false&lt;/enabled&gt;
  &lt;/snapshots&gt;
&lt;/repository&gt;</pre><p class="simpara">
									Replace <code class="literal">/path/to/repo</code> with the full path to the local Maven mirror repository directory.
								</p></li></ul></div></li></ol></div></section></section><section class="chapter" id="git-import-proc_install-on-jws"><div class="titlepage"><div><div><h2 class="title">Chapter 43. Importing projects from Git repositories</h2></div></div></div><p>
				Git is a distributed version control system. It implements revisions as commit objects. When you save your changes to a repository, a new commit object in the Git repository is created.
			</p><p>
				Business Central uses Git to store project data, including assets such as rules and processes. When you create a project in Business Central, it is added to a Git repository that is embedded in Business Central. If you have projects in other Git repositories, you can import those projects into the Business Central Git repository through Business Central spaces.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Red Hat Process Automation Manager projects exist in an external Git repository.
					</li><li class="listitem">
						You have the credentials required for read access to that external Git repository.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In Business Central, click <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
					</li><li class="listitem">
						Select or create the space into which you want to import the projects. The default space is <span class="strong strong"><strong>MySpace</strong></span>.
					</li><li class="listitem"><p class="simpara">
						To import a project, do one of the following:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Click <span class="strong strong"><strong>Import Project</strong></span>.
							</li><li class="listitem">
								Select <span class="strong strong"><strong>Import Project</strong></span> from the drop-down list.
							</li></ul></div></li><li class="listitem">
						In the <span class="strong strong"><strong>Import Project</strong></span> window, enter the URL and credentials for the Git repository that contains the projects that you want to import and click <span class="strong strong"><strong>Import</strong></span>. The projects are added to the Business Central Git repository and are available from the current space.
					</li></ol></div></section><section class="chapter" id="ldap-ssl-con_install-on-jws"><div class="titlepage"><div><div><h2 class="title">Chapter 44. Integrating LDAP and SSL</h2></div></div></div><p>
				With Red Hat Process Automation Manager you can integrate LDAP and SSL through RH-SSO. For more information, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_single_sign-on/7.4/html-single/server_administration_guide/"><span class="emphasis"><em>Red Hat Single Sign-On Server Administration Guide</em></span></a>.
			</p></section><section class="appendix" id="business-central-system-properties-ref_install-on-jws"><div class="titlepage"><div><div><h2 class="title">Appendix B. Business Central system properties</h2></div></div></div><p>
				The Business Central system properties listed in this section are passed to <code class="literal">standalone*.xml</code> files.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Git directory</span></dt><dd><p class="simpara">
							Use the following properties to set the location and name for the Business Central Git directory:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.uberfire.nio.git.dir</code>: Location of the Business Central Git directory.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.dirname</code>: Name of the Business Central Git directory. Default value: <code class="literal">.niogit</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ketch</code>: Enables or disables Git ketch.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.hooks</code>: Location of the Git hooks directory.
								</li></ul></div></dd><dt><span class="term">Git over HTTP</span></dt><dd><p class="simpara">
							Use the following properties to configure access to the Git repository over HTTP:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.uberfire.nio.git.proxy.ssh.over.http</code>: Specifies whether SSH should use an HTTP proxy. Default value: <code class="literal">false</code>.
								</li><li class="listitem">
									<code class="literal">http.proxyHost</code>: Defines the host name of the HTTP proxy. Default value: <code class="literal">null</code>.
								</li><li class="listitem">
									<code class="literal">http.proxyPort</code>: Defines the host port (integer value) of the HTTP proxy. Default value: <code class="literal">null</code>.
								</li><li class="listitem">
									<code class="literal">http.proxyUser</code>: Defines the user name of the HTTP proxy.
								</li><li class="listitem">
									<code class="literal">http.proxyPassword</code>: Defines the user password of the HTTP proxy.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.http.enabled</code>: Enables or disables the HTTP daemon. Default value: <code class="literal">true</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.http.host</code>: If the HTTP daemon is enabled, it uses this property as the host identifier. This is an informative property that is used to display how to access the Git repository over HTTP. The HTTP still relies on the servlet container. Default value: <code class="literal">localhost</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.http.hostname</code>: If the HTTP daemon is enabled, it uses this property as the host name identifier. This is an informative property that is used to display how to access the Git repository over HTTP. The HTTP still relies on the servlet container. Default value: <code class="literal">localhost</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.http.port</code>: If the HTTP daemon is enabled, it uses this property as the port number. This is an informative property that is used to display how to access the Git repository over HTTP. The HTTP still relies on the servlet container. Default value: <code class="literal">8080</code>.
								</li></ul></div></dd><dt><span class="term">Git over HTTPS</span></dt><dd><p class="simpara">
							Use the following properties to configure access to the Git repository over HTTPS:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.uberfire.nio.git.proxy.ssh.over.https</code>: Specifies whether SSH uses an HTTPS proxy. Default value: <code class="literal">false</code>.
								</li><li class="listitem">
									<code class="literal">https.proxyHost</code>: Defines the host name of the HTTPS proxy. Default value: <code class="literal">null</code>.
								</li><li class="listitem">
									<code class="literal">https.proxyPort</code>: Defines the host port (integer value) of the HTTPS proxy. Default value: <code class="literal">null</code>.
								</li><li class="listitem">
									<code class="literal">https.proxyUser</code>: Defines the user name of the HTTPS proxy.
								</li><li class="listitem">
									<code class="literal">https.proxyPassword</code>: Defines the user password of the HTTPS proxy.
								</li><li class="listitem">
									<code class="literal">user.dir</code>: Location of the user directory.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.https.enabled</code>: Enables or disables the HTTPS daemon. Default value: <code class="literal">false</code>
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.https.host</code>: If the HTTPS daemon is enabled, it uses this property as the host identifier. This is an informative property that is used to display how to access the Git repository over HTTPS. The HTTPS still relies on the servlet container. Default value: <code class="literal">localhost</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.https.hostname</code>: If the HTTPS daemon is enabled, it uses this property as the host name identifier. This is an informative property that is used to display how to access the Git repository over HTTPS. The HTTPS still relies on the servlet container. Default value: <code class="literal">localhost</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.https.port</code>: If the HTTPS daemon is enabled, it uses this property as the port number. This is an informative property that is used to display how to access the Git repository over HTTPS. The HTTPS still relies on the servlet container. Default value: <code class="literal">8080</code>.
								</li></ul></div></dd><dt><span class="term">JGit</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.uberfire.nio.jgit.cache.instances</code>: Defines the JGit cache size.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.jgit.cache.overflow.cleanup.size</code>: Defines the JGit cache overflow cleanup size.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.jgit.remove.eldest.iterations</code>: Enables or disables whether to remove eldest JGit iterations.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.jgit.cache.evict.threshold.duration</code>: Defines the JGit evict threshold duration.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.jgit.cache.evict.threshold.time.unit</code>: Defines the JGit evict threshold time unit.
								</li></ul></div></dd><dt><span class="term">Git daemon</span></dt><dd><p class="simpara">
							Use the following properties to enable and configure the Git daemon:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.uberfire.nio.git.daemon.enabled</code>: Enables or disables the Git daemon. Default value: <code class="literal">true</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.daemon.host</code>: If the Git daemon is enabled, it uses this property as the local host identifier. Default value: <code class="literal">localhost</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.daemon.hostname</code>: If the Git daemon is enabled, it uses this property as the local host name identifier. Default value: <code class="literal">localhost</code>
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.daemon.port</code>: If the Git daemon is enabled, it uses this property as the port number. Default value: <code class="literal">9418</code>.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">org.uberfire.nio.git.http.sslVerify</code>: Enables or disables SSL certificate checking for Git repositories. Default value: <code class="literal">true</code>.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										If the default or assigned port is already in use, a new port is automatically selected. Ensure that the ports are available and check the log for more information.
									</p></div></div></li></ul></div></dd><dt><span class="term">Git SSH</span></dt><dd><p class="simpara">
							Use the following properties to enable and configure the Git SSH daemon:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ssh.enabled</code>: Enables or disables the SSH daemon. Default value: <code class="literal">true</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ssh.host</code>: If the SSH daemon enabled, it uses this property as the local host identifier. Default value: <code class="literal">localhost</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ssh.hostname</code>: If the SSH daemon is enabled, it uses this property as local host name identifier. Default value: <code class="literal">localhost</code>.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">org.uberfire.nio.git.ssh.port</code>: If the SSH daemon is enabled, it uses this property as the port number. Default value: <code class="literal">8001</code>.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										If the default or assigned port is already in use, a new port is automatically selected. Ensure that the ports are available and check the log for more information.
									</p></div></div></li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ssh.cert.dir</code>: Location of the <code class="literal">.security</code> directory where local certificates are stored. Default value: Working directory.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ssh.idle.timeout</code>: Sets the SSH idle timeout.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ssh.passphrase</code>: Pass phrase used to access the public key store of your operating system when cloning git repositories with SCP style URLs. Example: <code class="literal">git@github.com:user/repository.git</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ssh.algorithm</code>: Algorithm used by SSH. Default value: <code class="literal">RSA</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.gc.limit</code>: Sets the GC limit.
								</li><li class="listitem">
									<code class="literal">org.uberfire.nio.git.ssh.ciphers</code>: A comma-separated string of ciphers. The available ciphers are <code class="literal">aes128-ctr</code>, <code class="literal">aes192-ctr</code>, <code class="literal">aes256-ctr</code>, <code class="literal">arcfour128</code>, <code class="literal">arcfour256</code>, <code class="literal">aes192-cbc</code>, <code class="literal">aes256-cbc</code>. If the property is not used, all available ciphers are loaded.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">org.uberfire.nio.git.ssh.macs</code>: A comma-separated string of message authentication codes (MACs). The available MACs are <code class="literal">hmac-md5</code>, <code class="literal">hmac-md5-96</code>, <code class="literal">hmac-sha1</code>, <code class="literal">hmac-sha1-96</code>, <code class="literal">hmac-sha2-256</code>, <code class="literal">hmac-sha2-512</code>. If the property is not used, all available MACs are loaded.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										If you plan to use RSA or any algorithm other than DSA, make sure you set up your application server to use the Bouncy Castle JCE library.
									</p></div></div></li></ul></div></dd><dt><span class="term">KIE Server nodes and Process Automation Manager controller</span></dt><dd><p class="simpara">
							Use the following properties to configure the connections with the KIE Server nodes from the Process Automation Manager controller:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.kie.server.controller</code>: The URL is used to connect to the Process Automation Manager controller. For example, <code class="literal">ws://localhost:8080/business-central/websocket/controller</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.server.user</code>: User name used to connect to the KIE Server nodes from the Process Automation Manager controller. This property is only required when using this Business Central installation as a Process Automation Manager controller.
								</li><li class="listitem">
									<code class="literal">org.kie.server.pwd</code>: Password used to connect to the KIE Server nodes from the Process Automation Manager controller. This property is only required when using this Business Central installation as a Process Automation Manager controller.
								</li></ul></div></dd><dt><span class="term">Maven and miscellaneous</span></dt><dd><p class="simpara">
							Use the following properties to configure Maven and other miscellaneous functions:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									<code class="literal">kie.maven.offline.force</code>: Forces Maven to behave as if offline. If true, disables online dependency resolution. Default value: <code class="literal">false</code>.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										Use this property for Business Central only. If you share a runtime environment with any other component, isolate the configuration and apply it only to Business Central.
									</p></div></div></li><li class="listitem">
									<code class="literal">org.uberfire.gzip.enable</code>: Enables or disables Gzip compression on the <code class="literal">GzipFilter</code> compression filter. Default value: <code class="literal">true</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.workbench.profile</code>: Selects the Business Central profile. Possible values are <code class="literal">FULL</code> or <code class="literal">PLANNER_AND_RULES</code>. A prefix <code class="literal">FULL_</code> sets the profile and hides the profile preferences from the administrator preferences. Default value: <code class="literal">FULL</code>
								</li><li class="listitem">
									<code class="literal">org.appformer.m2repo.url</code>: Business Central uses the default location of the Maven repository when looking for dependencies. It directs to the Maven repository inside Business Central, for example, <code class="literal">http://localhost:8080/business-central/maven2</code>. Set this property before starting Business Central. Default value: File path to the inner <code class="literal">m2</code> repository.
								</li><li class="listitem">
									<code class="literal">appformer.ssh.keystore</code>: Defines the custom SSH keystore to be used with Business Central by specifying a class name. If the property is not available, the default SSH keystore is used.
								</li><li class="listitem">
									<code class="literal">appformer.ssh.keys.storage.folder</code>: When using the default SSH keystore, this property defines the storage folder for the user’s SSH public keys. If the property is not available, the keys are stored in the Business Central <code class="literal">.security</code> folder.
								</li><li class="listitem">
									<code class="literal">appformer.experimental.features</code>: Enables the experimental features framework. Default value: <code class="literal">false</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.demo</code>: Enables an external clone of a demo application from GitHub.
								</li><li class="listitem">
									<code class="literal">org.uberfire.metadata.index.dir</code>: Place where the Lucene <code class="literal">.index</code> directory is stored. Default value: Working directory.
								</li><li class="listitem">
									<code class="literal">org.uberfire.ldap.regex.role_mapper</code>: Regex pattern used to map LDAP principal names to the application role name. Note that the variable role must be a part of the pattern as the application role name substitutes the variable role when matching a principle value and role name.
								</li><li class="listitem">
									<code class="literal">org.uberfire.sys.repo.monitor.disabled</code>: Disables the configuration monitor. Do not disable unless you are sure. Default value: <code class="literal">false</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.secure.key</code>: Password used by password encryption. Default value: <code class="literal">org.uberfire.admin</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.secure.alg</code>: Crypto algorithm used by password encryption. Default value: <code class="literal">PBEWithMD5AndDES</code>.
								</li><li class="listitem">
									<code class="literal">org.uberfire.domain</code>: Security-domain name used by uberfire. Default value: <code class="literal">ApplicationRealm</code>.
								</li><li class="listitem">
									<code class="literal">org.guvnor.m2repo.dir</code>: Place where the Maven repository folder is stored. Default value: <code class="literal">&lt;working-directory&gt;/repositories/kie</code>.
								</li><li class="listitem">
									<code class="literal">org.guvnor.project.gav.check.disabled</code>: Disables group ID, artifact ID, and version (GAV) checks. Default value: <code class="literal">false</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.build.disable-project-explorer</code>: Disables automatic build of a selected project in Project Explorer. Default value: <code class="literal">false</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.builder.cache.size</code>: Defines the cache size of the project builder. Default value: <code class="literal">20</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.verification.disable-dtable-realtime-verification</code>: Disables the real-time validation and verification of decision tables. Default value: <code class="literal">false</code>.
								</li></ul></div></dd><dt><span class="term">Process Automation Manager controller</span></dt><dd><p class="simpara">
							Use the following properties to configure how to connect to the Process Automation Manager controller:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.kie.workbench.controller</code>: The URL used to connect to the Process Automation Manager controller, for example, <code class="literal">ws://localhost:8080/kie-server-controller/websocket/controller</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.workbench.controller.user</code>: The Process Automation Manager controller user. Default value: <code class="literal">kieserver</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.workbench.controller.pwd</code>: The Process Automation Manager controller password. Default value: <code class="literal">kieserver1!</code>.
								</li><li class="listitem">
									<code class="literal">org.kie.workbench.controller.token</code>: The token string used to connect to the Process Automation Manager controller.
								</li></ul></div></dd><dt><span class="term">Java Cryptography Extension KeyStore (JCEKS)</span></dt><dd><p class="simpara">
							Use the following properties to configure JCEKS:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">kie.keystore.keyStoreURL</code>: The URL used to load a Java Cryptography Extension KeyStore (JCEKS). For example, <code class="literal">file:///home/kie/keystores/keystore.jceks.</code>
								</li><li class="listitem">
									<code class="literal">kie.keystore.keyStorePwd</code>: The password used for the JCEKS.
								</li><li class="listitem">
									<code class="literal">kie.keystore.key.ctrl.alias</code>: The alias of the key for the default REST Process Automation Manager controller.
								</li><li class="listitem">
									<code class="literal">kie.keystore.key.ctrl.pwd</code>: The password of the alias for the default REST Process Automation Manager controller.
								</li></ul></div></dd><dt><span class="term">Rendering</span></dt><dd><p class="simpara">
							Use the following properties to switch between Business Central and KIE Server rendered forms:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">org.jbpm.wb.forms.renderer.ext</code>: Switches the form rendering between Business Central and KIE Server. By default, the form rendering is performed by Business Central. Default value: <code class="literal">false</code>.
								</li><li class="listitem">
									<code class="literal">org.jbpm.wb.forms.renderer.name</code>: Enables you to switch between Business Central and KIE Server rendered forms. Default value: <code class="literal">workbench</code>.
								</li></ul></div></dd></dl></div></section></div><div class="part" id="assembly-installing-kie-server-on-was"><div class="titlepage"><div><div><h1 class="title">Part V. Installing and configuring KIE Server on IBM WebSphere Application Server</h1></div></div></div><div class="partintro" id="idm140016266599600"><div/><p>
				As a system administrator, you can configure your IBM WebSphere Application Server for Red Hat KIE Server and install KIE Server on that IBM server instance.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						An IBM WebSphere Application Server instance version 9.0 or later is installed. For complete installation instructions, see the <a class="link" href="https://www.ibm.com/cloud/websphere-application-platform">IBM WebSphere Application Server product page</a>.
					</li><li class="listitem">
						You have access to the WebSphere Integrated Solutions Console, usually at <code class="literal">http://&lt;HOST&gt;:9060/ibm/console</code>.
					</li></ul></div><div class="toc"><p><strong>Table of Contents</strong></p><ul class="toc"><li><span class="chapter"><a href="#kie-server-con_kie-server-on-was">45. KIE Server</a></span></li><li><span class="chapter"><a href="#was-con">46. IBM WebSphere Application Server</a></span></li><li><span class="chapter"><a href="#was-install-start-proc">47. Installing and running IBM WebSphere Application Server</a></span></li><li><span class="chapter"><a href="#was-configure-proc">48. Configuring IBM WebSphere Application Server for KIE Server</a></span><ul><li><span class="section"><a href="#was-security-set-proc">48.1. Enabling administrative security</a></span></li><li><span class="section"><a href="#was-data-source-create-proc">48.2. Configuring JDBC data sources in IBM WebSphere Application Server</a></span></li><li><span class="section"><a href="#wls-was-jms-configure-con_kie-server-on-was">48.3. Configuring Java Message Service (JMS)</a></span><ul><li><span class="section"><a href="#was-jms-bus-proc">48.3.1. Create a service bus and add IBM WebSphere</a></span></li><li><span class="section"><a href="#was-jms-factory-create-proc">48.3.2. Create JMS connection factories</a></span></li><li><span class="section"><a href="#was-jms-queues-create-proc">48.3.3. Create JMS queues</a></span></li><li><span class="section"><a href="#was-jms-activation-proc">48.3.4. Create JMS activation specifications</a></span></li></ul></li><li><span class="section"><a href="#kie-server-was-environment-set-proc">48.4. Setting system properties in IBM WebSphere Application Server</a></span></li><li><span class="section"><a href="#was-stop-start-proc">48.5. Stopping and restarting IBM WebSphere Application Server</a></span></li></ul></li><li><span class="chapter"><a href="#kie-server-was-install-proc">49. Installing and running KIE Server with IBM WebSphere Application Server</a></span><ul><li><span class="section"><a href="#kie-server-was-goup-proc">49.1. Creating the KIE Server group and role</a></span></li><li><span class="section"><a href="#kie-server-was-mapping-proc_kie-server-on-was">49.2. Mapping the KIE Server group and role</a></span></li><li><span class="section"><a href="#was-ks-classloader-proc_kie-server-on-was">49.3. Configuring class loading for KIE Server</a></span></li><li><span class="section"><a href="#kie-server-was-verify-proc">49.4. Verifying the installation</a></span></li></ul></li><li><span class="chapter"><a href="#controller-was-install-proc">50. Installing and running the headless Process Automation Manager controller with IBM WebSphere Application Server</a></span><ul><li><span class="section"><a href="#was-controller-classloader-proc_kie-server-on-was">50.1. Configuring class loading for the headless Process Automation Manager controller</a></span></li><li><span class="section"><a href="#controller-wls-was-environment-set-proc_kie-server-on-was">50.2. Setting system properties for the headless Process Automation Manager controller</a></span></li><li><span class="section"><a href="#controller-was-mapping-proc_kie-server-on-was">50.3. Mapping the headless Process Automation Manager controller group and role</a></span></li><li><span class="section"><a href="#controller-wls-was-verify-proc_kie-server-on-was">50.4. Verifying the installation</a></span></li></ul></li><li><span class="chapter"><a href="#was-configure-embedded-engine-proc">51. Configuring an embedded process engine and decision engine in IBM WebSphere Application Server</a></span></li><li><span class="chapter"><a href="#securing-passwords-was-proc_kie-server-on-was">52. Securing passwords with a keystore</a></span></li><li><span class="chapter"><a href="#next_steps_2">53. Next steps</a></span></li></ul></div></div><section class="chapter" id="kie-server-con_kie-server-on-was"><div class="titlepage"><div><div><h2 class="title">Chapter 45. KIE Server</h2></div></div></div><p>
				KIE Server is the server where the rules and other artifacts for Red Hat Process Automation Manager are stored and run. KIE Server is a standalone built-in component that can be used to instantiate and execute rules through interfaces available for REST, Java Message Service (JMS), or Java client-side applications, as well as to manage processes, jobs, and Red Hat Business Optimizer functionality through solvers.
			</p><p>
				Created as a web deployable WAR file, KIE Server can be deployed on any web container. The current version of the KIE Server is included with default extensions for both Red Hat Decision Manager and Red Hat Process Automation Manager.
			</p><p>
				KIE Server has a low footprint with minimal memory consumption and therefore can be deployed easily on a cloud instance. Each instance of this server can open and instantiate multiple containers, which enables you to execute multiple rule services in parallel.
			</p><p>
				KIE Server can be integrated with other application servers, such as Oracle WebLogic Server or IBM WebSphere Application Server, to streamline Red Hat Process Automation Manager application management.
			</p></section><section class="chapter" id="was-con"><div class="titlepage"><div><div><h2 class="title">Chapter 46. IBM WebSphere Application Server</h2></div></div></div><p>
				IBM WebSphere Application Server is a flexible and secure web application server that hosts Java-based web applications and provides Java EE-certified run time environments. IBM WebSphere 9.0 supports Java SE 8 and is fully compliant with Java EE 7.
			</p></section><section class="chapter" id="was-install-start-proc"><div class="titlepage"><div><div><h2 class="title">Chapter 47. Installing and running IBM WebSphere Application Server</h2></div></div></div><p>
				IBM WebSphere Application Server must be installed and running for you to apply many of the configurations that accommodate KIE Server. This section describes how to install and start IBM WebSphere.
			</p><p>
				For the most up-to-date and detailed installation instructions, see the <a class="link" href="https://www.ibm.com/support/knowledgecenter/en">IBM Knowledge Center</a>.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Download IBM Installation Manager version 1.8.5 or later from the <a class="link" href="http://www-01.ibm.com/support/docview.wss?uid=swg27025142">IBM Installation Manager and Packaging Utility download links</a> page. IBM Installation Manager is required for installing IBM WebSphere.
					</li><li class="listitem"><p class="simpara">
						Extract the downloaded archive and run the following command as the root user in the new directory:
					</p><pre class="screen">sudo ./install</pre><p class="simpara">
						The <span class="strong strong"><strong>IBM Installation Manager</strong></span> opens.
					</p></li><li class="listitem">
						Go to <span class="strong strong"><strong>File</strong></span> → <span class="strong strong"><strong>Preferences</strong></span> and click <span class="strong strong"><strong>Add Repository</strong></span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Add Repository</strong></span> window, enter the repository URL for IBM WebSphere 9.0. You can find all the repository URLs in the <a class="link" href="https://www.ibm.com/support/knowledgecenter/SSEQTP_9.0.5/com.ibm.websphere.installation.base.doc/ae/cins_repositories.html">Online product repositories for IBM WebSphere Application Server offerings</a> page of the IBM Knowledge Center.
					</li><li class="listitem">
						In your command terminal, navigate to the IBM WebSphere Application Server folder location that you specified during the installation.
					</li><li class="listitem"><p class="simpara">
						Change to the <code class="literal">/bin</code> directory and run a command similar to the following example to create an IBM WebSphere profile, user name, and password. A profile defines the run time environment. The profile includes all the files that the server processes in the runtime environment and that you can change. The user is required for login.
					</p><pre class="screen">sudo ./manageprofiles.sh -create -profileName testprofile -profilePath /profiles/testprofile  -adminUserName websphere -adminPassword password123</pre></li><li class="listitem"><p class="simpara">
						In your command terminal, navigate to the <code class="literal">bin</code> directory within the profile that you created (for example, <code class="literal">/profiles/testprofile/bin</code>) and run the following command to start the IBM WebSphere Application Server instance:
					</p><pre class="screen">sudo ./startServer.sh &lt;SERVER_NAME&gt;</pre><p class="simpara">
						<code class="literal">&lt;SERVER_NAME&gt;</code> is the IBM WebSphere Application Server name defined in <span class="strong strong"><strong>Servers</strong></span> → <span class="strong strong"><strong>Server Types</strong></span> → <span class="strong strong"><strong>IBM WebSphere Application Servers</strong></span> of the WebSphere Integrated Solutions Console.
					</p></li><li class="listitem"><p class="simpara">
						Open the following URL in a web browser:
					</p><pre class="screen">http://&lt;HOST&gt;:9060/ibm/console</pre><p class="simpara">
						<code class="literal">&lt;HOST&gt;</code> is the system name or IP address of the target server.
					</p><p class="simpara">
						For example, to start the WebSphere Integrated Solutions Console for a local instance of IBM WebSphere running on your system, enter the following URL in a web browser:
					</p><pre class="screen">http://localhost:9060/ibm/console</pre></li><li class="listitem">
						When the login page of the WebSphere Integrated Solutions Console appears, enter your administrative credentials.
					</li></ol></div></section><section class="chapter" id="was-configure-proc"><div class="titlepage"><div><div><h2 class="title">Chapter 48. Configuring IBM WebSphere Application Server for KIE Server</h2></div></div></div><p>
				Before you deploy KIE Server with IBM WebSphere Application Server, you must configure system properties, security settings, JMS requirements, and other properties on IBM WebSphere. These configurations promote an optimal integration with KIE Server.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						IBM WebSphere Application Server is installed and running.
					</li><li class="listitem">
						You are logged in to the WebSphere Integrated Solutions Console.
					</li></ul></div><section class="section" id="was-security-set-proc"><div class="titlepage"><div><div><h2 class="title">48.1. Enabling administrative security</h2></div></div></div><p>
					You must enable administrative security in the WebSphere Integrated Solutions Console so that you have the required permissions to create users and groups.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the WebSphere Integrated Solutions Console, click <span class="strong strong"><strong>Security</strong></span> → <span class="strong strong"><strong>Global Security</strong></span> and ensure that the option <span class="strong strong"><strong>Enable Application Security</strong></span> is selected. This may already be selected and overridden at the server level.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Security Configuration Wizard</strong></span> and click <span class="strong strong"><strong>Next</strong></span>.
						</li><li class="listitem">
							Select the repository that contains the user information. For example, select <span class="strong strong"><strong>Federated repositories</strong></span> for local configurations.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Next</strong></span>
						</li><li class="listitem">
							Enter the <span class="strong strong"><strong>Primary administrative user name</strong></span> and <span class="strong strong"><strong>Password</strong></span>.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Next</strong></span> and then click <span class="strong strong"><strong>Finish</strong></span>.
						</li><li class="listitem"><p class="simpara">
							Click <span class="strong strong"><strong>Save</strong></span> in the <span class="strong strong"><strong>Messages</strong></span> window to save your changes to the master configuration.
						</p><div class="figure" id="idm140016299572832"><p class="title"><strong>Figure 48.1. Save security changes</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/websphere/messages_popup.png" alt="Save security changes"/></div></div></div></li><li class="listitem"><p class="simpara">
							In your command terminal, navigate to the IBM WebSphere Application Server <code class="literal">/bin</code> directory location that you specified during installation, and run the following commands to stop and restart IBM WebSphere to apply the security changes:
						</p><pre class="screen">sudo ./stopServer.sh &lt;SERVER_NAME&gt;</pre><pre class="screen">sudo ./startServer.sh &lt;SERVER_NAME&gt;</pre><p class="simpara">
							<code class="literal">&lt;SERVER_NAME&gt;</code> is the IBM WebSphere Application Server name defined in <span class="strong strong"><strong>Servers</strong></span> → <span class="strong strong"><strong>Server Types</strong></span> → <span class="strong strong"><strong>IBM WebSphere Application Servers</strong></span> of the WebSphere Integrated Solutions Console.
						</p></li></ol></div></section><section class="section" id="was-data-source-create-proc"><div class="titlepage"><div><div><h2 class="title">48.2. Configuring JDBC data sources in IBM WebSphere Application Server</h2></div></div></div><p>
					A data source is an object that enables a Java Database Connectivity (JDBC) client, such as an application server, to establish a connection with a database. Applications look up the data source on the Java Naming and Directory Interface (JNDI) tree or in the local application context and request a database connection to retrieve data. You must configure data sources for IBM WebSphere Application Server to ensure proper data exchange between the servers and the designated database.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The JDBC providers that you want to use to create database connections are configured on all servers on which you want to deploy the data source. For more information about JDBC providers, see <a class="link" href="https://www.ibm.com/support/knowledgecenter/en/SSEQTP_9.0.5/com.ibm.websphere.base.doc/ae/tdat_ccrtprov.html">Configuring a JDBC provider</a> in the IBM Knowledge Center.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Product:</strong></span> Process Automation Manager
								</li><li class="listitem">
									<span class="strong strong"><strong>Version:</strong></span> 7.10
								</li></ul></div></li><li class="listitem">
							Download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Add-Ons</strong></span>.
						</li><li class="listitem"><p class="simpara">
							Complete the following steps to prepare your database:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Extract <code class="literal">rhpam-7.10.0-add-ons.zip</code> in a temporary directory, for example <code class="literal">TEMP_DIR</code>.
								</li><li class="listitem">
									Extract <code class="literal">TEMP_DIR/rhpam-7.10.0-migration-tool.zip</code>.
								</li><li class="listitem">
									Change your current directory to the <code class="literal">TEMP_DIR/rhpam-7.10.0-migration-tool/ddl-scripts</code> directory. This directory contains DDL scripts for several database types.
								</li><li class="listitem"><p class="simpara">
									Import the DDL script for your database type into the database that you want to use, for example:
								</p><pre class="programlisting language-shell">psql jbpm &lt; /ddl-scripts/postgresql/postgresql-jbpm-schema.sql</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										If you are using PostgreSQL or Oracle in conjunction with Spring Boot, you must import the respective Spring Boot DDL script, for example <code class="literal">/ddl-scripts/oracle/oracle-springboot-jbpm-schema.sql</code> or <code class="literal">/ddl-scripts/postgresql/postgresql-springboot-jbpm-schema.sql</code>.
									</p></div></div></li></ol></div></li><li class="listitem">
							In the WebSphere Integrated Solutions Console, navigate to <span class="strong strong"><strong>Resources</strong></span> → <span class="strong strong"><strong>JDBC</strong></span> → <span class="strong strong"><strong>Data sources</strong></span>.
						</li><li class="listitem">
							Select the scope at which applications can use the data source. You can choose a cell, node, cluster, or server.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>New</strong></span> to open the <span class="strong strong"><strong>Create a data source</strong></span> wizard.
						</li><li class="listitem"><p class="simpara">
							Enter a unique name in the <span class="strong strong"><strong>Data source name</strong></span> field and a Java Naming and Directory Interface (JNDI) name in the <span class="strong strong"><strong>JNDI name</strong></span> field. The application server uses the JNDI name to bind resource references for an application to this data source.
						</p><p class="simpara">
							Do not assign duplicate JNDI names across different resource types, such as data sources versus J2C connection factories or JMS connection factories.
						</p><p class="simpara">
							Do not assign duplicate JNDI names for multiple resources of the same type in the same scope.
						</p></li><li class="listitem">
							Click <span class="strong strong"><strong>Next</strong></span> and choose <span class="strong strong"><strong>Select an existing JDBC provider</strong></span> if the provider has been created, or choose <span class="strong strong"><strong>Create new JDBC provider</strong></span> to define details for a new provider. (Creating the JDBC provider before this point is recommended, as a prerequisite to adding data sources.)
						</li><li class="listitem">
							On the <span class="strong strong"><strong>Enter database specific properties for the data source</strong></span> panel, click <span class="strong strong"><strong>Use this data source in container managed persistence (CMP)</strong></span> if container managed persistence (CMP) enterprise beans must access this data source. Then fill in any other database-specific properties.
						</li><li class="listitem"><p class="simpara">
							Optional: Configure the security aliases for the data source. You can select <span class="strong strong"><strong>None</strong></span> for any of the authentication methods, or choose one of the following types:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Component-managed authentication alias:</strong></span> Specifies an authentication alias to use when the component resource reference res-auth value is <code class="literal">Application</code>. To define a new alias, navigate to <span class="strong strong"><strong>Related Items → J2EE Connector Architecture (J2C) authentication data entries</strong></span>. A component-managed alias represents a combination of ID and password that is specified in an application for data source authentication. Therefore, the alias that you set on the data source must be identical to the alias in the application code.
								</li><li class="listitem">
									<span class="strong strong"><strong>Mapping-configuration alias:</strong></span> Used only in the absence of a login configuration on the component resource reference. The specification of a login configuration and the associated properties on the component resource reference is the preferred way to define the authentication strategy when the res-auth value is set to <code class="literal">Container</code>. If you specify the <code class="literal">DefaultPrincipalMapping</code> login configuration, the associated property is a JAAS - J2C authentication data entry alias.
								</li><li class="listitem">
									<span class="strong strong"><strong>Container-managed authentication alias:</strong></span> Used only in the absence of a login configuration on the component resource reference. The specification of a login configuration and the associated properties on the component resource reference determines the container-managed authentication strategy when the res-auth value is set to <code class="literal">Container</code>.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Click <span class="strong strong"><strong>Next</strong></span>, review the information for the data source, and click <span class="strong strong"><strong>Finish</strong></span> to save the configuration and exit the wizard.
						</p><p class="simpara">
							The <span class="strong strong"><strong>Data sources</strong></span> panel displays your new configuration in a table along with any other data sources that are configured for the same scope.
						</p></li></ol></div><p>
					For more information about IBM WebSphere Application Server data sources, see <a class="link" href="https://www.ibm.com/support/knowledgecenter/SSEQTP_9.0.5/com.ibm.websphere.base.doc/ae/tdat_tccrtprovds.html">Configuring a JDBC provider and data source</a> in the IBM Knowledge Center.
				</p></section><section class="section" id="wls-was-jms-configure-con_kie-server-on-was"><div class="titlepage"><div><div><h2 class="title">48.3. Configuring Java Message Service (JMS)</h2></div></div></div><p>
					The Java Message Service (JMS) is a Java API that KIE Server uses to exchange messages with other application servers such as Oracle WebLogic Server and IBM WebSphere Application Server. You must configure your application server to send and receive JMS messages through KIE Server to ensure proper collaboration between the two servers.
				</p><section class="section" id="was-jms-bus-proc"><div class="titlepage"><div><div><h3 class="title">48.3.1. Create a service bus and add IBM WebSphere</h3></div></div></div><p>
						You must create a service bus and add the IBM WebSphere Application Server as a member of it in order to use JMS.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								In the WebSphere Integrated Solutions Console, navigate to <span class="strong strong"><strong>Service Integration</strong></span> → <span class="strong strong"><strong>Buses</strong></span> → <span class="strong strong"><strong>New</strong></span>.
							</li><li class="listitem">
								Enter a new bus name and clear the <span class="strong strong"><strong>Bus Security</strong></span> option.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Next</strong></span> and then <span class="strong strong"><strong>Finish</strong></span> to create the service bus.
							</li><li class="listitem">
								Select the service bus that you have created.
							</li><li class="listitem">
								Under <span class="strong strong"><strong>Topology</strong></span>, click <span class="strong strong"><strong>Bus Members</strong></span> → <span class="strong strong"><strong>Add</strong></span>.
							</li><li class="listitem">
								In the <span class="strong strong"><strong>Add a New Bus Member</strong></span> wizard, choose the IBM WebSphere Application Server and the type of message store for persistence. You can also specify the properties of the message store.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Finish</strong></span> to add the new bus member.
							</li></ol></div></section><section class="section" id="was-jms-factory-create-proc"><div class="titlepage"><div><div><h3 class="title">48.3.2. Create JMS connection factories</h3></div></div></div><p>
						To enable messaging with KIE Server, you must create certain JMS connection factories for sending and receiving messages.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								You have created a service bus for IBM WebSphere Application Server.
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								In the WebSphere Integrated Solutions Console, navigate to <span class="strong strong"><strong>Resources</strong></span> → <span class="strong strong"><strong>JMS</strong></span> → <span class="strong strong"><strong>Connection Factories</strong></span>.
							</li><li class="listitem">
								Select the correct scope and click <span class="strong strong"><strong>New</strong></span>.
							</li><li class="listitem">
								Select the <span class="strong strong"><strong>Default Messaging Provider</strong></span> option and click <span class="strong strong"><strong>OK</strong></span>.
							</li><li class="listitem">
								For each of the following required connection factories, enter the name of the connection factory (for example, <code class="literal">KIE.SERVER.REQUEST</code>) and the JNDI name (for example, <code class="literal">jms/cf/KIE.SERVER.REQUEST</code>), and then select the service bus from the <span class="strong strong"><strong>Bus Name</strong></span> drop-down list. Leave the default values for the remaining options.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Apply</strong></span> and <span class="strong strong"><strong>Save</strong></span> to save the changes to the master configuration, and repeat for each required factory.
							</li></ol></div><section class="section" id="jms-factories-ref_kie-server-on-was"><div class="titlepage"><div><div><h4 class="title">48.3.2.1. JMS connection factories for KIE Server</h4></div></div></div><p>
							The following are the required Java Message Service (JMS) connection factories that enable JMS messaging with KIE Server:
						</p><div class="table" id="idm140016268370576"><p class="title"><strong>Table 48.1. Required JMS connection factories for KIE Server</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"/><col style="width: 35%; " class="col_2"/><col style="width: 40%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016270694624" scope="col">Name</th><th align="left" valign="top" id="idm140016270693536" scope="col">Default value</th><th align="left" valign="top" id="idm140016270692448" scope="col">Used for</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016270694624">
										<p>
											<code class="literal">KIE.SERVER.REQUEST</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270693536">
										<p>
											<code class="literal">jms/cf/KIE.SERVER.REQUEST</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270692448">
										<p>
											Sending all requests to KIE Server
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270694624">
										<p>
											<code class="literal">KIE.SERVER.RESPONSE</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270693536">
										<p>
											<code class="literal">jms/cf/KIE.SERVER.RESPONSE</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270692448">
										<p>
											Receiving all responses produced by KIE Server
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270694624">
										<p>
											<code class="literal">KIE.SERVER.EXECUTOR</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270693536">
										<p>
											<code class="literal">jms/cf/KIE.SERVER.EXECUTOR</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270692448">
										<p>
											KIE Server executor services
										</p>
										</td></tr></tbody></table></div></div></section></section><section class="section" id="was-jms-queues-create-proc"><div class="titlepage"><div><div><h3 class="title">48.3.3. Create JMS queues</h3></div></div></div><p>
						JMS queues are the destination end points for point-to-point messaging. You must create certain JMS queues to enable JMS messaging with KIE Server.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								You have created a service bus for IBM WebSphere Application Server.
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								In the WebSphere Integrated Solutions Console, navigate to <span class="strong strong"><strong>Resources</strong></span> → <span class="strong strong"><strong>JMS</strong></span> → <span class="strong strong"><strong>Queues</strong></span>.
							</li><li class="listitem">
								Select the correct scope and click <span class="strong strong"><strong>New</strong></span>.
							</li><li class="listitem">
								Select the <span class="strong strong"><strong>Default Messaging Provider</strong></span> option and click <span class="strong strong"><strong>OK</strong></span>.
							</li><li class="listitem">
								For each of the following required queues, enter the name of the queue (for example, <code class="literal">KIE.SERVER.REQUEST</code>) and the JNDI name (for example, <code class="literal">jms/KIE.SERVER.REQUEST</code>), and then select the service bus from the <span class="strong strong"><strong>Bus Name</strong></span> drop-down list.
							</li><li class="listitem">
								From the <span class="strong strong"><strong>Queue Name</strong></span> drop-down list, select the <span class="strong strong"><strong>Create Service Integration Bus Destination</strong></span>, enter a unique identifier, and select the bus member that you created previously.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Apply</strong></span> and <span class="strong strong"><strong>Save</strong></span> to save the changes to the master configuration, and repeat for each required queue.
							</li></ol></div><section class="section" id="jms-queues-ref_kie-server-on-was"><div class="titlepage"><div><div><h4 class="title">48.3.3.1. JMS queues for KIE Server</h4></div></div></div><p>
							The following are the required Java Message Service (JMS) queues that enable JMS messaging with KIE Server:
						</p><div class="table" id="idm140016267602352"><p class="title"><strong>Table 48.2. Required JMS queues for KIE Server</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"/><col style="width: 35%; " class="col_2"/><col style="width: 40%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016267596576" scope="col">Name</th><th align="left" valign="top" id="idm140016267595488" scope="col">Default value</th><th align="left" valign="top" id="idm140016267594400" scope="col">Used for</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016267596576">
										<p>
											<code class="literal">KIE.SERVER.REQUEST</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267595488">
										<p>
											<code class="literal">jms/KIE.SERVER.REQUEST</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267594400">
										<p>
											Sending all requests to KIE Server
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016267596576">
										<p>
											<code class="literal">KIE.SERVER.RESPONSE</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267595488">
										<p>
											<code class="literal">jms/KIE.SERVER.RESPONSE</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267594400">
										<p>
											Receiving all responses produced by KIE Server
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016267596576">
										<p>
											<code class="literal">KIE.SERVER.EXECUTOR</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267595488">
										<p>
											<code class="literal">jms/KIE.SERVER.EXECUTOR</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267594400">
										<p>
											KIE Server executor services
										</p>
										</td></tr></tbody></table></div></div></section></section><section class="section" id="was-jms-activation-proc"><div class="titlepage"><div><div><h3 class="title">48.3.4. Create JMS activation specifications</h3></div></div></div><p>
						A JMS activation specification is required in order to bridge the queue and the message-driven bean that enables JMS.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								You have created a service bus for IBM WebSphere Application Server.
							</li><li class="listitem">
								You have created JMS queues.
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								In the WebSphere Integrated Solutions Console, navigate to <span class="strong strong"><strong>Resources</strong></span> → <span class="strong strong"><strong>JMS</strong></span> → <span class="strong strong"><strong>Activation Specifications</strong></span>.
							</li><li class="listitem">
								Select the correct scope and click <span class="strong strong"><strong>New</strong></span>.
							</li><li class="listitem">
								Select the <span class="strong strong"><strong>Default Messaging Provider</strong></span> option and click <span class="strong strong"><strong>OK</strong></span>.
							</li><li class="listitem">
								For each of the following required activation specifications, enter the name of the activation specification (for example, <code class="literal">KIE.SERVER.REQUEST</code>) and the JNDI name (for example, <code class="literal">jms/activation/KIE.SERVER.REQUEST</code>), and then select the service bus from the <span class="strong strong"><strong>Bus Name</strong></span> drop-down list.
							</li><li class="listitem">
								From the <span class="strong strong"><strong>Destination Type</strong></span> drop-down list, select <span class="strong strong"><strong>Queue</strong></span> and enter the name of the corresponding queue as a <span class="strong strong"><strong>Destination lookup</strong></span> (for example, <code class="literal">jms/KIE.SERVER.REQUEST</code>).
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Apply</strong></span> and <span class="strong strong"><strong>Save</strong></span> to save the changes to the master configuration, and repeat for each required activation specification.
							</li></ol></div><section class="section" id="jms-activation-ref_kie-server-on-was"><div class="titlepage"><div><div><h4 class="title">48.3.4.1. JMS activation specifications for KIE Server</h4></div></div></div><p>
							The following are the required Java Message Service (JMS) activation specifications that enable JMS messaging with KIE Server:
						</p><div class="table" id="idm140016267583664"><p class="title"><strong>Table 48.3. Required JMS activation specifications for KIE Server</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"/><col style="width: 35%; " class="col_2"/><col style="width: 40%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016267577984" scope="col">Name</th><th align="left" valign="top" id="idm140016267576896" scope="col">Default value</th><th align="left" valign="top" id="idm140016267575808" scope="col">Used for</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016267577984">
										<p>
											<code class="literal">KIE.SERVER.REQUEST</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267576896">
										<p>
											<code class="literal">jms/activation/KIE.SERVER.REQUEST</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267575808">
										<p>
											Sending all requests to KIE Server
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016267577984">
										<p>
											<code class="literal">KIE.SERVER.RESPONSE</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267576896">
										<p>
											<code class="literal">jms/activation/KIE.SERVER.RESPONSE</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267575808">
										<p>
											Receiving all responses produced by KIE Server
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016267577984">
										<p>
											<code class="literal">KIE.SERVER.EXECUTOR</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267576896">
										<p>
											<code class="literal">jms/activation/KIE.SERVER.EXECUTOR</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267575808">
										<p>
											KIE Server executor services
										</p>
										</td></tr></tbody></table></div></div></section></section></section><section class="section" id="kie-server-was-environment-set-proc"><div class="titlepage"><div><div><h2 class="title">48.4. Setting system properties in IBM WebSphere Application Server</h2></div></div></div><p>
					Set the system properties listed in this section on your IBM WebSphere Application Server before you deploy KIE Server.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the WebSphere Integrated Solutions Console, navigate to <span class="strong strong"><strong>Servers</strong></span> → <span class="strong strong"><strong>Server Types</strong></span> → <span class="strong strong"><strong>IBM WebSphere Application Servers</strong></span>.
						</li><li class="listitem">
							In the list of application servers, choose the server on which you are going to deploy KIE Server.
						</li><li class="listitem"><p class="simpara">
							Under the <span class="strong strong"><strong>Server Infrastructure</strong></span>, click <span class="strong strong"><strong>Java and Process Management</strong></span> → <span class="strong strong"><strong>Process Definition</strong></span>.
						</p><div class="figure" id="idm140016270131232"><p class="title"><strong>Figure 48.2. WebSphere configuration page</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/websphere/process_definition.png" alt="WebSphere configuration page"/></div></div></div></li><li class="listitem"><p class="simpara">
							Under <span class="strong strong"><strong>Additional Properties</strong></span>, click <span class="strong strong"><strong>Java Virtual Machine</strong></span>.
						</p><div class="figure" id="idm140016270124832"><p class="title"><strong>Figure 48.3. Process definition configuration page</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/websphere/process_definition2.png" alt="process definition2"/></div></div></div><p class="simpara">
							This opens the configuration properties for the JVM that is used to start IBM WebSphere.
						</p></li><li class="listitem">
							Set both the <span class="strong strong"><strong>Initial heap size</strong></span> and <span class="strong strong"><strong>Maximum heap size</strong></span> to <code class="literal">2048</code> and click <span class="strong strong"><strong>Apply</strong></span> to increase the Java Virtual Machine (JVM) memory size. KIE Server has been tested with these values. If you do not increase the JVM memory size, IBM WebSphere Application Server freezes or causes deployment errors when deploying KIE Server.
						</li><li class="listitem">
							Under <span class="strong strong"><strong>Additional Properties</strong></span>, click <span class="strong strong"><strong>Custom Properties</strong></span>.
						</li><li class="listitem"><p class="simpara">
							Click <span class="strong strong"><strong>New</strong></span> → <span class="strong strong"><strong>Custom JVM Properties</strong></span> and add the following properties to IBM WebSphere:
						</p><div class="table" id="idm140016270111280"><p class="title"><strong>Table 48.4. System properties for KIE Server</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 40%; " class="col_2"/><col style="width: 30%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016270105504" scope="col">Name</th><th align="left" valign="top" id="idm140016270104416" scope="col">Value</th><th align="left" valign="top" id="idm140016270103328" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016270105504">
										<p>
											<code class="literal">kie.server.jms.queues.response</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270104416">
										<p>
											<code class="literal">jms/KIE.SERVER.RESPONSE</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270103328">
										<p>
											The JNDI name of JMS queue for responses used by KIE Server.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270105504">
										<p>
											<code class="literal">org.kie.server.domain</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270104416">
										<p>
											<code class="literal">WSLogin</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270103328">
										<p>
											JAAS <code class="literal">LoginContext</code> domain used to authenticate users when using JMS.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270105504">
										<p>
											<code class="literal">org.kie.server.persistence.ds</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270104416">
										<p>
											<code class="literal">jdbc/jbpm</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270103328">
										<p>
											Data source JNDI name for KIE Server.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270105504">
										<p>
											<code class="literal">org.kie.server.persistence.tm</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270104416">
										<p>
											<code class="literal">org.hibernate.engine.transaction.jta.platform.internal.WebSphereJtaPlatform</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270103328">
										<p>
											Transaction manager platform for setting Hibernate properties.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270105504">
										<p>
											<code class="literal">org.kie.server.persistence.dialect</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270104416">
										<p>
											Example: <code class="literal">org.hibernate.dialect.H2Dialect</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270103328">
										<p>
											Specifies the Hibernate dialect to be used. Set according to data source.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270105504">
										<p>
											<code class="literal">org.kie.executor.jms.queue</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270104416">
										<p>
											<code class="literal">jms/KIE.SERVER.EXECUTOR</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270103328">
										<p>
											Job executor JMS queue for KIE Server.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270105504">
										<p>
											<code class="literal">org.kie.executor.jms.cf</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270104416">
										<p>
											<code class="literal">jms/cf/KIE.SERVER.EXECUTOR</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270103328">
										<p>
											Job executor JMS connection factory for KIE Server.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270105504">
										<p>
											<code class="literal">org.kie.server.router</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270104416">
										<p>
											Example: <code class="literal">http://localhost:9000</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270103328">
										<p>
											(Optional) Specifies one or more URLs for one or more KIE Server routers (Smart Routers) that the application server is a part of in a clustered KIE Server environment.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270105504">
										<p>
											<code class="literal">org.jboss.logging.provider</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270104416">
										<p>
											<code class="literal">jdk</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270103328">
										<p>
											This property is only required where a <code class="literal">CA SiteMinder TAI (SMTAI)</code> is installed in the environment. Using this property forces Hibernate to use <code class="literal">JDK</code> instead of <code class="literal">log4j</code> for logging within Dashbuilder. <code class="literal">CA SiteMinder TAI (SMTAI)</code> contains an old version of <code class="literal">log4j</code>, which causes conflicts.
										</p>
										</td></tr></tbody></table></div></div></li><li class="listitem">
							Click <span class="strong strong"><strong>Save</strong></span> to save the changes to the master configuration.
						</li></ol></div></section><section class="section" id="was-stop-start-proc"><div class="titlepage"><div><div><h2 class="title">48.5. Stopping and restarting IBM WebSphere Application Server</h2></div></div></div><p>
					After you have configured all required system properties in IBM WebSphere Application Server, stop and restart the IBM server to ensure that the configurations are applied.
				</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						In your command terminal, navigate to the IBM WebSphere Application Server <code class="literal">/bin</code> directory location that you specified during installation, and run the following commands to stop and restart IBM WebSphere to apply the configuration changes:
					</p></div><pre class="screen">sudo ./stopServer.sh &lt;SERVER_NAME&gt;</pre><pre class="screen">sudo ./startServer.sh &lt;SERVER_NAME&gt;</pre><p>
					<code class="literal">&lt;SERVER_NAME&gt;</code> is the IBM WebSphere Application Server name defined in <span class="strong strong"><strong>Servers</strong></span> → <span class="strong strong"><strong>Server Types</strong></span> → <span class="strong strong"><strong>IBM WebSphere Application Servers</strong></span> of the WebSphere Integrated Solutions Console.
				</p></section></section><section class="chapter" id="kie-server-was-install-proc"><div class="titlepage"><div><div><h2 class="title">Chapter 49. Installing and running KIE Server with IBM WebSphere Application Server</h2></div></div></div><p>
				After you have configured all required system properties in IBM WebSphere Application Server, you can install KIE Server with IBM WebSphere to streamline Red Hat Process Automation Manager application management.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						An IBM WebSphere Application Server instance is configured as described in <a class="xref" href="#was-configure-proc" title="Chapter 48. Configuring IBM WebSphere Application Server for KIE Server">Chapter 48, <em>Configuring IBM WebSphere Application Server for KIE Server</em></a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="strong strong"><strong>Product:</strong></span> Process Automation Manager
							</li><li class="listitem">
								<span class="strong strong"><strong>Version:</strong></span> 7.10
							</li></ul></div></li><li class="listitem">
						Download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 KIE Server for All Supported EE7 Containers</strong></span>.
					</li><li class="listitem">
						Extract the <code class="literal">rhpam-7.10.0-kie-server-ee7.zip</code> archive to a temporary directory. In the following examples this directory is called <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span></code>.
					</li><li class="listitem"><p class="simpara">
						Repackage the <code class="literal">kie-server.war</code> directory:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Navigate to the <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span>/rhpam-7.10.0-kie-server-ee7/kie-server.war</code> directory.
							</li><li class="listitem">
								Select the contents of the <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span>/rhpam-7.10.0-kie-server-ee7/kie-server.war</code> directory and create the <code class="literal">kie-server.zip</code> file.
							</li><li class="listitem">
								Rename <code class="literal">kie-server.zip</code> to <code class="literal">kie-server.war</code>. This is the file that you will use to deploy KIE Server.
							</li><li class="listitem">
								Optional: Copy the new <code class="literal">kie-server.war</code> file to a location that is more convenient to deploy from.
							</li></ol></div></li><li class="listitem">
						In the WebSphere Integrated Solutions Console, navigate to <span class="strong strong"><strong>Applications</strong></span> → <span class="strong strong"><strong>Application Types</strong></span> → <span class="strong strong"><strong>WebSphere Enterprise Applications</strong></span>.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>InstCll</strong></span>.
					</li><li class="listitem">
						Navigate to the <code class="literal">kie-server.war</code> file that you repackaged and select it to upload.
					</li><li class="listitem"><p class="simpara">
						Select <span class="strong strong"><strong>Fast Path</strong></span> and click <span class="strong strong"><strong>Next</strong></span>.
					</p><p class="simpara">
						The <span class="strong strong"><strong>Install New Application</strong></span> wizard opens.
					</p></li><li class="listitem">
						Change the <span class="strong strong"><strong>Application Name</strong></span> to <code class="literal">kie-server</code> and click <span class="strong strong"><strong>Next</strong></span>.
					</li><li class="listitem">
						Map the KIE Server modules to servers according to your specific requirements and click <span class="strong strong"><strong>Next</strong></span>.
					</li><li class="listitem">
						For <span class="strong strong"><strong>Bind Listeners for Message-Driven Beans</strong></span>, select <span class="strong strong"><strong>Activation Specification</strong></span> for both beans, enter <code class="literal">jms/activation/KIE.SERVER.REQUEST</code> in the <span class="strong strong"><strong>Target Resource JNDI Name</strong></span> field, and enter the <code class="literal">jms/cf/KIE.SERVER.REQUEST</code> JNDI name for the <code class="literal">KIE.SERVER.REQUEST</code> connection factory.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Map Virtual Hosts for Web Modules</strong></span> section, keep the default values and click <span class="strong strong"><strong>Next</strong></span>.
					</li><li class="listitem">
						Set the context root to <code class="literal">kie-server</code>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Metadata for Modules</strong></span> section, keep the default values and click <span class="strong strong"><strong>Next</strong></span>.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Finish</strong></span> to install KIE Server and click <span class="strong strong"><strong>Save</strong></span> to save the changes to the master configuration.
					</li></ol></div><section class="section" id="kie-server-was-goup-proc"><div class="titlepage"><div><div><h2 class="title">49.1. Creating the KIE Server group and role</h2></div></div></div><p>
					After KIE Server is installed, you must create the <code class="literal">kie-server</code> group and a user.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server is installed on the IBM WebSphere Application Server instance.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the WebSphere Integrated Solutions Console, click <span class="strong strong"><strong>Users and Groups</strong></span> → <span class="strong strong"><strong>Manage Groups</strong></span>.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Manage Groups</strong></span> screen, click <span class="strong strong"><strong>Create</strong></span>.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Create a Group</strong></span> screen, enter <code class="literal">kie-server</code> in the <span class="strong strong"><strong>Group name</strong></span> box, then click <span class="strong strong"><strong>Create</strong></span>.
						</li><li class="listitem">
							To create a user to add to the <code class="literal">kie-server</code> group, click <span class="strong strong"><strong>Users and Groups</strong></span> → <span class="strong strong"><strong>Manage Users</strong></span>.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Create a User</strong></span> screen, complete the required information.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Group Membership</strong></span>.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Group Membership</strong></span> screen, click <code class="literal">kie-server</code>, move it to <span class="strong strong"><strong>Mapped To</strong></span>, and click <span class="strong strong"><strong>Close</strong></span>.
						</li><li class="listitem">
							On the <span class="strong strong"><strong>Create a User</strong></span> screen click <span class="strong strong"><strong>Create</strong></span>.
						</li></ol></div></section><section class="section" id="kie-server-was-mapping-proc_kie-server-on-was"><div class="titlepage"><div><div><h2 class="title">49.2. Mapping the KIE Server group and role</h2></div></div></div><p>
					After KIE Server is installed, you must map the <code class="literal">kie-server</code> role to the <code class="literal">kie-server</code> group in the WebSphere Integrated Solutions Console to run KIE Server.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server is installed on the IBM WebSphere Application Server instance.
						</li><li class="listitem">
							IBM WebSphere Application Server has the <code class="literal">kie-server</code> group with at least one user.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the WebSphere Integrated Solutions Console, navigate to <span class="strong strong"><strong>Applications</strong></span> → <span class="strong strong"><strong>Application Types</strong></span> → <span class="strong strong"><strong>WebSphere Enterprise Applications</strong></span> and select the newly installed <code class="literal">kie-server</code> application.
						</li><li class="listitem">
							Under <span class="strong strong"><strong>Detail Properties</strong></span>, click <span class="strong strong"><strong>Security Role to User/Group Mapping</strong></span>.
						</li><li class="listitem">
							Select the <code class="literal">kie-server</code> role and click <span class="strong strong"><strong>Map Groups</strong></span> to search for the <code class="literal">kie-server</code> group.
						</li><li class="listitem"><p class="simpara">
							Move the <code class="literal">kie-server</code> group from the <span class="strong strong"><strong>Available</strong></span> list to the <span class="strong strong"><strong>Selected</strong></span> list and click <span class="strong strong"><strong>OK</strong></span>.
						</p><p class="simpara">
							This mapping gives users in the IBM WebSphere Application Server <code class="literal">kie-server</code> group access to KIE Server.
						</p></li><li class="listitem">
							Click <span class="strong strong"><strong>Save</strong></span> to complete the mapping.
						</li></ol></div></section><section class="section" id="was-ks-classloader-proc_kie-server-on-was"><div class="titlepage"><div><div><h2 class="title">49.3. Configuring class loading for KIE Server</h2></div></div></div><p>
					After KIE Server is installed, you must configure class loading to set parent classes to load last.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Navigate to <span class="strong strong"><strong>Applications</strong></span> → <span class="strong strong"><strong>Application Types</strong></span> → <span class="strong strong"><strong>WebSphere Enterprise Applications</strong></span> and click <code class="literal">kie-server</code>.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Class Loading and Update Detection</strong></span> under the <span class="strong strong"><strong>Detail Properties</strong></span> heading on the left.
						</li><li class="listitem">
							In the properties, change <span class="emphasis"><em>Class Loader Order</em></span> to <span class="strong strong"><strong>Classes loaded with local class loader first (parent last)</strong></span> and <span class="emphasis"><em>WAR Class Loader Policy</em></span> to <span class="strong strong"><strong>Single class loader for application</strong></span>.
						</li><li class="listitem">
							Save the changes to the master configuration.
						</li></ol></div></section><section class="section" id="kie-server-was-verify-proc"><div class="titlepage"><div><div><h2 class="title">49.4. Verifying the installation</h2></div></div></div><p>
					After you install KIE Server and define the KIE Server group mapping, verify that the server is running.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server is installed on the IBM WebSphere Application Server instance.
						</li><li class="listitem">
							You have set all required system properties for the headless Process Automation Manager controller.
						</li><li class="listitem">
							You have defined the KIE Server group mapping in IBM WebSphere Application Server.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						Navigate to the KIE Server URL <code class="literal">http://&lt;HOST&gt;:&lt;PORT&gt;/kie-server</code> to verify that the server is running, or send a <code class="literal">GET</code> request to <code class="literal">http://&lt;HOST&gt;:&lt;PORT&gt;/kie-server/services/rest/server</code> to check whether the KIE Server REST API responds.
					</p></div><p>
					<code class="literal">&lt;HOST&gt;</code> is the ID or name of the KIE Server host, for example, <code class="literal">localhost</code> or <code class="literal">192.7.8.9</code>.
				</p><p>
					<code class="literal">&lt;PORT&gt;</code> is the port of the KIE Server host, for example, <code class="literal">9060</code>.
				</p><p>
					If KIE Server is not running, stop and restart the IBM WebSphere Application Server instance and try again to access the KIE Server URL or API.
				</p></section></section><section class="chapter" id="controller-was-install-proc"><div class="titlepage"><div><div><h2 class="title">Chapter 50. Installing and running the headless Process Automation Manager controller with IBM WebSphere Application Server</h2></div></div></div><p>
				To use the KIE Server REST API or Java Client API to interact with KIE Server, install the headless Process Automation Manager controller with IBM WebSphere Application Server. The headless Process Automation Manager controller manages KIE Server configuration in a centralized way so that you can use the headless Process Automation Manager controller to create and maintain containers and perform other server-level tasks.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					For optimal results, install KIE Server and the headless Process Automation Manager controller on different servers in production environments. In development environments, you can install KIE Server and the headless Process Automation Manager controller on the same server.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The IBM WebSphere Application Server instance is configured as described in <a class="xref" href="#was-configure-proc" title="Chapter 48. Configuring IBM WebSphere Application Server for KIE Server">Chapter 48, <em>Configuring IBM WebSphere Application Server for KIE Server</em></a>.
					</li><li class="listitem">
						KIE Server is installed on the IBM WebSphere Application Server instance.
					</li><li class="listitem">
						You have sufficient user permissions to complete the installation.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="strong strong"><strong>Product:</strong></span> Process Automation Manager
							</li><li class="listitem">
								<span class="strong strong"><strong>Version:</strong></span> 7.10
							</li></ul></div></li><li class="listitem">
						Download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Add-Ons</strong></span>.
					</li><li class="listitem">
						Extract the downloaded <code class="literal">rhpam-7.10.0-add-ons.zip</code> file to a temporary directory.
					</li><li class="listitem">
						Extract the <code class="literal">rhpam-7.10.0-add-ons.zip</code> file to a temporary directory. In the following examples this directory is called <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span></code>.
					</li><li class="listitem">
						Extract the <code class="literal">rhpam-7.10.0-add-ons/rhpam-7.10.0-controller-ee7.zip</code> file.
					</li><li class="listitem"><p class="simpara">
						Repackage the <code class="literal">controller.war</code> directory:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Navigate to the <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span>/rhpam-7.10.0-add-ons/rhpam-7.10.0-controller-ee7/controller.war</code> directory.
							</li><li class="listitem">
								Select the contents of the <code class="literal"><span class="emphasis"><em>TEMP_DIR</em></span>/rhpam-7.10.0-add-ons/rhpam-7.10.0-controller-ee7/controller.war</code> directory and create the <code class="literal">controller.zip</code> file.
							</li><li class="listitem">
								Rename <code class="literal">controller.zip</code> to <code class="literal">controller.war</code>. This is the file that you will use to deploy the headless Process Automation Manager controller.
							</li><li class="listitem">
								Optional: Copy the new <code class="literal">controller.war</code> file to a location that is more convenient to deploy from.
							</li></ol></div></li><li class="listitem">
						In the WebSphere Integrated Solutions Console, navigate to <span class="strong strong"><strong>Applications</strong></span> → <span class="strong strong"><strong>Application Types</strong></span> → <span class="strong strong"><strong>WebSphere Enterprise Applications</strong></span>.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Install</strong></span>.
					</li><li class="listitem">
						Navigate to the <code class="literal">controller.war</code> file that you repackaged and select it to upload.
					</li><li class="listitem"><p class="simpara">
						Select <span class="strong strong"><strong>Fast Path</strong></span> and click <span class="strong strong"><strong>Next</strong></span>.
					</p><p class="simpara">
						The <span class="strong strong"><strong>Install New Application</strong></span> wizard opens.
					</p></li><li class="listitem">
						Change the <span class="strong strong"><strong>Application Name</strong></span> to <code class="literal">controller</code> and click <span class="strong strong"><strong>Next</strong></span>.
					</li><li class="listitem">
						Map the headless Process Automation Manager controller modules to servers according to your specific requirements and click <span class="strong strong"><strong>Next</strong></span>.
					</li><li class="listitem">
						For <span class="strong strong"><strong>Bind Listeners for Message-Driven Beans</strong></span>, select <span class="strong strong"><strong>Activation Specification</strong></span> for both beans, enter <code class="literal">jms/activation/KIE.SERVER.REQUEST</code> in the <span class="strong strong"><strong>Target Resource JNDI Name</strong></span> field, and enter the <code class="literal">jms/cf/KIE.SERVER.REQUEST</code> JNDI name for the <code class="literal">KIE.SERVER.REQUEST</code> connection factory.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Map Virtual Hosts for Web Modules</strong></span> section, keep the default values and click <span class="strong strong"><strong>Next</strong></span>.
					</li><li class="listitem">
						Set the context root to <code class="literal">controller</code>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Metadata for Modules</strong></span> section, keep the default values and click <span class="strong strong"><strong>Next</strong></span>.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Finish</strong></span> to install the headless Process Automation Manager controller and click <span class="strong strong"><strong>Save</strong></span> to save the changes to the master configuration.
					</li></ol></div><section class="section" id="was-controller-classloader-proc_kie-server-on-was"><div class="titlepage"><div><div><h2 class="title">50.1. Configuring class loading for the headless Process Automation Manager controller</h2></div></div></div><p>
					After the headless Process Automation Manager controller is installed, you must configure KIE Server class loading to set parent classes to load last.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Navigate to <span class="strong strong"><strong>Applications</strong></span> → <span class="strong strong"><strong>Application Types</strong></span> → <span class="strong strong"><strong>WebSphere Enterprise Applications</strong></span> and click <code class="literal">kie-server</code>.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Class Loading and Update Detection</strong></span> under the <span class="strong strong"><strong>Detail Properties</strong></span> heading on the left.
						</li><li class="listitem">
							In the properties, change <span class="emphasis"><em>Class Loader Order</em></span> to <span class="strong strong"><strong>Classes loaded with local class loader first (parent last)</strong></span> and <span class="emphasis"><em>WAR Class Loader Policy</em></span> to <span class="strong strong"><strong>Single class loader for application</strong></span>.
						</li><li class="listitem">
							Save the changes to the master configuration.
						</li></ol></div></section><section class="section" id="controller-wls-was-environment-set-proc_kie-server-on-was"><div class="titlepage"><div><div><h2 class="title">50.2. Setting system properties for the headless Process Automation Manager controller</h2></div></div></div><p>
					After you install the headless Process Automation Manager controller, set the system properties listed in this section on your application server or servers to enable proper interaction with the headless Process Automation Manager controller.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						For optimal results, install KIE Server and the headless Process Automation Manager controller on different servers in production environments. In development environments, you can install KIE Server and the headless Process Automation Manager controller on the same server. In either case, be sure to make these property changes on all application servers where the headless Process Automation Manager controller is installed.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server and the headless Process Automation Manager controller are installed on the application server instance.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Specify the following JVM property values on the application server instance where the headless Process Automation Manager controller is installed:
						</p><div class="table" id="idm140016267475792"><p class="title"><strong>Table 50.1. Required properties for the headless Process Automation Manager controller</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"/><col style="width: 60%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016267470896" scope="col">Name</th><th align="left" valign="top" id="idm140016267469808" scope="col">Requirement</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016267470896">
										<p>
											<code class="literal">org.kie.server.user</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267469808">
										<p>
											A user with the <code class="literal">kie-server</code> role
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016267470896">
										<p>
											<code class="literal">org.kie.server.pwd</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267469808">
										<p>
											The password for the user specified in the <code class="literal">org.kie.server.user</code> property
										</p>
										</td></tr></tbody></table></div></div></li><li class="listitem"><p class="simpara">
							Specify the following JVM property values on the application server instance where KIE Server is installed:
						</p><div class="table" id="idm140016267457328"><p class="title"><strong>Table 50.2. Required properties for KIE Server when headless Process Automation Manager controller is installed</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"/><col style="width: 60%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016267452416" scope="col">Name</th><th align="left" valign="top" id="idm140016267451328" scope="col">Requirement</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016267452416">
										<p>
											<code class="literal">org.kie.server.controller.user</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267451328">
										<p>
											A user with the <code class="literal">kie-server</code> role
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016267452416">
										<p>
											<code class="literal">org.kie.server.controller.pwd</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267451328">
										<p>
											The password for the user specified for the <code class="literal">org.kie.server.controller.user</code> property
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016267452416">
										<p>
											<code class="literal">org.kie.server.id</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267451328">
										<p>
											The ID or name of the KIE Server installation, such as <code class="literal">rhdm700-decision-server-1</code>
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016267452416">
										<p>
											<code class="literal">org.kie.server.location</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267451328">
										<p>
											The URL of the KIE Server, <code class="literal">http://&lt;HOST&gt;:&lt;PORT&gt;/kie-server/services/rest/server</code>
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016267452416">
										<p>
											<code class="literal">org.kie.server.controller</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016267451328">
										<p>
											The URL of the headless Process Automation Manager controller, <code class="literal">http://&lt;HOST&gt;:&lt;PORT&gt;/controller/rest/controller</code>
										</p>
										</td></tr></tbody></table></div></div><p class="simpara">
							<code class="literal">&lt;HOST&gt;</code> is the ID or name of the KIE Server host, for example, <code class="literal">localhost</code> or <code class="literal">192.7.8.9</code>.
						</p><p class="simpara">
							<code class="literal">&lt;PORT&gt;</code> is the port of the KIE Server host, for example, <code class="literal">7001</code>.
						</p></li></ol></div></section><section class="section" id="controller-was-mapping-proc_kie-server-on-was"><div class="titlepage"><div><div><h2 class="title">50.3. Mapping the headless Process Automation Manager controller group and role</h2></div></div></div><p>
					After the headless Process Automation Manager controller is installed, in the WebSphere Integrated Solutions Console, you must create the <code class="literal">kie-server</code> group and then map the <code class="literal">kie-server</code> role to the <code class="literal">kie-server</code> group.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The headless Process Automation Manager controller is installed on the IBM WebSphere Application Server instance.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the WebSphere Integrated Solutions Console, create the <code class="literal">kie-server</code> group and a user for that group, as described in <a class="link" href="#kie-server-was-goup-proc" title="49.1. Creating the KIE Server group and role"><span class="emphasis"><em>Creating the KIE Server group and role</em></span></a>.
						</li><li class="listitem">
							Navigate to <span class="strong strong"><strong>Applications</strong></span> → <span class="strong strong"><strong>Application Types</strong></span> → <span class="strong strong"><strong>WebSphere Enterprise Applications</strong></span> and select the newly installed headless Process Automation Manager controller.
						</li><li class="listitem">
							Under <span class="strong strong"><strong>Detail Properties</strong></span>, click <span class="strong strong"><strong>Security Role to User/Group Mapping</strong></span>.
						</li><li class="listitem">
							Select the <code class="literal">kie-server</code> role and click <span class="strong strong"><strong>Map Groups</strong></span> to search for the <code class="literal">kie-server</code> group.
						</li><li class="listitem"><p class="simpara">
							Move the <code class="literal">kie-server</code> group from the <span class="strong strong"><strong>Available</strong></span> list to the <span class="strong strong"><strong>Selected</strong></span> list and click <span class="strong strong"><strong>OK</strong></span>.
						</p><p class="simpara">
							This mapping gives the previously created administrator user access to Process Automation Manager.
						</p></li><li class="listitem">
							Click <span class="strong strong"><strong>Save</strong></span> to complete the mapping.
						</li></ol></div></section><section class="section" id="controller-wls-was-verify-proc_kie-server-on-was"><div class="titlepage"><div><div><h2 class="title">50.4. Verifying the installation</h2></div></div></div><p>
					After you install the headless Process Automation Manager controller and define the required system properties and role requirements on the application server, verify that the headless Process Automation Manager controller works correctly.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server and the headless Process Automation Manager controller are installed on the application server instance.
						</li><li class="listitem">
							You have set all required system properties and role requirements for the headless Process Automation Manager controller on the application server.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						In your command terminal, enter the following command to verify that the headless Process Automation Manager controller is working:
					</p></div><pre class="screen">curl -X GET "http://&lt;HOST&gt;:&lt;PORT&gt;/controller/rest/controller/management/servers" -H  "accept: application/xml" -u '&lt;CONTROLLER&gt;:&lt;CONTROLLER_PWD&gt;'</pre><p>
					<code class="literal">&lt;HOST&gt;</code> is the ID or name of the KIE Server host, for example, <code class="literal">localhost</code> or <code class="literal">192.7.8.9</code>.
				</p><p>
					<code class="literal">&lt;PORT&gt;</code> is the port of the KIE Server host, for example, <code class="literal">7001</code>.
				</p><p>
					<code class="literal">&lt;CONTROLLER&gt;</code> and <code class="literal">&lt;CONTROLLER_PWD&gt;</code> are the user credentials that you created in this section.
				</p><p>
					The command should return information about the KIE Server instance.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Alternatively, you can use the KIE Server Java API Client to access the headless Process Automation Manager controller.
					</p></div></div><p>
					If the headless Process Automation Manager controller is not running, stop and restart the application server instance and try again to access the headless Process Automation Manager controller URL or API.
				</p></section></section><section class="chapter" id="was-configure-embedded-engine-proc"><div class="titlepage"><div><div><h2 class="title">Chapter 51. Configuring an embedded process engine and decision engine in IBM WebSphere Application Server</h2></div></div></div><p>
				An embedded engine is a light-weight workflow and rule engine that enables you to execute your decisions and business processes. An embedded engine can be part of a Red Hat Process Automation Manager application or it can be deployed as a service through OpenShift, Kubernetes, and Docker. You can embed an engine in a Red Hat Process Automation Manager application through the API or as a set of contexts and dependency injection (CDI) services.
			</p><p>
				If you intend to use an embedded engine with your Red Hat Process Automation Manager application, you must add Maven dependencies to your project by adding the Red Hat Business Automation bill of materials (BOM) files to the project’s <code class="literal">pom.xml</code> file. The Red Hat Business Automation BOM applies to both Red Hat Decision Manager and Red Hat Process Automation Manager. For more information about the Red Hat Business Automation BOM, see <a class="link" href="https://access.redhat.com/solutions/3405361">What is the mapping between Red Hat Process Automation Manager and the Maven library version?</a>.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Declare the Red Hat Business Automation BOM in the <code class="literal">pom.xml</code> file:
					</p><div class="informalexample"><pre class="programlisting language-xml">&lt;dependencyManagement&gt;
 &lt;dependencies&gt;
  &lt;dependency&gt;
   &lt;groupId&gt;com.redhat.ba&lt;/groupId&gt;
   &lt;artifactId&gt;ba-platform-bom&lt;/artifactId&gt;
   &lt;version&gt;7.10.0.redhat-00002&lt;/version&gt;
   &lt;type&gt;pom&lt;/type&gt;
   &lt;scope&gt;import&lt;/scope&gt;
  &lt;/dependency&gt;
 &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;
&lt;dependencies&gt;
&lt;!-- Your dependencies --&gt;
&lt;/dependencies&gt;</pre></div></li><li class="listitem"><p class="simpara">
						Declare dependencies required for your project in the <code class="literal">&lt;dependencies&gt;</code> tag. After you import the product BOM into your project, the versions of the user-facing product dependencies are defined so you do not need to specify the <code class="literal">&lt;version&gt;</code> sub-element of these <code class="literal">&lt;dependency&gt;</code> elements. However, you must use the <code class="literal">&lt;dependency&gt;</code> element to declare dependencies which you want to use in your project.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								For a basic Red Hat Process Automation Manager project, declare the following dependencies, depending on the features that you want to use:
							</p><div class="formalpara"><p class="title"><strong>Embedded process engine dependencies</strong></p><p>
									
<pre class="programlisting language-xml">&lt;!-- Public KIE API --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-api&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Core dependencies for process engine --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-flow&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
 &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-flow-builder&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-bpmn2&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-runtime-manager&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-persistence-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-query-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-audit&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-kie-services&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Dependency needed for default WorkItemHandler implementations. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-workitems-core&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Logging dependency. You can use any logging framework compatible with slf4j. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
  &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
  &lt;version&gt;${logback.version}&lt;/version&gt;
&lt;/dependency&gt;</pre>
								</p></div></li><li class="listitem"><p class="simpara">
								For a Red Hat Process Automation Manager project that uses CDI, you typically declare the following dependencies:
							</p><div class="formalpara"><p class="title"><strong>CDI-enabled process engine dependencies</strong></p><p>
									
<pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-api&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-kie-services&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-services-cdi&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Embedded decision engine dependencies</strong></p><p>
									
<pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Dependency for persistence support. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-persistence-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Dependencies for decision tables, templates, and scorecards.
For other assets, declare org.drools:business-central-models-* dependencies. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-decisiontables&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-templates&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-scorecards&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Dependency for loading KJARs from a Maven repository using KieScanner. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-ci&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
								</p></div></li><li class="listitem"><p class="simpara">
								To use the KIE Server, declare the following dependencies:
							</p><div class="formalpara"><p class="title"><strong>Client application KIE Server dependencies</strong></p><p>
									
<pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie.server&lt;/groupId&gt;
  &lt;artifactId&gt;kie-server-client&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
								</p></div></li><li class="listitem"><p class="simpara">
								To create a remote client for Red Hat Process Automation Manager, declare the following dependency:
							</p><div class="formalpara"><p class="title"><strong>Client dependency</strong></p><p>
									
<pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.uberfire&lt;/groupId&gt;
  &lt;artifactId&gt;uberfire-rest-client&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
								</p></div></li><li class="listitem"><p class="simpara">
								When creating a JAR file that includes assets, such as rules and process definitions, specify the packaging type for your Maven project as <code class="literal">kjar</code> and use <code class="literal">org.kie:kie-maven-plugin</code> to process the <code class="literal">kjar</code> packaging type located under the <code class="literal">&lt;project&gt;</code> element. In the following example, <code class="literal">${kie.version}</code> is the Maven library version listed in <a class="link" href="https://access.redhat.com/solutions/3405361">What is the mapping between Red Hat Process Automation Manager and the Maven library version?</a>:
							</p><pre class="programlisting language-xml">&lt;packaging&gt;kjar&lt;/packaging&gt;
&lt;build&gt;
 &lt;plugins&gt;
  &lt;plugin&gt;
   &lt;groupId&gt;org.kie&lt;/groupId&gt;
   &lt;artifactId&gt;kie-maven-plugin&lt;/artifactId&gt;
   &lt;version&gt;${kie.version}&lt;/version&gt;
   &lt;extensions&gt;true&lt;/extensions&gt;
  &lt;/plugin&gt;
 &lt;/plugins&gt;
&lt;/build&gt;</pre></li></ul></div></li><li class="listitem"><p class="simpara">
						If you use a process engine or decision engine with persistence support in your project, you must declare the following hibernate dependencies in the <code class="literal">dependencyManagement</code> section of your <code class="literal">pom.xml</code> file by copying the <code class="literal">version.org.hibernate-4ee7</code> property from the Red Hat Business Automation BOM file:
					</p><div class="formalpara"><p class="title"><strong>Hibernate dependencies</strong></p><p>
							
<pre class="programlisting language-xml">&lt;!-- hibernate dependencies --&gt;
&lt;dependencyManagement&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;
    &lt;version&gt;${version.org.hibernate-4ee7}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;
    &lt;version&gt;${version.org.hibernate-4ee7}&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;</pre>
						</p></div></li></ol></div></section><section class="chapter" id="securing-passwords-was-proc_kie-server-on-was"><div class="titlepage"><div><div><h2 class="title">Chapter 52. Securing passwords with a keystore</h2></div></div></div><p>
				You can use a keystore to encrypt passwords that are used for communication between Business Central and KIE Server. You should encrypt both controller and KIE Server passwords. If Business Central and KIE Server are deployed to different application servers, then both application servers should use the keystore.
			</p><p>
				Use Java Cryptography Extension KeyStore (JCEKS) for your keystore because it supports symmetric keys.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If KIE Server is not configured with JCEKS, KIE Server passwords are stored in system properties in plain text form.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						KIE Server is installed in IBM WebSphere Application Server.
					</li><li class="listitem">
						A KIE Server user with the <code class="literal">kie-server</code> role has been created, as described in <a class="xref" href="#kie-server-was-goup-proc" title="49.1. Creating the KIE Server group and role">Section 49.1, “Creating the KIE Server group and role”</a>.
					</li><li class="listitem">
						Java 8 or higher is installed.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Create a JCEKS keystore.
					</li><li class="listitem">
						When prompted, enter the password for the KIE Server user that you created.
					</li><li class="listitem"><p class="simpara">
						Set the system properties listed in the following table:
					</p><div class="table" id="idm140016267328864"><p class="title"><strong>Table 52.1. System properties used to load a KIE Server JCEKS</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 36%; " class="col_1"/><col style="width: 27%; " class="col_2"/><col style="width: 36%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016267323072" scope="col">System property</th><th align="left" valign="top" id="idm140016267321984" scope="col">Placeholder</th><th align="left" valign="top" id="idm140016267208016" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016267323072">
									<p>
										<code class="literal">kie.keystore.keyStoreURL</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016267321984">
									<p>
										<code class="literal">&lt;KEYSTORE_URL&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016267208016">
									<p>
										URL for the JCEKS that you want to use, for example <code class="literal">file:///home/kie/keystores/keystore.jceks</code>
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016267323072">
									<p>
										<code class="literal">kie.keystore.keyStorePwd</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016267321984">
									<p>
										<code class="literal">&lt;KEYSTORE_PWD&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016267208016">
									<p>
										Password for the JCEKS
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016267323072">
									<p>
										<code class="literal">kie.keystore.key.server.alias</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016267321984">
									<p>
										<code class="literal">&lt;KEY_SERVER_ALIAS&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016267208016">
									<p>
										Alias of the key for REST services where the password is stored
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016267323072">
									<p>
										<code class="literal">kie.keystore.key.server.pwd</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016267321984">
									<p>
										<code class="literal">&lt;KEY_SERVER_PWD&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016267208016">
									<p>
										Password of the alias for REST services with the stored password
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016267323072">
									<p>
										<code class="literal">kie.keystore.key.ctrl.alias</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016267321984">
									<p>
										<code class="literal">&lt;KEY_CONTROL_ALIAS&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016267208016">
									<p>
										Alias of the key for default REST Process Automation Controller where the password is stored
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016267323072">
									<p>
										<code class="literal">kie.keystore.key.ctrl.pwd</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016267321984">
									<p>
										<code class="literal">&lt;KEY_CONTROL_PWD&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016267208016">
									<p>
										Password of the alias for default REST Process Automation Controller with the stored password
									</p>
									</td></tr></tbody></table></div></div></li><li class="listitem">
						Start KIE Server to verify the configuration.
					</li></ol></div></section><section class="chapter" id="next_steps_2"><div class="titlepage"><div><div><h2 class="title">Chapter 53. Next steps</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/getting_started_with_red_hat_process_automation_manager#assembly-getting-started-decision-services"><span class="emphasis"><em>Getting started with decision services</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/developing_decision_services_in_red_hat_process_automation_manager#assembly-guided-decision-tables"><span class="emphasis"><em>Designing a decision service using guided decision tables</em></span></a>
					</li></ul></div></section></div><div class="part" id="assembly-installing-kie-server-on-wls"><div class="titlepage"><div><div><h1 class="title">Part VI. Installing and configuring KIE Server on Oracle WebLogic Server</h1></div></div></div><div class="partintro" id="idm140016299628096"><div/><p>
				As a system administrator, you can configure your Oracle WebLogic Server for Red Hat KIE Server and install KIE Server on that Oracle server instance.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						An Oracle WebLogic Server instance version 12.2.1.3.0 or later is installed. For complete installation instructions, see the <a class="link" href="http://www.oracle.com/technetwork/middleware/weblogic/documentation/index.html">Oracle WebLogic Server product page</a>.
					</li><li class="listitem">
						You have access to the Oracle WebLogic Server Administration Console, usually at <code class="literal">http://&lt;HOST&gt;:7001/console</code>.
					</li></ul></div><div class="toc"><p><strong>Table of Contents</strong></p><ul class="toc"><li><span class="chapter"><a href="#kie-server-con_kie-server-on-wls">54. KIE Server</a></span></li><li><span class="chapter"><a href="#wls-con">55. Oracle WebLogic Server</a></span></li><li><span class="chapter"><a href="#wls-install-start-proc">56. Installing and running Oracle WebLogic Server</a></span></li><li><span class="chapter"><a href="#wls-configure-proc">57. Configuring Oracle WebLogic Server for KIE Server</a></span><ul><li><span class="section"><a href="#wls-users-set-proc">57.1. Configuring the KIE Server group and users</a></span></li><li><span class="section"><a href="#wls-data-source-create-proc">57.2. Configuring JDBC data sources in Oracle WebLogic Server</a></span></li><li><span class="section"><a href="#wls-was-jms-configure-con_kie-server-on-wls">57.3. Configuring Java Message Service (JMS)</a></span><ul><li><span class="section"><a href="#wls-jms-create-proc">57.3.1. Create a JMS server</a></span></li><li><span class="section"><a href="#wls-jms-create-module-proc">57.3.2. Create a JMS module</a></span></li><li><span class="section"><a href="#wls-jms-factory-create-proc">57.3.3. Create JMS connection factories</a></span></li><li><span class="section"><a href="#wls-jms-queues-create-proc">57.3.4. Create JMS queues</a></span></li></ul></li><li><span class="section"><a href="#kie-server-wls-environment-set-proc">57.4. Setting system properties in Oracle WebLogic Server</a></span></li><li><span class="section"><a href="#wls-stop-start-proc_kie-server-on-wls">57.5. Stopping and restarting Oracle WebLogic Server</a></span></li></ul></li><li><span class="chapter"><a href="#kie-server-wls-install-proc">58. Installing KIE Server with Oracle WebLogic Server</a></span><ul><li><span class="section"><a href="#kie-server-wls-verify-proc">58.1. Verifying the KIE Server installation on Oracle WebLogic Server</a></span></li></ul></li><li><span class="chapter"><a href="#controller-wls-install-proc">59. Installing and running the headless Process Automation Manager controller with Oracle WebLogic Server</a></span><ul><li><span class="section"><a href="#controller-wls-was-environment-set-proc_kie-server-on-wls">59.1. Setting system properties for the headless Process Automation Manager controller</a></span></li><li><span class="section"><a href="#controller-wls-was-verify-proc_kie-server-on-wls">59.2. Verifying the installation</a></span></li></ul></li><li><span class="chapter"><a href="#wls-configure-embedded-engine-proc">60. Configuring an embedded process engine and decision engine in Oracle WebLogic Server</a></span></li><li><span class="chapter"><a href="#securing-passwords-wls-proc_kie-server-on-wls">61. Securing passwords with a keystore</a></span></li><li><span class="chapter"><a href="#next_steps_3">62. Next steps</a></span></li></ul></div></div><section class="chapter" id="kie-server-con_kie-server-on-wls"><div class="titlepage"><div><div><h2 class="title">Chapter 54. KIE Server</h2></div></div></div><p>
				KIE Server is the server where the rules and other artifacts for Red Hat Process Automation Manager are stored and run. KIE Server is a standalone built-in component that can be used to instantiate and execute rules through interfaces available for REST, Java Message Service (JMS), or Java client-side applications, as well as to manage processes, jobs, and Red Hat Business Optimizer functionality through solvers.
			</p><p>
				Created as a web deployable WAR file, KIE Server can be deployed on any web container. The current version of the KIE Server is included with default extensions for both Red Hat Decision Manager and Red Hat Process Automation Manager.
			</p><p>
				KIE Server has a low footprint with minimal memory consumption and therefore can be deployed easily on a cloud instance. Each instance of this server can open and instantiate multiple containers, which enables you to execute multiple rule services in parallel.
			</p><p>
				KIE Server can be integrated with other application servers, such as Oracle WebLogic Server or IBM WebSphere Application Server, to streamline Red Hat Process Automation Manager application management.
			</p></section><section class="chapter" id="wls-con"><div class="titlepage"><div><div><h2 class="title">Chapter 55. Oracle WebLogic Server</h2></div></div></div><p>
				Oracle WebLogic Server is a Java EE application server that provides a standard set of APIs for creating distributed Java applications that can access a wide variety of services, such as databases, messaging services, and connections to external enterprise systems. User clients access these applications using web browser clients or Java clients.
			</p></section><section class="chapter" id="wls-install-start-proc"><div class="titlepage"><div><div><h2 class="title">Chapter 56. Installing and running Oracle WebLogic Server</h2></div></div></div><p>
				Oracle WebLogic Server must be installed and running for you to apply many of the configurations that accommodate KIE Server. This section describes how to install and start Oracle WebLogic Server in a standalone Oracle WebLogic Server domain.
			</p><p>
				For the most up-to-date and detailed installation instructions, see the <a class="link" href="http://www.oracle.com/technetwork/middleware/weblogic/documentation/index.html">Oracle WebLogic Server product page</a>.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If you are already running an instance of Oracle WebLogic Server that uses the same listener port as the one to be used by the server you are starting, you must stop the first server before starting the second server.
				</p></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Download Oracle WebLogic Server 12.2.1.3.0 or later from the Oracle WebLogic Server <a class="link" href="http://www.oracle.com/technetwork/middleware/weblogic/downloads/index.html">Downloads page</a>.
					</li><li class="listitem">
						Sign in to the target system and verify that a certified JDK already exists on your system. The installer requires a certified JDK. For system requirements, see <a class="link" href="http://www.oracle.com/technetwork/middleware/ias/downloads/fusion-requirements-100147.html">Oracle Fusion Middleware Systems Requirements and Specifications</a>. To download the JDK, see the 'About JDK Requirements for an Oracle Fusion Middleware Installation' section in the <a class="link" href="https://docs.oracle.com/en/middleware/lifecycle/12.2.1.3/asins/preparing-oracle-fusion-middleware-installation.html#GUID-A3738BBA-5FD1-425B-91EB-7CB22187C700">Planning an Installation of Oracle Fusion Middleware</a>.
					</li><li class="listitem">
						Go to the directory where you downloaded the installation program.
					</li><li class="listitem"><p class="simpara">
						Launch the installation program by running <code class="literal">java -jar</code> from the JDK directory on your system. See the following examples:
					</p><p class="simpara">
						On UNIX-based operating systems:
					</p><pre class="screen">/home/Oracle/jdk/jdk1.8.0_131/bin/java -jar fmw_12.2.1.3.0_wls_generic.jar</pre><p class="simpara">
						On Windows operating systems:
					</p><pre class="screen">C:\Program Files\Java\jdk1.8.0_131\bin\java -jar fmw_12.2.1.3.0_wls_generic.jar</pre><p class="simpara">
						Be sure to replace the JDK location in these examples with the actual JDK location on your system.
					</p></li><li class="listitem">
						Follow the installation wizard prompts to complete the installation.
					</li><li class="listitem"><p class="simpara">
						After the installation is complete, navigate to the domain directory in the command terminal, <code class="literal"><span class="emphasis"><em>WLS_HOME</em></span>/user_projects/&lt;DOMAIN_NAME&gt;</code>. For example:
					</p><pre class="screen">WLS\user_projects\mydomain</pre></li><li class="listitem"><p class="simpara">
						Enter one of the following commands to start Oracle WebLogic Server:
					</p><p class="simpara">
						On UNIX-based operating systems:
					</p><pre class="screen">startWebLogic.sh</pre><p class="simpara">
						On Windows operating systems:
					</p><pre class="screen">startWebLogic.cmd</pre><p class="simpara">
						The startup script displays a series of messages, and finally displays a message similar to the following:
					</p><pre class="screen">&lt;Dec 8, 2017 3:50:42 PM PDT&gt; &lt;Notice&gt; &lt;WebLogicServer&gt; &lt;000360&gt; &lt;Server started in RUNNING mode&gt;</pre></li><li class="listitem"><p class="simpara">
						Open the following URL in a web browser:
					</p><pre class="screen">http://&lt;HOST&gt;:&lt;PORT&gt;/console</pre><p class="simpara">
						<code class="literal">&lt;HOST&gt;</code> is the system name or IP address of the host server.
					</p><p class="simpara">
						<code class="literal">&lt;PORT&gt;</code> is the address of the port on which the host server is listening for requests (7001 by default).
					</p><p class="simpara">
						For example, to start the Administration Console for a local instance of Oracle WebLogic Server running on your system, enter the following URL in a web browser:
					</p><pre class="screen">http://localhost:7001/console/</pre><p class="simpara">
						If you started the Administration Console using secure socket layer (SSL), you must add <code class="literal">s</code> after <code class="literal">http</code>, as follows: <code class="literal">https://&lt;HOST&gt;:&lt;PORT&gt;/console</code>
					</p></li><li class="listitem">
						When the login page of the WebLogic Administration Console appears, enter your administrative credentials.
					</li></ol></div></section><section class="chapter" id="wls-configure-proc"><div class="titlepage"><div><div><h2 class="title">Chapter 57. Configuring Oracle WebLogic Server for KIE Server</h2></div></div></div><p>
				Before you deploy KIE Server with Oracle WebLogic Server, you must configure system properties, security settings, JMS requirements, and other properties on Oracle WebLogic Server. These configurations promote an optimal integration with KIE Server.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Oracle WebLogic Server is installed and running.
					</li><li class="listitem">
						You are logged in to the WebLogic Administration Console.
					</li></ul></div><section class="section" id="wls-users-set-proc"><div class="titlepage"><div><div><h2 class="title">57.1. Configuring the KIE Server group and users</h2></div></div></div><p>
					You must assign users to a <code class="literal">kie-server</code> group in the WebLogic Administration Console to enable the container-managed authentication mechanisms in Oracle WebLogic Server.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the WebLogic Administration Console, click <span class="strong strong"><strong>Security Realms</strong></span>.
						</li><li class="listitem">
							Choose your desired security realm or click <span class="strong strong"><strong>New</strong></span> to create a new security realm.
						</li><li class="listitem">
							Navigate to <span class="strong strong"><strong>Users and Groups</strong></span> → <span class="strong strong"><strong>Groups</strong></span> → <span class="strong strong"><strong>New</strong></span> and create the <code class="literal">kie-server</code> group.
						</li><li class="listitem">
							Navigate to <span class="strong strong"><strong>Users</strong></span> → <span class="strong strong"><strong>New</strong></span> and create a new user.
						</li><li class="listitem"><p class="simpara">
							Enter a user, such as <code class="literal">server-user</code>, and a password for this new user and click <span class="strong strong"><strong>OK</strong></span>.
						</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Make sure that the selected user name does not conflict with any known title of a role or a group. For example, if there is a role called <code class="literal">kie-server</code>, then do not create a user with the user name <code class="literal">kie-server</code>.
							</p></div></div></li><li class="listitem">
							Click the newly created user, then return to the <span class="strong strong"><strong>Groups</strong></span> tab.
						</li><li class="listitem">
							Use the selection tool to move the <code class="literal">kie-server</code> group from the <span class="strong strong"><strong>Available</strong></span> field to the <span class="strong strong"><strong>Chosen</strong></span> field, and click <span class="strong strong"><strong>Save</strong></span>.
						</li></ol></div></section><section class="section" id="wls-data-source-create-proc"><div class="titlepage"><div><div><h2 class="title">57.2. Configuring JDBC data sources in Oracle WebLogic Server</h2></div></div></div><p>
					A data source is an object that enables a Java Database Connectivity (JDBC) client, such as an application server, to establish a connection with a database. Applications look up the data source on the Java Naming and Directory Interface (JNDI) tree or in the local application context and request a database connection to retrieve data. You must configure data sources for Oracle WebLogic Server to ensure proper data exchange between the servers and the designated database.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The JDBC drivers that you want to use to create database connections are installed on all servers on which you want to deploy the data source. Some JDBC drivers are installed with Oracle WebLogic Server, such as WebLogic-branded Data Direct JDBC drivers for DB2, Informix, MS SQL Server, and Sybase. For more information about JDBC drivers, see <a class="link" href="https://docs.oracle.com/middleware/12213/wls/JDBCA/third_party_drivers.htm#JDBCA231">Using JDBC Drivers with WebLogic Server</a> in the Oracle Help Center.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Product:</strong></span> Process Automation Manager
								</li><li class="listitem">
									<span class="strong strong"><strong>Version:</strong></span> 7.10
								</li></ul></div></li><li class="listitem">
							Download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Add-Ons</strong></span>.
						</li><li class="listitem"><p class="simpara">
							Complete the following steps to prepare your database:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Extract <code class="literal">rhpam-7.10.0-add-ons.zip</code> in a temporary directory, for example <code class="literal">TEMP_DIR</code>.
								</li><li class="listitem">
									Extract <code class="literal">TEMP_DIR/rhpam-7.10.0-migration-tool.zip</code>.
								</li><li class="listitem">
									Change your current directory to the <code class="literal">TEMP_DIR/rhpam-7.10.0-migration-tool/ddl-scripts</code> directory. This directory contains DDL scripts for several database types.
								</li><li class="listitem"><p class="simpara">
									Import the DDL script for your database type into the database that you want to use, for example:
								</p><pre class="programlisting language-shell">psql jbpm &lt; /ddl-scripts/postgresql/postgresql-jbpm-schema.sql</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										If you are using PostgreSQL or Oracle in conjunction with Spring Boot, you must import the respective Spring Boot DDL script, for example <code class="literal">/ddl-scripts/oracle/oracle-springboot-jbpm-schema.sql</code> or <code class="literal">/ddl-scripts/postgresql/postgresql-springboot-jbpm-schema.sql</code>.
									</p></div></div></li></ol></div></li><li class="listitem">
							In the WebLogic Administration Console, navigate to <span class="strong strong"><strong>Change Center</strong></span> → <span class="strong strong"><strong>Lock &amp; Edit</strong></span>.
						</li><li class="listitem">
							Under <span class="strong strong"><strong>Domain Structure</strong></span>, click <span class="strong strong"><strong>Services</strong></span> → <span class="strong strong"><strong>Data Sources</strong></span>.
						</li><li class="listitem">
							On the <span class="strong strong"><strong>Summary of Data Sources</strong></span> page, click <span class="strong strong"><strong>New</strong></span> → <span class="strong strong"><strong>Generic Data Source</strong></span>.
						</li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>JDBC Data Sources Properties</strong></span> page, enter or select the following information:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Name:</strong></span> Enter a name for this JDBC data source. This name is used in the configuration file (<code class="literal">config.xml</code>) and throughout the Administration Console whenever referring to this data source.
								</li><li class="listitem">
									<span class="strong strong"><strong>JNDI Name:</strong></span> Enter the JNDI path to where this JDBC data source will be bound. Applications look up the data source on the JNDI tree by this name when reserving a connection.
								</li><li class="listitem">
									<span class="strong strong"><strong>Database Type:</strong></span> Select the DBMS of the database that you want to connect to. If your DBMS is not listed, select <span class="strong strong"><strong>Other</strong></span>.
								</li></ul></div></li><li class="listitem">
							Click <span class="strong strong"><strong>Next</strong></span> to continue.
						</li><li class="listitem">
							Select the <span class="strong strong"><strong>Database Driver</strong></span> that you want to use to connect to the database. The list includes common JDBC drivers for the selected DBMS and any other JDBC drivers that have been installed previously.
						</li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Transaction Options</strong></span> page, leave the <span class="strong strong"><strong>Supports Global Transactions</strong></span> option selected and choose from the available transaction options. You can also clear this check box to disable (ignore) global transactions in this data source. In most cases, you should leave the option selected for optimal data efficiency.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Two-Phase Commit:</strong></span> Select this option to enable standard XA processing. This option is only available when you select an XA JDBC driver to make database connections.
								</li><li class="listitem">
									<span class="strong strong"><strong>Logging Last Resource:</strong></span> Select this option to enable a non-XA JDBC connection to participate in global transactions using the Logging Last Resource (LLR) transaction optimization. This option is recommended in place of Emulate Two-Phase Commit. This option is only available when you select a non-XA JDBC driver to make database connections.
								</li><li class="listitem">
									<span class="strong strong"><strong>Emulate Two-Phase Commit:</strong></span> Select this option to enable a non-XA JDBC connection to emulate participation in distributed transactions using JTA. Select this option only if your application can tolerate heuristic conditions. This option is only available when you select a non-XA JDBC driver to make database connections.
								</li><li class="listitem">
									<span class="strong strong"><strong>One-Phase Commit:</strong></span> Select this option to enable the non-XA connection to participate in a global transaction as the only transaction participant. This option is only available when you select a non-XA JDBC driver to make database connections.
								</li></ul></div></li><li class="listitem">
							Click <span class="strong strong"><strong>Next</strong></span> to continue.
						</li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Connection Properties</strong></span> page, enter values for the following properties:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Service Name:</strong></span> Specify the service name of the database to which you want to connect. This must be the same for each data source if more than one is provided. This field is available only if you selected one of the available service-instance connections drivers for Oracle Real Application Clusters (RAC).
								</li><li class="listitem">
									<span class="strong strong"><strong>Database Name:</strong></span> Enter the name of the database that you want to connect to. Exact database name requirements vary by JDBC driver and by DBMS.
								</li><li class="listitem">
									<span class="strong strong"><strong>Host Name:</strong></span> Enter the DNS name or IP address of the server that hosts the database. If you are creating an Oracle GridLink service-instance connection, this must be the same for each data source if more than one is provided.
								</li><li class="listitem">
									<span class="strong strong"><strong>Port:</strong></span> Enter the port on which the database server listens for connection requests.
								</li><li class="listitem">
									<span class="strong strong"><strong>Database User Name:</strong></span> Enter the database user account name that you want to use for each connection in the data source.
								</li><li class="listitem">
									<span class="strong strong"><strong>Password/Confirm Password:</strong></span> Enter the password for the database user account.
								</li><li class="listitem">
									<span class="strong strong"><strong>oracle.jdbc.DRCPConnectionClass:</strong></span> Optionally, enter the Database Resident Connection Pooling (DCRP) connection class if required by your environment.
								</li></ul></div></li><li class="listitem">
							Click <span class="strong strong"><strong>Next</strong></span> to continue.
						</li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Test Database Connection</strong></span> page, review the connection parameters and click <span class="strong strong"><strong>Test Configuration</strong></span>.
						</p><p class="simpara">
							Oracle WebLogic Server attempts to create a connection from the Administration Server to the database. Results from the connection test are displayed at the top of the page. If the test is unsuccessful, correct any configuration errors and retry the test.
						</p></li><li class="listitem">
							Click <span class="strong strong"><strong>Next</strong></span> to continue or to skip this step if the JDBC driver you selected is not installed on the Administration Server.
						</li><li class="listitem">
							On the <span class="strong strong"><strong>Select Targets</strong></span> page, select the servers or clusters on which you want to deploy the data source and click <span class="strong strong"><strong>Finish</strong></span>.
						</li><li class="listitem">
							Return to the main menu of the WebLogic Administration Console and select <span class="strong strong"><strong>Change Center</strong></span> → <span class="strong strong"><strong>Activate Changes</strong></span>.
						</li></ol></div><p>
					For more information about Oracle WebLogic Server data sources, see <a class="link" href="https://docs.oracle.com/middleware/12213/wls/JDBCA/toc.htm">JDBC Data Sources for Oracle WebLogic Server</a> in the Oracle Help Center.
				</p></section><section class="section" id="wls-was-jms-configure-con_kie-server-on-wls"><div class="titlepage"><div><div><h2 class="title">57.3. Configuring Java Message Service (JMS)</h2></div></div></div><p>
					The Java Message Service (JMS) is a Java API that KIE Server uses to exchange messages with other application servers such as Oracle WebLogic Server and IBM WebSphere Application Server. You must configure your application server to send and receive JMS messages through KIE Server to ensure proper collaboration between the two servers.
				</p><section class="section" id="wls-jms-create-proc"><div class="titlepage"><div><div><h3 class="title">57.3.1. Create a JMS server</h3></div></div></div><p>
						You must create a JMS server in order to use JMS.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								In the WebLogic Administration Console, navigate to <span class="strong strong"><strong>Services</strong></span> → <span class="strong strong"><strong>Messaging</strong></span> → <span class="strong strong"><strong>JMS Servers</strong></span>.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>New</strong></span> to create a new JMS server.
							</li><li class="listitem">
								Enter a name for your JMS server and click <span class="strong strong"><strong>Next</strong></span>.
							</li><li class="listitem">
								Select the target server chosen for the KIE Server deployment.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Finish</strong></span>.
							</li></ol></div></section><section class="section" id="wls-jms-create-module-proc"><div class="titlepage"><div><div><h3 class="title">57.3.2. Create a JMS module</h3></div></div></div><p>
						You must create a JMS module to store your JMS resources, such as connection factories and queues.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								You have created a JMS server.
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								In the WebLogic Administration Console, navigate to <span class="strong strong"><strong>Services</strong></span> → <span class="strong strong"><strong>Messaging</strong></span> → <span class="strong strong"><strong>JMS Modules</strong></span>.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>New</strong></span> to create a module.
							</li><li class="listitem">
								Enter a module name and click <span class="strong strong"><strong>Next</strong></span>.
							</li><li class="listitem">
								Select the target server chosen for the KIE Server deployment and click <span class="strong strong"><strong>Finish</strong></span>.
							</li><li class="listitem">
								Click the newly created module name and then click <span class="strong strong"><strong>Subdeployments</strong></span>.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>New</strong></span> to create a subdeployment for your module.
							</li><li class="listitem">
								Give your subdeployment a name and click <span class="strong strong"><strong>Next</strong></span>.
							</li><li class="listitem">
								Select the check box to choose the previously created JMS server.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Finish</strong></span> to complete the subdeployment configuration.
							</li></ol></div></section><section class="section" id="wls-jms-factory-create-proc"><div class="titlepage"><div><div><h3 class="title">57.3.3. Create JMS connection factories</h3></div></div></div><p>
						To enable messaging with KIE Server, you must create certain JMS connection factories for sending and receiving messages.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								You have created a JMS server.
							</li><li class="listitem">
								You have created a JMS module.
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								In the WebLogic Administration Console, navigate to <span class="strong strong"><strong>Services</strong></span> → <span class="strong strong"><strong>Messaging</strong></span> → <span class="strong strong"><strong>JMS Modules</strong></span> to see a list of JMS modules.
							</li><li class="listitem">
								Select your previously created module and click <span class="strong strong"><strong>New</strong></span> to create a new JMS resource.
							</li><li class="listitem">
								Select <span class="strong strong"><strong>Connection Factory</strong></span> and click <span class="strong strong"><strong>Next</strong></span>.
							</li><li class="listitem">
								For each of the following required connection factories, enter the name of the connection factory (for example, <code class="literal">KIE.SERVER.REQUEST</code>) and the JNDI name (for example, <code class="literal">jms/cf/KIE.SERVER.REQUEST</code>) and click <span class="strong strong"><strong>Next</strong></span>. The connection factory automatically selects the servers assigned to the JMS Module as the default.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Finish</strong></span> to add the connection factory, and repeat for each required factory.
							</li></ol></div><section class="section" id="jms-factories-ref_kie-server-on-wls"><div class="titlepage"><div><div><h4 class="title">57.3.3.1. JMS connection factories for KIE Server</h4></div></div></div><p>
							The following are the required Java Message Service (JMS) connection factories that enable JMS messaging with KIE Server:
						</p><div class="table" id="idm140016268604272"><p class="title"><strong>Table 57.1. Required JMS connection factories for KIE Server</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"/><col style="width: 35%; " class="col_2"/><col style="width: 40%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016268598480" scope="col">Name</th><th align="left" valign="top" id="idm140016268597392" scope="col">Default value</th><th align="left" valign="top" id="idm140016268596304" scope="col">Used for</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016268598480">
										<p>
											<code class="literal">KIE.SERVER.REQUEST</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016268597392">
										<p>
											<code class="literal">jms/cf/KIE.SERVER.REQUEST</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016268596304">
										<p>
											Sending all requests to KIE Server
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016268598480">
										<p>
											<code class="literal">KIE.SERVER.RESPONSE</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016268597392">
										<p>
											<code class="literal">jms/cf/KIE.SERVER.RESPONSE</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016268596304">
										<p>
											Receiving all responses produced by KIE Server
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016268598480">
										<p>
											<code class="literal">KIE.SERVER.EXECUTOR</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016268597392">
										<p>
											<code class="literal">jms/cf/KIE.SERVER.EXECUTOR</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016268596304">
										<p>
											KIE Server executor services
										</p>
										</td></tr></tbody></table></div></div></section></section><section class="section" id="wls-jms-queues-create-proc"><div class="titlepage"><div><div><h3 class="title">57.3.4. Create JMS queues</h3></div></div></div><p>
						JMS queues are the destination end points for point-to-point messaging. You must create certain JMS queues to enable JMS messaging with KIE Server.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								You have created a JMS server.
							</li><li class="listitem">
								You have created a JMS module.
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								In the WebLogic Administration Console, navigate to <span class="strong strong"><strong>Services</strong></span> → <span class="strong strong"><strong>Messaging</strong></span> → <span class="strong strong"><strong>JMS Modules</strong></span> to see the list of JMS modules.
							</li><li class="listitem">
								Select your previously created module, then click <span class="strong strong"><strong>New</strong></span> to create a new JMS resource.
							</li><li class="listitem">
								Select <span class="strong strong"><strong>Queue</strong></span> and click <span class="strong strong"><strong>Next</strong></span>.
							</li><li class="listitem">
								For each of the following required queues, enter the name of the queue (for example, <code class="literal">KIE.SERVER.REQUEST</code>) and the JNDI name (for example, <code class="literal">jms/KIE.SERVER.REQUEST</code>) and then click <span class="strong strong"><strong>Next</strong></span>.
							</li><li class="listitem">
								Choose the JMS module subdeployment that connects to the JMS server.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Finish</strong></span> to add the queue, and repeat for each required queue.
							</li></ol></div><section class="section" id="jms-queues-ref_kie-server-on-wls"><div class="titlepage"><div><div><h4 class="title">57.3.4.1. JMS queues for KIE Server</h4></div></div></div><p>
							The following are the required Java Message Service (JMS) queues that enable JMS messaging with KIE Server:
						</p><div class="table" id="idm140016270016304"><p class="title"><strong>Table 57.2. Required JMS queues for KIE Server</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"/><col style="width: 35%; " class="col_2"/><col style="width: 40%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016270010528" scope="col">Name</th><th align="left" valign="top" id="idm140016270009440" scope="col">Default value</th><th align="left" valign="top" id="idm140016270008352" scope="col">Used for</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016270010528">
										<p>
											<code class="literal">KIE.SERVER.REQUEST</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270009440">
										<p>
											<code class="literal">jms/KIE.SERVER.REQUEST</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270008352">
										<p>
											Sending all requests to KIE Server
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270010528">
										<p>
											<code class="literal">KIE.SERVER.RESPONSE</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270009440">
										<p>
											<code class="literal">jms/KIE.SERVER.RESPONSE</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270008352">
										<p>
											Receiving all responses produced by KIE Server
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270010528">
										<p>
											<code class="literal">KIE.SERVER.EXECUTOR</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270009440">
										<p>
											<code class="literal">jms/KIE.SERVER.EXECUTOR</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270008352">
										<p>
											KIE Server executor services
										</p>
										</td></tr></tbody></table></div></div></section></section></section><section class="section" id="kie-server-wls-environment-set-proc"><div class="titlepage"><div><div><h2 class="title">57.4. Setting system properties in Oracle WebLogic Server</h2></div></div></div><p>
					Set the system properties listed in this section on your Oracle WebLogic Server before you deploy KIE Server.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Set the following system property to increase the Java Virtual Machine (JVM) memory size:
						</p><pre class="screen">USER_MEM_ARGS=-Xms512m -Xmx1024m</pre><p class="simpara">
							If you do not increase the JVM memory size, Oracle WebLogic Server freezes or causes deployment errors when deploying KIE Server.
						</p></li><li class="listitem"><p class="simpara">
							Specify the following system properties for KIE Server on the Oracle WebLogic Server instance:
						</p><div class="table" id="idm140016269981040"><p class="title"><strong>Table 57.3. System properties for KIE Server</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 40%; " class="col_2"/><col style="width: 30%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016269540704" scope="col">Name</th><th align="left" valign="top" id="idm140016269539616" scope="col">Value</th><th align="left" valign="top" id="idm140016269538528" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016269540704">
										<p>
											<code class="literal">kie.server.jms.queues.response</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016269539616">
										<p>
											<code class="literal">jms/KIE.SERVER.RESPONSE</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016269538528">
										<p>
											The JNDI name of JMS queue for responses used by the KIE Server.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016269540704">
										<p>
											<code class="literal">org.kie.server.domain</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016269539616">
										<p>
											<code class="literal">OracleDefaultLoginConfiguration</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016269538528">
										<p>
											JAAS <code class="literal">LoginContext</code> domain used to authenticate users when using JMS.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016269540704">
										<p>
											<code class="literal">org.kie.server.persistence.ds</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016269539616">
										<p>
											<code class="literal">jdbc/jbpm</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016269538528">
										<p>
											Data source JNDI name for KIE Server.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016269540704">
										<p>
											<code class="literal">org.kie.server.persistence.tm</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016269539616">
										<p>
											<code class="literal">org.hibernate.service.jta.platform.internal.WeblogicJtaPlatform</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016269538528">
										<p>
											Transaction manager platform for setting Hibernate properties.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016269540704">
										<p>
											<code class="literal">org.kie.server.persistence.dialect</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016269539616">
										<p>
											Example: <code class="literal">org.hibernate.dialect.H2Dialect</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016269538528">
										<p>
											Specifies the Hibernate dialect to be used. Set according to data source.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016269540704">
										<p>
											<code class="literal">org.kie.executor.jms.queue</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016269539616">
										<p>
											<code class="literal">jms/KIE.SERVER.EXECUTOR</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016269538528">
										<p>
											Job executor JMS queue for KIE Server.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016269540704">
										<p>
											<code class="literal">org.kie.executor.jms.cf</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016269539616">
										<p>
											<code class="literal">jms/cf/KIE.SERVER.EXECUTOR</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016269538528">
										<p>
											Job executor JMS connection factory for KIE Server.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016269540704">
										<p>
											<code class="literal">org.kie.server.router</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016269539616">
										<p>
											Example: <code class="literal">http://localhost:9000</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016269538528">
										<p>
											(Optional) Specifies one or more URLs for one or more KIE Server routers (Smart Routers) that the application server is a part of in a clustered KIE Server environment.
										</p>
										</td></tr></tbody></table></div></div></li><li class="listitem">
							Set the same property values in the <code class="literal">JAVA_OPTIONS</code> environment variable:
						</li></ol></div><pre class="screen">JAVA_OPTIONS="-Dkie.server.jms.queues.response=jms/KIE.SERVER.RESPONSE
 -Dorg.kie.server.domain=OracleDefaultLoginConfiguration
 -Dorg.kie.executor.jms.cf=jms/cf/KIE.SERVER.EXECUTOR
 -Dorg.kie.executor.jms.queue=jms/KIE.SERVER.EXECUTOR
 -Dorg.kie.server.persistence.ds=jdbc/jbpm
 -Dorg.kie.server.persistence.tm=org.hibernate.service.jta.platform.internal.WeblogicJtaPlatform
 -Dorg.kie.server.persistence.dialect=org.hibernate.dialect.H2Dialect
// Optional server router, for clustered server environment
 -Dorg.kie.server.router=http://localhost:9000</pre></section><section class="section" id="wls-stop-start-proc_kie-server-on-wls"><div class="titlepage"><div><div><h2 class="title">57.5. Stopping and restarting Oracle WebLogic Server</h2></div></div></div><p>
					After you have configured all required system properties in Oracle WebLogic Server, stop and restart the Oracle server to ensure that the configurations are applied.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the WebLogic Administration Console, navigate to <span class="strong strong"><strong>Change Center</strong></span> → <span class="strong strong"><strong>Lock &amp; Edit</strong></span>.
						</li><li class="listitem">
							Under <span class="strong strong"><strong>Domain Structure</strong></span>, click <span class="strong strong"><strong>Environment</strong></span> → <span class="strong strong"><strong>Servers</strong></span> → <span class="strong strong"><strong>Control</strong></span>.
						</li><li class="listitem">
							Select the server that you want to stop and click <span class="strong strong"><strong>Shutdown</strong></span>.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>When Work Completes</strong></span> to gracefully shut down the server or select <span class="strong strong"><strong>Force Shutdown Now</strong></span> to stop the server immediately without completing ongoing tasks.
						</li><li class="listitem">
							On the <span class="strong strong"><strong>Server Life Cycle Assistant</strong></span> pane, click <span class="strong strong"><strong>Yes</strong></span> to complete the shutdown.
						</li><li class="listitem"><p class="simpara">
							After the shutdown is complete, navigate to the domain directory in the command terminal, <code class="literal"><span class="emphasis"><em>WLS_HOME</em></span>/user_projects/&lt;DOMAIN_NAME&gt;</code>. For example:
						</p><pre class="screen">WLS\user_projects\mydomain</pre></li><li class="listitem"><p class="simpara">
							Enter one of the following commands to restart Oracle WebLogic Server to apply the new configurations:
						</p><p class="simpara">
							On UNIX-based operating systems:
						</p><pre class="screen">startWebLogic.sh</pre><p class="simpara">
							On Windows operating systems:
						</p><pre class="screen">startWebLogic.cmd</pre></li><li class="listitem">
							Open the Administration Console in a web browser (for example, <code class="literal">http://localhost:7001/console/</code>) and log in with your credentials.
						</li></ol></div></section></section><section class="chapter" id="kie-server-wls-install-proc"><div class="titlepage"><div><div><h2 class="title">Chapter 58. Installing KIE Server with Oracle WebLogic Server</h2></div></div></div><p>
				After you have configured all required system properties in Oracle WebLogic Server, you can install KIE Server with Oracle WebLogic Server to streamline Red Hat Process Automation Manager application management.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						An Oracle WebLogic Server instance is configured as described in <a class="xref" href="#wls-configure-proc" title="Chapter 57. Configuring Oracle WebLogic Server for KIE Server">Chapter 57, <em>Configuring Oracle WebLogic Server for KIE Server</em></a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="strong strong"><strong>Product:</strong></span> Process Automation Manager
							</li><li class="listitem">
								<span class="strong strong"><strong>Version:</strong></span> 7.10
							</li></ul></div></li><li class="listitem">
						Download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 KIE Server for All Supported EE7 Containers</strong></span>.
					</li><li class="listitem">
						Extract the downloaded <code class="literal">rhpam-7.10.0-kie-server-ee7.zip</code> file to a temporary directory.
					</li><li class="listitem">
						In the WebLogic Administration Console, navigate to <span class="strong strong"><strong>Deployments</strong></span> to view all existing applications.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Install</strong></span>.
					</li><li class="listitem">
						Navigate to the temporary directory where you downloaded and extracted the <code class="literal">rhpam-7.10.0-kie-server-ee7.zip</code> file, and go to <code class="literal">rhpam-7.10.0-kie-server-ee7/kie-server.war</code>.
					</li><li class="listitem">
						Select the <code class="literal">kie-server.war</code> file and click <span class="strong strong"><strong>Next</strong></span> to continue.
					</li><li class="listitem">
						Select <span class="strong strong"><strong>Install this deployment as an application</strong></span> as the targeting style and click <span class="strong strong"><strong>Next</strong></span>.
					</li><li class="listitem">
						Set the application name to <code class="literal">kie-server</code> and set the security model to <code class="literal">DD Only</code>. Leave the remaining options as default and click <span class="strong strong"><strong>Next</strong></span> to continue.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Additional Configuration</strong></span> section, choose <span class="strong strong"><strong>No, I will review the configuration later</strong></span> and click <span class="strong strong"><strong>Finish</strong></span>.
					</li></ol></div><section class="section" id="kie-server-wls-verify-proc"><div class="titlepage"><div><div><h2 class="title">58.1. Verifying the KIE Server installation on Oracle WebLogic Server</h2></div></div></div><p>
					After you have installed KIE Server on Oracle WebLogic Server, verify that the installation was successful.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							An Oracle WebLogic Server instance is configured as described in <a class="xref" href="#wls-configure-proc" title="Chapter 57. Configuring Oracle WebLogic Server for KIE Server">Chapter 57, <em>Configuring Oracle WebLogic Server for KIE Server</em></a>.
						</li><li class="listitem">
							KIE Server is installed as described in <a class="xref" href="#kie-server-wls-install-proc" title="Chapter 58. Installing KIE Server with Oracle WebLogic Server">Chapter 58, <em>Installing KIE Server with Oracle WebLogic Server</em></a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Enter the KIE Server URL <code class="literal">http://&lt;HOST&gt;:&lt;PORT&gt;/kie-server/services/rest/server</code> in a web browser.
						</li><li class="listitem"><p class="simpara">
							Verify that KIE Server is running.
						</p><p class="simpara">
							If KIE Server is not running, stop and restart the Oracle WebLogic Server instance and try again to access the KIE Server URL.
						</p></li></ol></div></section></section><section class="chapter" id="controller-wls-install-proc"><div class="titlepage"><div><div><h2 class="title">Chapter 59. Installing and running the headless Process Automation Manager controller with Oracle WebLogic Server</h2></div></div></div><p>
				To use the KIE Server REST API or Java Client API to interact with KIE Server, install the headless Process Automation Manager controller with Oracle WebLogic Server. The headless Process Automation Manager controller manages KIE Server configuration in a centralized way so that you can use the headless Process Automation Manager controller to create and maintain containers and perform other server-level tasks.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The Oracle WebLogic Server instance is configured as described in <a class="xref" href="#wls-configure-proc" title="Chapter 57. Configuring Oracle WebLogic Server for KIE Server">Chapter 57, <em>Configuring Oracle WebLogic Server for KIE Server</em></a>.
					</li><li class="listitem">
						KIE Server is installed on the Oracle WebLogic Server instance.
					</li><li class="listitem">
						You have sufficient user permissions to complete the installation.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="strong strong"><strong>Product:</strong></span> Process Automation Manager
							</li><li class="listitem">
								<span class="strong strong"><strong>Version:</strong></span> 7.10
							</li></ul></div></li><li class="listitem">
						Download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Add-Ons</strong></span>.
					</li><li class="listitem">
						Extract the downloaded <code class="literal">rhpam-7.10.0-add-ons.zip</code> file to a temporary directory.
					</li><li class="listitem">
						In the WebLogic Administration Console, navigate to <span class="strong strong"><strong>Security Realms</strong></span> → <span class="strong strong"><strong>Users and Groups</strong></span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>kie-server</strong></span> group that you created previously, create a user for the headless Process Automation Manager controller, such as <code class="literal">controller</code>, and a password for this new user and click <span class="strong strong"><strong>OK</strong></span>. For more information about creating groups and users, see <a class="xref" href="#wls-users-set-proc" title="57.1. Configuring the KIE Server group and users">Section 57.1, “Configuring the KIE Server group and users”</a>.
					</li><li class="listitem">
						Navigate to <span class="strong strong"><strong>Deployments</strong></span> to view all existing applications.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Install</strong></span>.
					</li><li class="listitem">
						Navigate to the temporary directory where you downloaded and extracted the <code class="literal">rhpam-7.10.0-add-ons.zip</code> file, and go to <code class="literal">rhpam-7.10.0-add-ons/rhpam-7.10.0-controller-ee7.zip/controller.war</code>.
					</li><li class="listitem">
						Select the <code class="literal">controller.war</code> file and click <span class="strong strong"><strong>Next</strong></span> to continue.
					</li><li class="listitem">
						Select <span class="strong strong"><strong>Install this deployment as an application</strong></span> as the targeting style and click <span class="strong strong"><strong>Next</strong></span>.
					</li><li class="listitem">
						Keep the application name as <code class="literal">controller</code> and set the security model to <code class="literal">DD Only</code>. Leave the remaining options as default and click <span class="strong strong"><strong>Next</strong></span> to continue.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Additional Configuration</strong></span> section, choose <span class="strong strong"><strong>No, I will review the configuration later</strong></span> and click <span class="strong strong"><strong>Finish</strong></span>.
					</li></ol></div><section class="section" id="controller-wls-was-environment-set-proc_kie-server-on-wls"><div class="titlepage"><div><div><h2 class="title">59.1. Setting system properties for the headless Process Automation Manager controller</h2></div></div></div><p>
					After you install the headless Process Automation Manager controller, set the system properties listed in this section on your application server or servers to enable proper interaction with the headless Process Automation Manager controller.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						For optimal results, install KIE Server and the headless Process Automation Manager controller on different servers in production environments. In development environments, you can install KIE Server and the headless Process Automation Manager controller on the same server. In either case, be sure to make these property changes on all application servers where the headless Process Automation Manager controller is installed.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server and the headless Process Automation Manager controller are installed on the application server instance.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Specify the following JVM property values on the application server instance where the headless Process Automation Manager controller is installed:
						</p><div class="table" id="idm140016270480848"><p class="title"><strong>Table 59.1. Required properties for the headless Process Automation Manager controller</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"/><col style="width: 60%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016270475952" scope="col">Name</th><th align="left" valign="top" id="idm140016270474864" scope="col">Requirement</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016270475952">
										<p>
											<code class="literal">org.kie.server.user</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270474864">
										<p>
											A user with the <code class="literal">kie-server</code> role
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270475952">
										<p>
											<code class="literal">org.kie.server.pwd</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270474864">
										<p>
											The password for the user specified in the <code class="literal">org.kie.server.user</code> property
										</p>
										</td></tr></tbody></table></div></div></li><li class="listitem"><p class="simpara">
							Specify the following JVM property values on the application server instance where KIE Server is installed:
						</p><div class="table" id="idm140016270462384"><p class="title"><strong>Table 59.2. Required properties for KIE Server when headless Process Automation Manager controller is installed</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"/><col style="width: 60%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016270274512" scope="col">Name</th><th align="left" valign="top" id="idm140016270273424" scope="col">Requirement</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016270274512">
										<p>
											<code class="literal">org.kie.server.controller.user</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270273424">
										<p>
											A user with the <code class="literal">kie-server</code> role
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270274512">
										<p>
											<code class="literal">org.kie.server.controller.pwd</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270273424">
										<p>
											The password for the user specified for the <code class="literal">org.kie.server.controller.user</code> property
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270274512">
										<p>
											<code class="literal">org.kie.server.id</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270273424">
										<p>
											The ID or name of the KIE Server installation, such as <code class="literal">rhdm700-decision-server-1</code>
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270274512">
										<p>
											<code class="literal">org.kie.server.location</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270273424">
										<p>
											The URL of the KIE Server, <code class="literal">http://&lt;HOST&gt;:&lt;PORT&gt;/kie-server/services/rest/server</code>
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140016270274512">
										<p>
											<code class="literal">org.kie.server.controller</code>
										</p>
										</td><td align="left" valign="top" headers="idm140016270273424">
										<p>
											The URL of the headless Process Automation Manager controller, <code class="literal">http://&lt;HOST&gt;:&lt;PORT&gt;/controller/rest/controller</code>
										</p>
										</td></tr></tbody></table></div></div><p class="simpara">
							<code class="literal">&lt;HOST&gt;</code> is the ID or name of the KIE Server host, for example, <code class="literal">localhost</code> or <code class="literal">192.7.8.9</code>.
						</p><p class="simpara">
							<code class="literal">&lt;PORT&gt;</code> is the port of the KIE Server host, for example, <code class="literal">7001</code>.
						</p></li></ol></div></section><section class="section" id="controller-wls-was-verify-proc_kie-server-on-wls"><div class="titlepage"><div><div><h2 class="title">59.2. Verifying the installation</h2></div></div></div><p>
					After you install the headless Process Automation Manager controller and define the required system properties and role requirements on the application server, verify that the headless Process Automation Manager controller works correctly.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server and the headless Process Automation Manager controller are installed on the application server instance.
						</li><li class="listitem">
							You have set all required system properties and role requirements for the headless Process Automation Manager controller on the application server.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						In your command terminal, enter the following command to verify that the headless Process Automation Manager controller is working:
					</p></div><pre class="screen">curl -X GET "http://&lt;HOST&gt;:&lt;PORT&gt;/controller/rest/controller/management/servers" -H  "accept: application/xml" -u '&lt;CONTROLLER&gt;:&lt;CONTROLLER_PWD&gt;'</pre><p>
					<code class="literal">&lt;HOST&gt;</code> is the ID or name of the KIE Server host, for example, <code class="literal">localhost</code> or <code class="literal">192.7.8.9</code>.
				</p><p>
					<code class="literal">&lt;PORT&gt;</code> is the port of the KIE Server host, for example, <code class="literal">7001</code>.
				</p><p>
					<code class="literal">&lt;CONTROLLER&gt;</code> and <code class="literal">&lt;CONTROLLER_PWD&gt;</code> are the user credentials that you created in this section.
				</p><p>
					The command should return information about the KIE Server instance.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Alternatively, you can use the KIE Server Java API Client to access the headless Process Automation Manager controller.
					</p></div></div><p>
					If the headless Process Automation Manager controller is not running, stop and restart the application server instance and try again to access the headless Process Automation Manager controller URL or API.
				</p></section></section><section class="chapter" id="wls-configure-embedded-engine-proc"><div class="titlepage"><div><div><h2 class="title">Chapter 60. Configuring an embedded process engine and decision engine in Oracle WebLogic Server</h2></div></div></div><p>
				An embedded engine is a light-weight workflow and rule engine that enables you to execute your decisions and business processes. An embedded engine can be part of a Red Hat Process Automation Manager application or it can be deployed as a service through OpenShift, Kubernetes, and Docker. You can embed an engine in a Red Hat Process Automation Manager application through the API or as a set of contexts and dependency injection (CDI) services.
			</p><p>
				If you intend to use an embedded engine with your Red Hat Process Automation Manager application, you must add Maven dependencies to your project by adding the Red Hat Business Automation bill of materials (BOM) files to the project’s <code class="literal">pom.xml</code> file. The Red Hat Business Automation BOM applies to both Red Hat Decision Manager and Red Hat Process Automation Manager. For more information about the Red Hat Business Automation BOM, see <a class="link" href="https://access.redhat.com/solutions/3405361">What is the mapping between Red Hat Process Automation Manager and the Maven library version?</a>.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Declare the Red Hat Business Automation BOM in the <code class="literal">pom.xml</code> file:
					</p><div class="informalexample"><pre class="programlisting language-xml">&lt;dependencyManagement&gt;
 &lt;dependencies&gt;
  &lt;dependency&gt;
   &lt;groupId&gt;com.redhat.ba&lt;/groupId&gt;
   &lt;artifactId&gt;ba-platform-bom&lt;/artifactId&gt;
   &lt;version&gt;7.10.0.redhat-00002&lt;/version&gt;
   &lt;type&gt;pom&lt;/type&gt;
   &lt;scope&gt;import&lt;/scope&gt;
  &lt;/dependency&gt;
 &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;
&lt;dependencies&gt;
&lt;!-- Your dependencies --&gt;
&lt;/dependencies&gt;</pre></div></li><li class="listitem"><p class="simpara">
						Declare dependencies required for your project in the <code class="literal">&lt;dependencies&gt;</code> tag. After you import the product BOM into your project, the versions of the user-facing product dependencies are defined so you do not need to specify the <code class="literal">&lt;version&gt;</code> sub-element of these <code class="literal">&lt;dependency&gt;</code> elements. However, you must use the <code class="literal">&lt;dependency&gt;</code> element to declare dependencies which you want to use in your project.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								For a basic Red Hat Process Automation Manager project, declare the following dependencies, depending on the features that you want to use:
							</p><div class="formalpara"><p class="title"><strong>Embedded process engine dependencies</strong></p><p>
									
<pre class="programlisting language-xml">&lt;!-- Public KIE API --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-api&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Core dependencies for process engine --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-flow&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-flow-builder&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-bpmn2&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-runtime-manager&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-persistence-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-query-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-audit&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-kie-services&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Dependency needed for default WorkItemHandler implementations. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-workitems-core&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Logging dependency. You can use any logging framework compatible with slf4j. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
  &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
  &lt;version&gt;${logback.version}&lt;/version&gt;
&lt;/dependency&gt;</pre>
								</p></div></li><li class="listitem"><p class="simpara">
								For a Red Hat Process Automation Manager project that uses CDI, you typically declare the following dependencies:
							</p><div class="formalpara"><p class="title"><strong>CDI-enabled process engine dependencies</strong></p><p>
									
<pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-api&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-kie-services&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jbpm&lt;/groupId&gt;
  &lt;artifactId&gt;jbpm-services-cdi&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Embedded decision engine dependencies</strong></p><p>
									
<pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Dependency for persistence support. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-persistence-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Dependencies for decision tables, templates, and scorecards.
For other assets, declare org.drools:business-central-models-* dependencies. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-decisiontables&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-templates&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-scorecards&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Dependency for loading KJARs from a Maven repository using KieScanner. --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-ci&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
								</p></div></li><li class="listitem"><p class="simpara">
								To use the KIE Server, declare the following dependencies:
							</p><div class="formalpara"><p class="title"><strong>Client application KIE Server dependencies</strong></p><p>
									
<pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie.server&lt;/groupId&gt;
  &lt;artifactId&gt;kie-server-client&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
								</p></div></li><li class="listitem"><p class="simpara">
								To create a remote client for Red Hat Process Automation Manager, declare the following dependency:
							</p><div class="formalpara"><p class="title"><strong>Client dependency</strong></p><p>
									
<pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.uberfire&lt;/groupId&gt;
  &lt;artifactId&gt;uberfire-rest-client&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
								</p></div></li><li class="listitem"><p class="simpara">
								When creating a JAR file that includes assets, such as rules and process definitions, specify the packaging type for your Maven project as <code class="literal">kjar</code> and use <code class="literal">org.kie:kie-maven-plugin</code> to process the <code class="literal">kjar</code> packaging type located under the <code class="literal">&lt;project&gt;</code> element. In the following example, <code class="literal">${kie.version}</code> is the Maven library version listed in <a class="link" href="https://access.redhat.com/solutions/3405361">What is the mapping between Red Hat Process Automation Manager and the Maven library version?</a>:
							</p><pre class="programlisting language-xml">&lt;packaging&gt;kjar&lt;/packaging&gt;
&lt;build&gt;
 &lt;plugins&gt;
  &lt;plugin&gt;
   &lt;groupId&gt;org.kie&lt;/groupId&gt;
   &lt;artifactId&gt;kie-maven-plugin&lt;/artifactId&gt;
   &lt;version&gt;${kie.version}&lt;/version&gt;
   &lt;extensions&gt;true&lt;/extensions&gt;
  &lt;/plugin&gt;
 &lt;/plugins&gt;
&lt;/build&gt;</pre></li></ul></div></li><li class="listitem"><p class="simpara">
						If you use a process engine or decision engine with persistence support in your project, you must declare the following hibernate dependencies in the <code class="literal">dependencyManagement</code> section of your <code class="literal">pom.xml</code> file by copying the <code class="literal">version.org.hibernate-4ee7</code> property from the Red Hat Business Automation BOM file:
					</p><div class="formalpara"><p class="title"><strong>Hibernate dependencies</strong></p><p>
							
<pre class="programlisting language-xml">&lt;!-- hibernate dependencies --&gt;
&lt;dependencyManagement&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;
    &lt;version&gt;${version.org.hibernate-4ee7}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;
    &lt;version&gt;${version.org.hibernate-4ee7}&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;</pre>
						</p></div></li></ol></div></section><section class="chapter" id="securing-passwords-wls-proc_kie-server-on-wls"><div class="titlepage"><div><div><h2 class="title">Chapter 61. Securing passwords with a keystore</h2></div></div></div><p>
				You can use a keystore to encrypt passwords that are used for communication between Business Central and KIE Server. You should encrypt both controller and KIE Server passwords. If Business Central and KIE Server are deployed to different application servers, then both application servers should use the keystore.
			</p><p>
				Use Java Cryptography Extension KeyStore (JCEKS) for your keystore because it supports symmetric keys. Use KeyTool, which is part of the JDK installation, to create a new JCEKS.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If KIE Server is not configured with JCEKS, KIE Server passwords are stored in system properties in plain text form.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						KIE Server is installed in Oracle WebLogic Server.
					</li><li class="listitem">
						A KIE Server user with the <code class="literal">kie-server</code> role has been created, as described in <a class="xref" href="#wls-users-set-proc" title="57.1. Configuring the KIE Server group and users">Section 57.1, “Configuring the KIE Server group and users”</a>.
					</li><li class="listitem">
						Java 8 or higher is installed.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To use KeyTool to create a JCEKS, enter the following command in the Java 8 home directory:
					</p><pre class="programlisting language-bash">$&lt;JAVA_HOME&gt;/bin/keytool -importpassword -keystore &lt;KEYSTORE_PATH&gt; -keypass &lt;ALIAS_KEY_PASSWORD&gt; -alias &lt;PASSWORD_ALIAS&gt; -storepass &lt;KEYSTORE_PASSWORD&gt; -storetype JCEKS</pre><p class="simpara">
						In this example, replace the following variables:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">&lt;KEYSTORE_PATH&gt;</code>: The path where the keystore will be stored
							</li><li class="listitem">
								<code class="literal">&lt;KEYSTORE_PASSWORD&gt;</code>: The keystore password
							</li><li class="listitem">
								<code class="literal">&lt;ALIAS_KEY_PASSWORD&gt;</code>: The password used to access values stored with the alias
							</li><li class="listitem">
								<code class="literal">&lt;PASSWORD_ALIAS&gt;</code>: The alias of the entry to the process
							</li></ul></div></li><li class="listitem">
						When prompted, enter the password for the KIE Server user that you created.
					</li><li class="listitem"><p class="simpara">
						Set the system properties listed in the following table:
					</p><div class="table" id="idm140016270560992"><p class="title"><strong>Table 61.1. System properties used to load a KIE Server JCEKS</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 36%; " class="col_1"/><col style="width: 27%; " class="col_2"/><col style="width: 36%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140016270555200" scope="col">System property</th><th align="left" valign="top" id="idm140016270554112" scope="col">Placeholder</th><th align="left" valign="top" id="idm140016270553024" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140016270555200">
									<p>
										<code class="literal">kie.keystore.keyStoreURL</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270554112">
									<p>
										<code class="literal">&lt;KEYSTORE_URL&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270553024">
									<p>
										URL for the JCEKS that you want to use, for example <code class="literal">file:///home/kie/keystores/keystore.jceks</code>
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016270555200">
									<p>
										<code class="literal">kie.keystore.keyStorePwd</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270554112">
									<p>
										<code class="literal">&lt;KEYSTORE_PWD&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270553024">
									<p>
										Password for the JCEKS
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016270555200">
									<p>
										<code class="literal">kie.keystore.key.server.alias</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270554112">
									<p>
										<code class="literal">&lt;KEY_SERVER_ALIAS&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270553024">
									<p>
										Alias of the key for REST services where the password is stored
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016270555200">
									<p>
										<code class="literal">kie.keystore.key.server.pwd</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270554112">
									<p>
										<code class="literal">&lt;KEY_SERVER_PWD&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270553024">
									<p>
										Password of the alias for REST services with the stored password
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016270555200">
									<p>
										<code class="literal">kie.keystore.key.ctrl.alias</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270554112">
									<p>
										<code class="literal">&lt;KEY_CONTROL_ALIAS&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270553024">
									<p>
										Alias of the key for default REST Process Automation Controller where the password is stored
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140016270555200">
									<p>
										<code class="literal">kie.keystore.key.ctrl.pwd</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270554112">
									<p>
										<code class="literal">&lt;KEY_CONTROL_PWD&gt;</code>
									</p>
									</td><td align="left" valign="top" headers="idm140016270553024">
									<p>
										Password of the alias for default REST Process Automation Controller with the stored password
									</p>
									</td></tr></tbody></table></div></div></li><li class="listitem">
						Start KIE Server to verify the configuration.
					</li></ol></div></section><section class="chapter" id="next_steps_3"><div class="titlepage"><div><div><h2 class="title">Chapter 62. Next steps</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/getting_started_with_red_hat_process_automation_manager#assembly-getting-started-decision-services"><span class="emphasis"><em>Getting started with decision services</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/developing_decision_services_in_red_hat_process_automation_manager#assembly-guided-decision-tables"><span class="emphasis"><em>Designing a decision service using guided decision tables</em></span></a>
					</li></ul></div></section></div><div class="part" id="assembly-patching-and-upgrading"><div class="titlepage"><div><div><h1 class="title">Part VII. Patching and upgrading Red Hat Process Automation Manager 7.10</h1></div></div></div><div class="partintro" id="idm140016269865472"><div/><p>
				As a Red Hat Process Automation Manager user, you can apply updates to Red Hat Process Automation Manager as they become available in the Red Hat Customer Portal to keep your Red Hat Process Automation Manager distribution current with the latest enhancements and fixes. Red Hat provides update tools and product notifications for new product releases so you can more readily apply helpful updates to Red Hat Process Automation Manager and KIE Server.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have a Red Hat Customer Portal account.
					</li><li class="listitem"><p class="simpara">
						Red Hat Process Automation Manager 7.10 is installed. For installation options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							If you are using Red Hat Process Automation Manager 7.8 and you want to upgrade to Red Hat Process Automation Manager 7.10, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.8/html-single/patching_and_upgrading_red_hat_process_automation_manager_7.8/"><span class="emphasis"><em>Patching and upgrading Red Hat Process Automation Manager 7.8</em></span></a> .
						</p></div></div></li></ul></div><div class="toc"><p><strong>Table of Contents</strong></p><ul class="toc"><li><span class="chapter"><a href="#product-versioning-con_patching-upgrading">63. Red Hat Process Automation Manager versioning</a></span></li><li><span class="chapter"><a href="#patches-notifications-proc_patching-upgrading">64. Enabling Red Hat Process Automation Manager notifications in the Red Hat Customer Portal</a></span></li><li><span class="chapter"><a href="#patches-applying-proc_patching-upgrading">65. Applying patch updates and minor release upgrades to Red Hat Process Automation Manager</a></span></li><li><span class="chapter"><a href="#additional_resources_4">66. Additional resources</a></span></li></ul></div></div><section class="chapter" id="product-versioning-con_patching-upgrading"><div class="titlepage"><div><div><h2 class="title">Chapter 63. Red Hat Process Automation Manager versioning</h2></div></div></div><p>
				Red Hat Process Automation Manager versions are designated with a numerical <code class="literal">Major.Minor.Patch</code> format, such as <code class="literal">7.7.1</code>. In this example, the major release is <code class="literal">7.x.x</code>, the minor release is <code class="literal">7.7.x</code>, and the patch release is <code class="literal">7.7.1</code>. Major releases often require data migration, while minor release upgrades and patch updates are typically managed with update tools provided with the Red Hat Process Automation Manager release artifacts.
			</p><p>
				The following are the general types of releases for Red Hat Process Automation Manager:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Major release migrations</span></dt><dd><p class="simpara">
							Major releases of Red Hat Process Automation Manager include substantial enhancements, security updates, bug fixes, and possibly redesigned features and functions. Data migration is typically required when an application is moved from one major release to another major release, such as from Red Hat JBoss BPM Suite 6.4.x to Red Hat Process Automation Manager 7.0. Automated migration tools are often provided with new major versions of Red Hat Process Automation Manager to facilitate migration, but some manual effort is likely required for certain data and configurations. The supported migration paths are specified in product announcements and documentation.
						</p><p class="simpara">
							For example migration instructions, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.0/html/migrating_from_red_hat_jboss_bpm_suite_6.4_to_red_hat_process_automation_manager_7.0/"><span class="emphasis"><em>Migrating from Red Hat JBoss BPM Suite 6.4 to Red Hat Process Automation Manager 7.0</em></span></a>.
						</p></dd><dt><span class="term">Minor release upgrades</span></dt><dd><p class="simpara">
							Minor releases of Red Hat Process Automation Manager include enhancements, security updates, and bug fixes. Data migration may be required when an application is moved from one minor release to another minor release, such as from Red Hat Process Automation Manager 7.7.x to 7.8. Automated update tools are often provided with both patch updates and new minor versions of Red Hat Process Automation Manager to facilitate updating certain components of Red Hat Process Automation Manager, such as Business Central, KIE Server, and the headless Process Automation Manager controller. Other Red Hat Process Automation Manager artifacts, such as the decision engine and standalone Business Central, are released as new artifacts with each minor release and you must re-install them to apply the update.
						</p><p class="simpara">
							Before you upgrade to a new minor release, apply the latest patch update to your current version of Red Hat Process Automation Manager to ensure that the minor release upgrade is successful.
						</p></dd><dt><span class="term">Patch updates</span></dt><dd><p class="simpara">
							Patch updates of Red Hat Process Automation Manager include the latest security updates and bug fixes. Scheduled patch updates contain all previously released patch updates for that minor version of the product, so you do not need to apply each patch update incrementally in order to apply the latest update. For example, you can update Red Hat Process Automation Manager 7.7.0 or 7.7.1 to Red Hat Process Automation Manager 7.7.2. However, for optimal Red Hat Process Automation Manager performance, apply product updates as they become available. Occasionally, unscheduled patch updates may be released outside the normal update cycle of the existing product. These may include security or other updates provided by Red Hat Global Support Services (GSS) to fix specific issues, and may not be cumulative updates.
						</p><p class="simpara">
							Automated update tools are often provided with both patch updates and new minor versions of Red Hat Process Automation Manager to facilitate updating certain components of Red Hat Process Automation Manager, such as Business Central, KIE Server, and the headless Process Automation Manager controller. Other Red Hat Process Automation Manager artifacts, such as the decision engine and standalone Business Central, are released as new artifacts with each minor release and you must re-install them to apply the update.
						</p></dd></dl></div><p>
				To ensure optimal transition between releases and to keep your Red Hat Process Automation Manager distribution current with the latest enhancements and fixes, apply new product releases and updates to Red Hat Process Automation Manager as they become available in the Red Hat Customer Portal. Consider also enabling product notifications in the Red Hat Customer Portal.
			</p><p>
				For information about enabling product notifications, see <a class="xref" href="#patches-notifications-proc_patching-upgrading" title="Chapter 64. Enabling Red Hat Process Automation Manager notifications in the Red Hat Customer Portal">Chapter 64, <em>Enabling Red Hat Process Automation Manager notifications in the Red Hat Customer Portal</em></a>.
			</p></section><section class="chapter" id="patches-notifications-proc_patching-upgrading"><div class="titlepage"><div><div><h2 class="title">Chapter 64. Enabling Red Hat Process Automation Manager notifications in the Red Hat Customer Portal</h2></div></div></div><p>
				You can enable notifications in the Red Hat Customer Portal to receive Red Hat Process Automation Manager updates and announcements. These notifications inform you of updated or added documentation, product releases, and patch updates related to Red Hat Process Automation Manager. With notifications enabled, you can more readily apply product updates to Red Hat Process Automation Manager as they become available in the Red Hat Customer Portal to keep your Red Hat Process Automation Manager distribution current with the latest enhancements and fixes.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have a Red Hat Customer Portal account and are logged in.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In the top-right corner of the Red Hat Customer Portal window, click your profile name and click <span class="strong strong"><strong>Notifications</strong></span>.
					</li><li class="listitem">
						Select the <span class="strong strong"><strong>Notifications</strong></span> tab and click <span class="strong strong"><strong>Manage Notifications</strong></span>.
					</li><li class="listitem">
						Next to <span class="strong strong"><strong>Follow</strong></span>, select <span class="strong strong"><strong>Products</strong></span> from the drop-down menu, and then select <span class="strong strong"><strong>Red Hat Process Automation Manager</strong></span> from the next drop-down menu that appears.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Save Notification</strong></span> to finish.
					</li></ol></div><p>
				You can add notifications for any other products as needed in the same way.
			</p></section><section class="chapter" id="patches-applying-proc_patching-upgrading"><div class="titlepage"><div><div><h2 class="title">Chapter 65. Applying patch updates and minor release upgrades to Red Hat Process Automation Manager</h2></div></div></div><p>
				Automated update tools are often provided with both patch updates and new minor versions of Red Hat Process Automation Manager to facilitate updating certain components of Red Hat Process Automation Manager, such as Business Central, KIE Server, and the headless Process Automation Manager controller. Other Red Hat Process Automation Manager artifacts, such as the decision engine and standalone Business Central, are released as new artifacts with each minor release and you must re-install them to apply the update.
			</p><p>
				You can use the same automated update tool to apply both patch updates and minor release upgrades to Red Hat Process Automation Manager 7.10. Patch updates of Red Hat Process Automation Manager, such as an update from version 7.10 to 7.10.1, include the latest security updates and bug fixes. Minor release upgrades of Red Hat Process Automation Manager, such as an upgrade from version 7.8.x to 7.9, include enhancements, security updates, and bug fixes.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Only updates for Red Hat Process Automation Manager are included in Red Hat Process Automation Manager update tools. Updates to Red Hat JBoss EAP must be applied using Red Hat JBoss EAP patch distributions. For more information about Red Hat JBoss EAP patching, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.3/html/patching_and_upgrading_guide/"><span class="emphasis"><em>Red Hat JBoss EAP patching and upgrading guide</em></span></a>.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Your Red Hat Process Automation Manager and KIE Server instances are not running. Do not apply updates while you are running an instance of Red Hat Process Automation Manager or KIE Server.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Navigate to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Software Downloads</a> page in the Red Hat Customer Portal (login required), and select the product and version from the drop-down options.
					</p><p class="simpara">
						If you are upgrading to a new minor release of Red Hat Process Automation Manager, such as an upgrade from version 7.8.x to 7.9, first apply the latest patch update to your current version of Red Hat Process Automation Manager and then follow this procedure again to upgrade to the new minor release.
					</p></li><li class="listitem"><p class="simpara">
						Click <span class="strong strong"><strong>Patches</strong></span>, download the <span class="strong strong"><strong>Red Hat Process Automation Manager [VERSION] Update Tool</strong></span>, and extract the downloaded <code class="literal">rhpam-$VERSION-update.zip</code> file to a temporary directory.
					</p><p class="simpara">
						This update tool automates the update of certain components of Red Hat Process Automation Manager, such as Business Central, KIE Server, and the headless Process Automation Manager controller. Use this update tool first to apply updates and then install any other updates or new release artifacts that are relevant to your Red Hat Process Automation Manager distribution.
					</p></li><li class="listitem"><p class="simpara">
						If you want to preserve any files from being updated by the update tool, navigate to the extracted <code class="literal">rhpam-$VERSION-update</code> folder, open the <code class="literal">blacklist.txt</code> file, and add the relative paths to the files that you do not want to be updated.
					</p><p class="simpara">
						When a file is listed in the <code class="literal">blacklist.txt</code> file, the update script does not replace the file with the new version but instead leaves the file in place and in the same location adds the new version with a <code class="literal">.new</code> suffix. If you blacklist files that are no longer being distributed, the update tool creates an empty marker file with a <code class="literal">.removed</code> suffix. You can then choose to retain, merge, or delete these new files manually.
					</p><p class="simpara">
						Example files to be excluded in <code class="literal">blacklist.txt</code> file:
					</p><pre class="screen">WEB-INF/web.xml  // Custom file
styles/base.css  // Obsolete custom file kept for record</pre><p class="simpara">
						The contents of the blacklisted file directories after the update:
					</p><pre class="screen">$ ls WEB-INF
web.xml web.xml.new</pre><pre class="screen">$ ls styles
base.css base.css.removed</pre></li><li class="listitem"><p class="simpara">
						In your command terminal, navigate to the temporary directory where you extracted the <code class="literal">rhpam-$VERSION-update.zip</code> file and run the <code class="literal">apply-updates</code> script in the following format:
					</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							Make sure that your Red Hat Process Automation Manager and KIE Server instances are not running before you apply updates. Do not apply updates while you are running an instance of Red Hat Process Automation Manager or KIE Server.
						</p></div></div><p class="simpara">
						On Linux or Unix-based systems:
					</p><pre class="screen">$ ./apply-updates.sh $DISTRO_PATH $DISTRO_TYPE</pre><p class="simpara">
						On Windows:
					</p><pre class="screen">$ .\apply-updates.bat $DISTRO_PATH $DISTRO_TYPE</pre><p class="simpara">
						The <code class="literal">$DISTRO_PATH</code> portion is the path to the relevant distribution directory and the <code class="literal">$DISTRO_TYPE</code> portion is the type of distribution that you are updating with this update.
					</p><p class="simpara">
						The following distribution types are supported in Red Hat Process Automation Manager update tool:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">rhpam-business-central-eap7-deployable</code>: Updates Business Central (<code class="literal">business-central.war</code>)
							</li><li class="listitem">
								<code class="literal">rhpam-kie-server-ee8</code>: Updates KIE Server (<code class="literal">kie-server.war</code>)
							</li><li class="listitem">
								<code class="literal">rhpam-kie-server-jws</code>: Updates KIE Server on Red Hat JBoss Web Server (<code class="literal">kie-server.war</code>)
							</li><li class="listitem">
								<code class="literal">rhpam-controller-ee7</code>: Updates the headless Process Automation Manager controller (<code class="literal">controller.war</code>)
							</li><li class="listitem"><p class="simpara">
								<code class="literal">rhpam-controller-jws</code>: Updates the headless Process Automation Manager controller on Red Hat JBoss Web Server (<code class="literal">controller.war</code>)
							</p><p class="simpara">
								Example update to Business Central and KIE Server for a full Red Hat Process Automation Manager distribution on Red Hat JBoss EAP:
							</p><pre class="screen">./apply-updates.sh ~EAP_HOME/standalone/deployments/business-central.war rhpam-business-central-eap7-deployable

./apply-updates.sh ~EAP_HOME/standalone/deployments/kie-server.war rhpam-kie-server-ee8</pre><p class="simpara">
								Example update to headless Process Automation Manager controller, if used:
							</p><pre class="screen">./apply-updates.sh ~EAP_HOME/standalone/deployments/controller.war rhpam-controller-ee7</pre><p class="simpara">
								The update script creates a <code class="literal">backup</code> folder in the extracted <code class="literal">rhpam-$VERSION-update</code> folder with a copy of the specified distribution, and then proceeds with the update.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						After the update tool completes, return to the <span class="strong strong"><strong>Software Downloads</strong></span> page of the Red Hat Customer Portal where you downloaded the update tool and install any other updates or new release artifacts that are relevant to your Red Hat Process Automation Manager distribution.
					</p><p class="simpara">
						For files that already exist in your Red Hat Process Automation Manager distribution, such as <code class="literal">.jar</code> files for the decision engine or other add-ons, replace the existing version of the file with the new version from the Red Hat Customer Portal.
					</p></li><li class="listitem"><p class="simpara">
						If you use the standalone <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Maven Repository</strong></span> artifact (<code class="literal">rhpam-7.10.0-maven-repository.zip</code>), such as in air-gap environments, download <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.x Maven Repository</strong></span> and extract the downloaded <code class="literal">rhpam-7.10.x-maven-repository.zip</code> file to your existing <code class="literal">~/maven-repository</code> directory to update the relevant contents.
					</p><p class="simpara">
						Example Maven repository update:
					</p><pre class="screen">$ extract -o rhpam-7.10.x-maven-repository.zip 'rhba-7.10.1.GA-maven-repository/maven-repository/*' -d /tmp/rhbaMavenRepoUpdate

$ mv /tmp/rhbaMavenRepoUpdate/rhba-7.10.0.GA-maven-repository/maven-repository/ $REPO_PATH/</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							You can remove the <code class="literal">/tmp/rhbaMavenRepoUpdate</code> folder after you complete the update.
						</p></div></div></li><li class="listitem">
						After you finish applying all relevant updates, start Red Hat Process Automation Manager and KIE Server and log in to Business Central.
					</li><li class="listitem"><p class="simpara">
						Verify that all project data is present and accurate in Business Central, and in the top-right corner of the Business Central window, click your profile name and click <span class="strong strong"><strong>About</strong></span> to verify the updated product version number.
					</p><p class="simpara">
						If you encounter errors or notice any missing data in Business Central, you can restore the contents in the <code class="literal">backup</code> folder within the <code class="literal">rhpam-$VERSION-update</code> folder to revert the update tool changes. You can also re-install the relevant release artifacts from your previous version of Red Hat Process Automation Manager in the Red Hat Customer Portal. After restoring your previous distribution, you can try again to run the update.
					</p></li></ol></div></section><section class="chapter" id="additional_resources_4"><div class="titlepage"><div><div><h2 class="title">Chapter 66. Additional resources</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.8/html-single/patching_and_upgrading_red_hat_process_automation_manager_7.8/"><span class="emphasis"><em>Patching and upgrading Red Hat Process Automation Manager 7.8</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/release_notes_for_red_hat_process_automation_manager_7.10"><span class="emphasis"><em>Release notes for Red Hat Process Automation Manager 7.10</em></span></a>
					</li></ul></div></section></div><section class="appendix" id="versioning-information"><div class="titlepage"><div><div><h1 class="title">Appendix C. Versioning information</h1></div></div></div><p>
			Documentation last updated on Monday, January 18, 2021.
		</p></section><section class="appendix" id="author-group"><div class="titlepage"><div><div><h1 class="title">Appendix D. Contact information</h1></div></div></div><p>
			Red Hat Process Automation Manager documentation team: <a class="link" href="mailto:brms-docs@redhat.com">brms-docs@redhat.com</a>
		</p></section><div><div xml:lang="en-US" class="legalnotice" id="idm140016265802224"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2021 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>