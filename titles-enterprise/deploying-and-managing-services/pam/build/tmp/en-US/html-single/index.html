<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>Deploying and managing Red Hat Process Automation Manager services</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.6"/><meta name="description" content="This document describes how to deploy and manage your Red Hat Process Automation Manager projects and assets using the Business Central interface or using KIE APIs."/><link rel="next" href="#idm140279520766384" title="Preface"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><div xml:lang="en-US" class="book" id="idm140279510021408"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Process Automation Manager</span> <span class="productnumber">7.10</span></div><div><h1 class="title">Deploying and managing Red Hat Process Automation Manager services</h1></div><div><h2 class="subtitle"/></div><div><a href="#idm140279522202208">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				This document describes how to deploy and manage your Red Hat Process Automation Manager projects and assets using the Business Central interface or using KIE APIs.
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="preface"><a href="#idm140279520766384">Preface</a></span></li><li><span class="preface"><a href="#snip-conscious-language_deploying-and-managing-services">Making open source more inclusive</a></span></li><li><span class="part"><a href="#assembly-packaging-deploying">I. Packaging and deploying a Red Hat Process Automation Manager project</a></span><ul><li><span class="chapter"><a href="#project-packaging-con_packaging-deploying">1. Red Hat Process Automation Manager project packaging</a></span></li><li><span class="chapter"><a href="#project-deployment-central-con_packaging-deploying">2. Project deployment in Business Central</a></span><ul><li><span class="section"><a href="#kie-server-configure-central-proc_packaging-deploying">2.1. Configuring KIE Server to connect to Business Central</a></span></li><li><span class="section"><a href="#configuring-environment-mode-proc_packaging-deploying">2.2. Configuring the environment mode in KIE Server and Business Central</a></span></li><li><span class="section"><a href="#maven-external-configure-proc_packaging-deploying">2.3. Configuring an external Maven repository for Business Central and KIE Server</a></span></li><li><span class="section"><a href="#maven-external-export-proc_packaging-deploying">2.4. Exporting a Business Central project to an external Maven repository</a></span></li><li><span class="section"><a href="#project-build-deploy-central-proc_packaging-deploying">2.5. Building and deploying a project in Business Central</a></span></li><li><span class="section"><a href="#deployment-units-con_packaging-deploying">2.6. Deployment units in Business Central</a></span><ul><li><span class="section"><a href="#deployment-unit-create-proc_packaging-deploying">2.6.1. Creating a deployment unit in Business Central</a></span></li><li><span class="section"><a href="#deployment-unit-manage-proc_packaging-deploying">2.6.2. Starting, stopping, and removing deployment units in Business Central</a></span></li><li><span class="section"><a href="#container-alias-con_packaging-deploying">2.6.3. KIE container aliases</a></span></li></ul></li><li><span class="section"><a href="#project-gav-setting-proc_packaging-deploying">2.7. Editing the GAV values for a project in Business Central</a></span></li><li><span class="section"><a href="#project-duplicate-GAV-con_packaging-deploying">2.8. Duplicate GAV detection in Business Central</a></span><ul><li><span class="section"><a href="#project-duplicate-GAV-manage-proc_packaging-deploying">2.8.1. Managing duplicate GAV detection settings in Business Central</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#project-deployment-other-con_packaging-deploying">3. Project deployment without Business Central</a></span><ul><li><span class="section"><a href="#project-kmodule-configure-proc_packaging-deploying">3.1. Configuring a KIE module descriptor file</a></span><ul><li><span class="section"><a href="#project-kmodule-properties-ref_packaging-deploying">3.1.1. KIE module configuration properties</a></span></li><li><span class="section"><a href="#project-kbase-ref_packaging-deploying">3.1.2. KIE base attributes supported in KIE modules</a></span></li><li><span class="section"><a href="#project-ksession-ref_packaging-deploying">3.1.3. KIE session attributes supported in KIE modules</a></span></li></ul></li><li><span class="section"><a href="#project-build-deploy-maven-proc_packaging-deploying">3.2. Packaging and deploying a Red Hat Process Automation Manager project in Maven</a></span></li><li><span class="section"><a href="#project-build-deploy-java-proc_packaging-deploying">3.3. Packaging and deploying a Red Hat Process Automation Manager project in a Java application</a></span></li><li><span class="section"><a href="#executable-model-con_packaging-deploying">3.4. Executable rule models</a></span><ul><li><span class="section"><a href="#executable-model-modify-proc_packaging-deploying">3.4.1. Modifying or disabling executable rule models in a Red Hat Process Automation Manager project</a></span></li></ul></li><li><span class="section"><a href="#kie-scanner-proc_packaging-deploying">3.5. Using a KIE scanner to monitor and update KIE containers</a></span></li><li><span class="section"><a href="#service-start-proc_packaging-deploying">3.6. Starting a service in KIE Server</a></span></li><li><span class="section"><a href="#service-stop-remove-proc_packaging-deploying">3.7. Stopping and removing a service in KIE Server</a></span></li></ul></li><li><span class="chapter"><a href="#additional_resources">4. Additional resources</a></span></li></ul></li><li><span class="part"><a href="#assembly-managing-projects">II. Managing projects in Business Central</a></span><ul><li><span class="chapter"><a href="#projects-con_managing-projects">5. Red Hat Process Automation Manager projects</a></span></li><li><span class="chapter"><a href="#migrating-from-legacy-designer-proc">6. Migrating business processes to the new process designer</a></span></li><li><span class="chapter"><a href="#mod-projects-overview-con">7. Modifying existing projects in Business Central</a></span></li><li><span class="chapter"><a href="#creating_business_project">8. Creating the mortgage-process project</a></span><ul><li><span class="section"><a href="#mod-sample-project">8.1. Modifying the Mortgage_Process sample project</a></span></li><li><span class="section"><a href="#create_archetype_project">8.2. Creating a project using archetypes</a></span></li></ul></li><li><span class="chapter"><a href="#git-import-project">9. Importing projects from Git repositories</a></span></li><li><span class="chapter"><a href="#revise-project-ver">10. Revising project versions</a></span></li><li><span class="chapter"><a href="#config-project-settings">11. Configuring project settings</a></span></li><li><span class="chapter"><a href="#multiple-branches-con">12. Multiple branches in Business Central</a></span><ul><li><span class="section"><a href="#create-branches-proc">12.1. Creating branches</a></span></li><li><span class="section"><a href="#select-branches-proc">12.2. Selecting branches</a></span></li><li><span class="section"><a href="#delete-branches-proc">12.3. Deleting branches</a></span></li><li><span class="section"><a href="#build-deploy-branches-proc">12.4. Building and deploying projects</a></span></li></ul></li><li><span class="chapter"><a href="#change-requests-con_managing-projects">13. Change requests in Business Central</a></span><ul><li><span class="section"><a href="#creating-change-requests-proc_managing-projects">13.1. Creating change requests</a></span></li><li><span class="section"><a href="#reviewing-change-requests-proc_managing-projects">13.2. Working with change requests</a></span></li></ul></li></ul></li><li><span class="part"><a href="#assembly-managing-assets">III. Managing assets in Business Central</a></span><ul><li><span class="chapter"><a href="#assets_con">14. Asset overview</a></span></li><li><span class="chapter"><a href="#assets_types_ref">15. Types of assets</a></span></li><li><span class="chapter"><a href="#creating_assets_proc_managing-assets">16. Creating assets</a></span></li><li><span class="chapter"><a href="#assets_renaming_proc">17. Renaming, copying, or deleting assets</a></span></li><li><span class="chapter"><a href="#assets_metadata_managing_proc">18. Managing asset metadata and version history</a></span></li><li><span class="chapter"><a href="#assets_filtering_proc">19. Filtering assets by tags</a></span></li><li><span class="chapter"><a href="#assets_unlocking_proc">20. Unlocking assets</a></span></li></ul></li><li><span class="part"><a href="#assembly-kie-apis">IV. Interacting with Red Hat Process Automation Manager using KIE APIs</a></span><ul><li><span class="chapter"><a href="#kie-server-rest-api-con_kie-apis">21. KIE Server REST API for KIE containers and business assets</a></span><ul><li><span class="section"><a href="#kie-server-rest-api-requests-proc_kie-apis">21.1. Sending requests with the KIE Server REST API using a REST client or curl utility</a></span></li><li><span class="section"><a href="#kie-server-rest-api-requests-swagger-proc_kie-apis">21.2. Sending requests with the KIE Server REST API using the Swagger interface</a></span></li><li><span class="section"><a href="#kie-server-rest-api-endpoints-ref_kie-apis">21.3. Supported KIE Server REST API endpoints</a></span></li></ul></li><li><span class="chapter"><a href="#kie-server-java-api-con_kie-apis">22. KIE Server Java client API for KIE containers and business assets</a></span><ul><li><span class="section"><a href="#kie-server-java-api-requests-proc_kie-apis">22.1. Sending requests with the KIE Server Java client API</a></span></li><li><span class="section"><a href="#kie-server-java-clients-ref_kie-apis">22.2. Supported KIE Server Java clients</a></span></li><li><span class="section"><a href="#kie-server-java-api-examples-ref_kie-apis">22.3. Example requests with the KIE Server Java client API</a></span></li></ul></li><li><span class="chapter"><a href="#kie-server-commands-con_kie-apis">23. KIE Server and KIE container commands in Red Hat Process Automation Manager</a></span><ul><li><span class="section"><a href="#kie-server-commands-samples-ref_kie-apis">23.1. Sample KIE Server and KIE container commands</a></span></li></ul></li><li><span class="chapter"><a href="#runtime-commands-con_kie-apis">24. Runtime commands in Red Hat Process Automation Manager</a></span><ul><li><span class="section"><a href="#runtime-commands-samples-ref_kie-apis">24.1. Sample runtime commands in Red Hat Process Automation Manager</a></span></li></ul></li><li><span class="chapter"><a href="#controller-rest-api-con_kie-apis">25. Process Automation Manager controller REST API for KIE Server templates and instances</a></span><ul><li><span class="section"><a href="#controller-rest-api-requests-proc_kie-apis">25.1. Sending requests with the Process Automation Manager controller REST API using a REST client or curl utility</a></span></li><li><span class="section"><a href="#controller-rest-api-requests-swagger-proc_kie-apis">25.2. Sending requests with the Process Automation Manager controller REST API using the Swagger interface</a></span></li><li><span class="section"><a href="#controller-rest-api-endpoints-ref_kie-apis">25.3. Supported Process Automation Manager controller REST API endpoints</a></span></li></ul></li><li><span class="chapter"><a href="#controller-java-api-con_kie-apis">26. Process Automation Manager controller Java client API for KIE Server templates and instances</a></span><ul><li><span class="section"><a href="#controller-java-api-requests-proc_kie-apis">26.1. Sending requests with the Process Automation Manager controller Java client API</a></span></li><li><span class="section"><a href="#controller-java-clients-ref_kie-apis">26.2. Supported Process Automation Manager controller Java clients</a></span></li><li><span class="section"><a href="#controller-java-api-examples-ref_kie-apis">26.3. Example requests with the Process Automation Manager controller Java client API</a></span></li></ul></li><li><span class="chapter"><a href="#bpmn-fluent-api-con_kie-apis">27. BPMN process fluent API for Business Central processes</a></span><ul><li><span class="section"><a href="#example_requests_with_the_bpmn_process_fluent_api">27.1. Example requests with the BPMN process fluent API</a></span></li><li><span class="section"><a href="#example_requests_to_execute_a_business_process">27.2. Example requests to execute a business process</a></span></li></ul></li><li><span class="chapter"><a href="#knowledge-store-rest-api-con_kie-apis">28. Knowledge Store REST API for Business Central spaces and projects</a></span><ul><li><span class="section"><a href="#knowledge-store-rest-api-requests-proc_kie-apis">28.1. Sending requests with the Knowledge Store REST API using a REST client or curl utility</a></span></li><li><span class="section"><a href="#knowledge-store-rest-api-endpoints-ref_kie-apis">28.2. Supported Knowledge Store REST API endpoints</a></span><ul><li><span class="section"><a href="#knowledge-store-rest-api-spaces-ref_kie-apis">28.2.1. Spaces</a></span></li><li><span class="section"><a href="#knowledge-store-rest-api-projects-ref_kie-apis">28.2.2. Projects</a></span></li><li><span class="section"><a href="#knowledge-store-rest-api-jobs-ref_kie-apis">28.2.3. Jobs (API requests)</a></span></li><li><span class="section"><a href="#knowledge-store-rest-api-branches-ref_kie-apis">28.2.4. Branches</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#security-management-rest-api-con_kie-apis">29. Security Management REST API for Business Central groups, roles, and users</a></span><ul><li><span class="section"><a href="#security-management-rest-api-requests-proc_kie-apis">29.1. Sending requests with the Security Management REST API using a REST client or curl utility</a></span></li><li><span class="section"><a href="#security-management-rest-api-endpoints-ref_kie-apis">29.2. Supported Security Management REST API endpoints</a></span><ul><li><span class="section"><a href="#security-management-rest-api-groups-ref_kie-apis">29.2.1. Groups</a></span></li><li><span class="section"><a href="#security-management-rest-api-roles-ref_kie-apis">29.2.2. Roles</a></span></li><li><span class="section"><a href="#security-management-rest-api-users-ref_kie-apis">29.2.3. Users</a></span></li><li><span class="section"><a href="#security-management-rest-api-permissions-ref_kie-apis">29.2.4. Permissions</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#ejb-api-con_kie-apis">30. EJB API for KIE sessions and task services</a></span><ul><li><span class="section"><a href="#ejb-api-services-ref_kie-apis">30.1. Supported EJB services</a></span></li><li><span class="section"><a href="#ejb-api-war-proc_kie-apis">30.2. Deploying an EJB services WAR file</a></span></li></ul></li><li><span class="chapter"><a href="#additional_resources_2">31. Additional resources</a></span></li></ul></li><li><span class="appendix"><a href="#versioning-information">A. Versioning information</a></span></li><li><span class="appendix"><a href="#author-group">B. Contact information</a></span></li></ul></div><section class="preface" id="idm140279520766384"><div class="titlepage"><div><div><h1 class="title">Preface</h1></div></div></div><p>
			As a developer of business decisions and processes , you must deploy a developed Red Hat Process Automation Manager project to a KIE Server in order to begin using the services you have created in Red Hat Process Automation Manager. You can deploy and manage your Red Hat Process Automation Manager projects and assets using the Business Central interface or using KIE APIs.
		</p></section><section class="preface" id="snip-conscious-language_deploying-and-managing-services"><div class="titlepage"><div><div><h1 class="title">Making open source more inclusive</h1></div></div></div><p>
			Red Hat is committed to replacing problematic language in our code, documentation, and web properties. We are beginning with these four terms: master, slave, blacklist, and whitelist. Because of the enormity of this endeavor, these changes will be implemented gradually over several upcoming releases. For more details, see <a class="link" href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language"><span class="emphasis"><em>our CTO Chris Wright’s message</em></span></a>.
		</p></section><div class="part" id="assembly-packaging-deploying"><div class="titlepage"><div><div><h1 class="title">Part I. Packaging and deploying a Red Hat Process Automation Manager project</h1></div></div></div><div class="partintro" id="idm140279523190048"><div/><p>
				As a business rules developer, you must build and deploy a developed Red Hat Process Automation Manager project to a KIE Server in order to begin using the services you have created in Red Hat Process Automation Manager. You can develop and deploy a project from Business Central, from an independent Maven project, from a Java application, or using a combination of various platforms. For example, you can develop a project in Business Central and deploy it using the KIE Server REST API, or develop a project in Maven configured with Business Central and deploy it using Business Central.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The project to be deployed has been developed and tested. For projects in Business Central, consider using test scenarios to test the assets in your project. For example, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/developing_decision_services_in_red_hat_process_automation_manager#assembly-test-scenarios"><span class="emphasis"><em>Testing a decision service using test scenarios</em></span></a>.
					</li></ul></div><div class="toc"><p><strong>Table of Contents</strong></p><ul class="toc"><li><span class="chapter"><a href="#project-packaging-con_packaging-deploying">1. Red Hat Process Automation Manager project packaging</a></span></li><li><span class="chapter"><a href="#project-deployment-central-con_packaging-deploying">2. Project deployment in Business Central</a></span><ul><li><span class="section"><a href="#kie-server-configure-central-proc_packaging-deploying">2.1. Configuring KIE Server to connect to Business Central</a></span></li><li><span class="section"><a href="#configuring-environment-mode-proc_packaging-deploying">2.2. Configuring the environment mode in KIE Server and Business Central</a></span></li><li><span class="section"><a href="#maven-external-configure-proc_packaging-deploying">2.3. Configuring an external Maven repository for Business Central and KIE Server</a></span></li><li><span class="section"><a href="#maven-external-export-proc_packaging-deploying">2.4. Exporting a Business Central project to an external Maven repository</a></span></li><li><span class="section"><a href="#project-build-deploy-central-proc_packaging-deploying">2.5. Building and deploying a project in Business Central</a></span></li><li><span class="section"><a href="#deployment-units-con_packaging-deploying">2.6. Deployment units in Business Central</a></span><ul><li><span class="section"><a href="#deployment-unit-create-proc_packaging-deploying">2.6.1. Creating a deployment unit in Business Central</a></span></li><li><span class="section"><a href="#deployment-unit-manage-proc_packaging-deploying">2.6.2. Starting, stopping, and removing deployment units in Business Central</a></span></li><li><span class="section"><a href="#container-alias-con_packaging-deploying">2.6.3. KIE container aliases</a></span></li></ul></li><li><span class="section"><a href="#project-gav-setting-proc_packaging-deploying">2.7. Editing the GAV values for a project in Business Central</a></span></li><li><span class="section"><a href="#project-duplicate-GAV-con_packaging-deploying">2.8. Duplicate GAV detection in Business Central</a></span><ul><li><span class="section"><a href="#project-duplicate-GAV-manage-proc_packaging-deploying">2.8.1. Managing duplicate GAV detection settings in Business Central</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#project-deployment-other-con_packaging-deploying">3. Project deployment without Business Central</a></span><ul><li><span class="section"><a href="#project-kmodule-configure-proc_packaging-deploying">3.1. Configuring a KIE module descriptor file</a></span><ul><li><span class="section"><a href="#project-kmodule-properties-ref_packaging-deploying">3.1.1. KIE module configuration properties</a></span></li><li><span class="section"><a href="#project-kbase-ref_packaging-deploying">3.1.2. KIE base attributes supported in KIE modules</a></span></li><li><span class="section"><a href="#project-ksession-ref_packaging-deploying">3.1.3. KIE session attributes supported in KIE modules</a></span></li></ul></li><li><span class="section"><a href="#project-build-deploy-maven-proc_packaging-deploying">3.2. Packaging and deploying a Red Hat Process Automation Manager project in Maven</a></span></li><li><span class="section"><a href="#project-build-deploy-java-proc_packaging-deploying">3.3. Packaging and deploying a Red Hat Process Automation Manager project in a Java application</a></span></li><li><span class="section"><a href="#executable-model-con_packaging-deploying">3.4. Executable rule models</a></span><ul><li><span class="section"><a href="#executable-model-modify-proc_packaging-deploying">3.4.1. Modifying or disabling executable rule models in a Red Hat Process Automation Manager project</a></span></li></ul></li><li><span class="section"><a href="#kie-scanner-proc_packaging-deploying">3.5. Using a KIE scanner to monitor and update KIE containers</a></span></li><li><span class="section"><a href="#service-start-proc_packaging-deploying">3.6. Starting a service in KIE Server</a></span></li><li><span class="section"><a href="#service-stop-remove-proc_packaging-deploying">3.7. Stopping and removing a service in KIE Server</a></span></li></ul></li><li><span class="chapter"><a href="#additional_resources">4. Additional resources</a></span></li></ul></div></div><section class="chapter" id="project-packaging-con_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">Chapter 1. Red Hat Process Automation Manager project packaging</h2></div></div></div><p>
				Red Hat Process Automation Manager projects contain the business assets that you develop in Red Hat Process Automation Manager. Each project in Red Hat Process Automation Manager is packaged as a Knowledge JAR (KJAR) file with configuration files such as a Maven project object model file (<code class="literal">pom.xml</code>), which contains build, environment, and other information about the project, and a KIE module descriptor file (<code class="literal">kmodule.xml</code>), which contains the KIE base and KIE session configurations for the assets in the project. You deploy the packaged KJAR file to a KIE Server that runs the decision services, process applications, and other deployable assets (collectively referred to as <span class="emphasis"><em>services</em></span>) from that KJAR file. These services are consumed at run time through an instantiated KIE container, or <span class="emphasis"><em>deployment unit</em></span>. Project KJAR files are stored in a Maven repository and identified by three values: <code class="literal">GroupId</code>, <code class="literal">ArtifactId</code>, and <code class="literal">Version</code> (GAV). The <code class="literal">Version</code> value must be unique for every new version that might need to be deployed. To identify an artifact (including a KJAR file), you need all three GAV values.
			</p><p>
				Projects in Business Central are packaged automatically when you build and deploy the projects. For projects outside of Business Central, such as independent Maven projects or projects within a Java application, you must configure the KIE module descriptor settings in an appended <code class="literal">kmodule.xml</code> file or directly in your Java application in order to build and deploy the projects.
			</p></section><section class="chapter" id="project-deployment-central-con_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">Chapter 2. Project deployment in Business Central</h2></div></div></div><p>
				You can use Business Central to develop your business assets and services and to manage KIE Servers configured for project deployment. When your project is developed, you can build the project in Business Central and deploy it automatically to the KIE Server. To enable automatic deployment, Business Central includes a built-in Maven repository. From Business Central, you can start, stop, or remove the deployment units (KIE containers) that contain the services and their project versions that you have built and deployed.
			</p><p>
				You can also connect several KIE Servers to the same Business Central instance and group them into different server configurations (in <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Deploy</strong></span> → <span class="strong strong"><strong>Execution Servers</strong></span>). Servers belonging to the same server configuration run the same services, but you can deploy different projects or different versions of projects on different configurations.
			</p><p>
				For example, you could have test servers in the <code class="literal">Test</code> configuration and production servers in a <code class="literal">Production</code> configuration. As you develop business assets and services in a project, you deploy the project on the <code class="literal">Test</code> server configuration and then, when a version of the project is sufficiently tested, you can deploy it on the <code class="literal">Production</code> server configuration. In this case, to keep developing the project, change the version in the project settings. Then the new version and the old version are seen as different artifacts in the built-in Maven repository. You can deploy the new version on the <code class="literal">Test</code> server configuration and keep running the old version on the <code class="literal">Production</code> server configuration. This deployment process is simple but has significant limitations. Notably, there is not enough access control: a developer can deploy a project directly into a production environment.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					You cannot move a KIE Server into a different server configuration using Business Central. You must change the configuration file of the server to change the server configuration name for it.
				</p></div></div><section class="section" id="kie-server-configure-central-proc_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">2.1. Configuring KIE Server to connect to Business Central</h2></div></div></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						This section provides a sample setup that you can use for testing purposes. Some of the values are unsuitable for a production environment, and are marked as such.
					</p></div></div><p>
					If a KIE Server is not configured in your Red Hat Process Automation Manager environment, or if you require additional KIE Servers in your Red Hat Process Automation Manager environment, you must configure a KIE Server to connect to Business Central.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you are deploying KIE Server on Red Hat OpenShift Container Platform, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-openshift-operator"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using Operators</em></span></a> document for instructions about configuring it to connect to Business Central.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Business Central and KIE Server are installed in the base directory of the Red Hat JBoss EAP installation (<code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code>).
						</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You must install Business Central and KIE Server on different servers in production environments. In this sample situation, we use only one user named <code class="literal">controllerUser</code>, containing both <code class="literal">rest-all</code> and the <code class="literal">kie-server</code> roles. However, if you install KIE Server and Business Central on the same server, for example in a development environment, make the changes in the shared <code class="literal">standalone-full.xml</code> file as described in this section.
					</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Users with the following roles exist:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									In Business Central, a user with the role <code class="literal">rest-all</code>
								</li><li class="listitem">
									On the KIE Server, a user with the role <code class="literal">kie-server</code>
								</li></ul></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In your Red Hat Process Automation Manager installation directory, navigate to the <code class="literal">standalone-full.xml</code> file. For example, if you use a Red Hat JBoss EAP installation for Red Hat Process Automation Manager, go to <code class="literal">$EAP_HOME/standalone/configuration/standalone-full.xml</code>.
						</li><li class="listitem"><p class="simpara">
							Open the <code class="literal">standalone-full.xml</code> file and under the <code class="literal">&lt;system-properties&gt;</code> tag, set the following JVM properties:
						</p><div class="table" id="idm140279516442512"><p class="title"><strong>Table 2.1. JVM Properties for the KIE Server instance</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"/><col style="width: 33%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140279516436720" scope="col">Property</th><th align="left" valign="top" id="idm140279524692576" scope="col">Value</th><th align="left" valign="top" id="idm140279524691488" scope="col">Note</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140279516436720">
										<p>
											<code class="literal">org.kie.server.id</code>
										</p>
										</td><td align="left" valign="top" headers="idm140279524692576">
										<p>
											<code class="literal">default-kie-server</code>
										</p>
										</td><td align="left" valign="top" headers="idm140279524691488">
										<p>
											The KIE Server ID.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140279516436720">
										<p>
											<code class="literal">org.kie.server.controller</code>
										</p>
										</td><td align="left" valign="top" headers="idm140279524692576">
										<p>
											<code class="literal">http://localhost:8080/business-central/rest/controller</code>
										</p>
										</td><td align="left" valign="top" headers="idm140279524691488">
										<p>
											The location of Business Central. The URL for connecting to the API of Business Central.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140279516436720">
										<p>
											<code class="literal">org.kie.server.controller.user</code>
										</p>
										</td><td align="left" valign="top" headers="idm140279524692576">
										<p>
											<code class="literal">controllerUser</code>
										</p>
										</td><td align="left" valign="top" headers="idm140279524691488">
										<p>
											The user name with the role <code class="literal">rest-all</code> who can log in to the Business Central.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140279516436720">
										<p>
											<code class="literal">org.kie.server.controller.pwd</code>
										</p>
										</td><td align="left" valign="top" headers="idm140279524692576">
										<p>
											<code class="literal">controllerUser1234;</code>
										</p>
										</td><td align="left" valign="top" headers="idm140279524691488">
										<p>
											The password of the user who can log in to the Business Central.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140279516436720">
										<p>
											<code class="literal">org.kie.server.location</code>
										</p>
										</td><td align="left" valign="top" headers="idm140279524692576">
										<p>
											<code class="literal">http://localhost:8080/kie-server/services/rest/server</code>
										</p>
										</td><td align="left" valign="top" headers="idm140279524691488">
										<p>
											The location of the KIE Server. The URL for connecting to the API of KIE Server.
										</p>
										</td></tr></tbody></table></div></div><div class="table" id="idm140279521561456"><p class="title"><strong>Table 2.2. JVM Properties for the Business Central instance</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"/><col style="width: 33%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140279522708048" scope="col">Property</th><th align="left" valign="top" id="idm140279522706960" scope="col">Value</th><th align="left" valign="top" id="idm140279522705872" scope="col">Note</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140279522708048">
										<p>
											<code class="literal">org.kie.server.user</code>
										</p>
										</td><td align="left" valign="top" headers="idm140279522706960">
										<p>
											<code class="literal">controllerUser</code>
										</p>
										</td><td align="left" valign="top" headers="idm140279522705872">
										<p>
											The user name with the role <code class="literal">kie-server</code>.
										</p>
										</td></tr><tr><td align="left" valign="top" headers="idm140279522708048">
										<p>
											<code class="literal">org.kie.server.pwd</code>
										</p>
										</td><td align="left" valign="top" headers="idm140279522706960">
										<p>
											<code class="literal">controllerUser1234;</code>
										</p>
										</td><td align="left" valign="top" headers="idm140279522705872">
										<p>
											The password of the user.
										</p>
										</td></tr></tbody></table></div></div><p class="simpara">
							The following example shows how to configure a KIE Server instance:
						</p><pre class="programlisting language-xml">&lt;property name="org.kie.server.id" value="default-kie-server"/&gt;
&lt;property name="org.kie.server.controller" value="http://localhost:8080/business-central/rest/controller"/&gt;
&lt;property name="org.kie.server.controller.user" value="controllerUser"/&gt;
&lt;property name="org.kie.server.controller.pwd" value="controllerUser1234;"/&gt;
&lt;property name="org.kie.server.location" value="http://localhost:8080/kie-server/services/rest/server"/&gt;</pre><p class="simpara">
							The following example shows how to configure a for Business Central instance:
						</p><pre class="programlisting language-xml">&lt;property name="org.kie.server.user" value="controllerUser"/&gt;
&lt;property name="org.kie.server.pwd" value="controllerUser1234;"/&gt;</pre></li><li class="listitem"><p class="simpara">
							Send a GET request to <code class="literal">http://<span class="emphasis"><em>SERVER:PORT</em></span>/kie-server/services/rest/server/</code> to verify that KIE Server started successfully. After authentication, you receive an XML response similar to the following example:
						</p><pre class="programlisting language-xml">&lt;response type="SUCCESS" msg="Kie Server info"&gt;
    &lt;kie-server-info&gt;
        &lt;capabilities&gt;KieServer&lt;/capabilities&gt;
        &lt;capabilities&gt;BRM&lt;/capabilities&gt;
        &lt;capabilities&gt;BPM&lt;/capabilities&gt;
        &lt;capabilities&gt;CaseMgmt&lt;/capabilities&gt;
        &lt;capabilities&gt;BPM-UI&lt;/capabilities&gt;
        &lt;capabilities&gt;BRP&lt;/capabilities&gt;
        &lt;capabilities&gt;DMN&lt;/capabilities&gt;
        &lt;capabilities&gt;Swagger&lt;/capabilities&gt;
        &lt;location&gt;http://localhost:8230/kie-server/services/rest/server&lt;/location&gt;
        &lt;messages&gt;
            &lt;content&gt;Server KieServerInfo{serverId='first-kie-server', version='7.5.1.Final-redhat-1', location='http://localhost:8230/kie-server/services/rest/server', capabilities=[KieServer, BRM, BPM, CaseMgmt, BPM-UI, BRP, DMN, Swagger]}started successfully at Mon Feb 05 15:44:35 AEST 2018&lt;/content&gt;
            &lt;severity&gt;INFO&lt;/severity&gt;
            &lt;timestamp&gt;2018-02-05T15:44:35.355+10:00&lt;/timestamp&gt;
        &lt;/messages&gt;
        &lt;name&gt;first-kie-server&lt;/name&gt;
        &lt;id&gt;first-kie-server&lt;/id&gt;
        &lt;version&gt;7.5.1.Final-redhat-1&lt;/version&gt;
    &lt;/kie-server-info&gt;
&lt;/response&gt;</pre></li><li class="listitem"><p class="simpara">
							Verify successful registration:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Log in to Business Central.
								</li><li class="listitem"><p class="simpara">
									Click <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Deploy</strong></span> → <span class="strong strong"><strong>Execution Servers</strong></span>.
								</p><p class="simpara">
									If registration is successful, you will see the registered server ID.
								</p></li></ol></div></li></ol></div></section><section class="section" id="configuring-environment-mode-proc_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">2.2. Configuring the environment mode in KIE Server and Business Central</h2></div></div></div><p>
					You can set KIE Server to run in <code class="literal">production</code> mode or in <code class="literal">development</code> mode. Development mode provides a flexible deployment policy that enables you to update existing deployment units (KIE containers) while maintaining active process instances for small changes. It also enables you to reset the deployment unit state before updating active process instances for larger changes. Production mode is optimal for production environments, where each deployment creates a new deployment unit.
				</p><p>
					In a development environment, you can click <span class="strong strong"><strong>Deploy</strong></span> in Business Central to deploy the built KJAR file to a KIE Server without stopping any running instances (if applicable), or click <span class="strong strong"><strong>Redeploy</strong></span> to deploy the built KJAR file and replace all instances. The next time you deploy or redeploy the built KJAR, the previous deployment unit (KIE container) is automatically updated in the same target KIE Server.
				</p><p>
					In a production environment, the <span class="strong strong"><strong>Redeploy</strong></span> option in Business Central is disabled and you can click only <span class="strong strong"><strong>Deploy</strong></span> to deploy the built KJAR file to a new deployment unit (KIE container) on a KIE Server.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							To configure the KIE Server environment mode, set the <code class="literal">org.kie.server.mode</code> system property to <code class="literal">org.kie.server.mode=development</code> or <code class="literal">org.kie.server.mode=production</code>.
						</li><li class="listitem"><p class="simpara">
							To configure the deployment behavior for a project in Business Central, go to project <span class="strong strong"><strong>Settings</strong></span> → <span class="strong strong"><strong>General Settings</strong></span> → <span class="strong strong"><strong>Version</strong></span> and toggle the <span class="strong strong"><strong>Development Mode</strong></span> option.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								By default, KIE Server and all new projects in Business Central are in development mode.
							</p></div></div><p class="simpara">
							You cannot deploy a project with <span class="strong strong"><strong>Development Mode</strong></span> turned on or with a manually added <code class="literal">SNAPSHOT</code> version suffix to a KIE Server that is in production mode.
						</p></li></ol></div></section><section class="section" id="maven-external-configure-proc_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">2.3. Configuring an external Maven repository for Business Central and KIE Server</h2></div></div></div><p>
					You can configure Business Central and KIE Server to use an external Maven repository, such as Nexus or Artifactory, instead of the built-in repository. This enables Business Central and KIE Server to access and download artifacts that are maintained in the external Maven repository.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Artifacts in the repository do not receive automated security patches because Maven requires that artifacts be immutable. As a result, artifacts that are missing patches for known security flaws will remain in the repository to avoid breaking builds that depend on them. The version numbers of patched artifacts are incremented. For more information, see <a class="link" href="https://access.redhat.com/maven-repository">JBoss Enterprise Maven Repository</a>.
					</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						For information about configuring an external Maven repository for an authoring environment on Red Hat OpenShift Container Platform, see the following documents:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#operator-deploy-central-proc_openshift-operator"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using Operators</em></span></a>
							</li><li class="listitem">
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-openshift-templates"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using templates</em></span></a>
							</li></ul></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Business Central and KIE Server are installed. For installation options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Create a Maven <code class="literal">settings.xml</code> file with connection and access details for your external repository. For details about the <code class="literal">settings.xml</code> file, see the Maven <a class="link" href="https://maven.apache.org/settings.html">Settings Reference</a>.
						</li><li class="listitem">
							Save the file in a known location, for example, <code class="literal">/opt/custom-config/settings.xml</code>.
						</li><li class="listitem">
							In your Red Hat Process Automation Manager installation directory, navigate to the <code class="literal">standalone-full.xml</code> file. For example, if you use a Red Hat JBoss EAP installation for Red Hat Process Automation Manager, go to <code class="literal">$EAP_HOME/standalone/configuration/standalone-full.xml</code>.
						</li><li class="listitem"><p class="simpara">
							Open <code class="literal">standalone-full.xml</code> and under the <code class="literal">&lt;system-properties&gt;</code> tag, set the <code class="literal">kie.maven.settings.custom</code> property to the full path name of the <code class="literal">settings.xml</code> file.
						</p><p class="simpara">
							For example:
						</p><pre class="programlisting language-xml">&lt;property name="kie.maven.settings.custom" value="/opt/custom-config/settings.xml"/&gt;</pre></li><li class="listitem">
							Start or restart Business Central and KIE Server.
						</li></ol></div><div class="formalpara"><p class="title"><strong>Next steps</strong></p><p>
						For each Business Central project that you want to export or push as a KJAR artifact to the external Maven repository, you must add the repository information in the project <code class="literal">pom.xml</code> file. For instructions, see <a class="xref" href="#maven-external-export-proc_packaging-deploying" title="2.4. Exporting a Business Central project to an external Maven repository">Section 2.4, “Exporting a Business Central project to an external Maven repository”</a>.
					</p></div></section><section class="section" id="maven-external-export-proc_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">2.4. Exporting a Business Central project to an external Maven repository</h2></div></div></div><p>
					If you configured an external Maven repository for Business Central and KIE Server, you must add the repository information in the <code class="literal">pom.xml</code> file for each Business Central project that you want to export or push as a KJAR artifact to that external repository. You can then progress the project KJAR files through the repository as necessary to implement your integration process, and deploy the KJAR files using Business Central or the KIE Server REST API.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							You configured Business Central and KIE Server to use an external Maven repository. If you deployed Business Central on-premise, for more information about configuring an external Maven repository, see <a class="xref" href="#maven-external-configure-proc_packaging-deploying" title="2.3. Configuring an external Maven repository for Business Central and KIE Server">Section 2.3, “Configuring an external Maven repository for Business Central and KIE Server”</a>. If you deployed your authoring environment on Red Hat OpenShift Container Platform, for more information, see the following documents:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#operator-deploy-kieserver-proc_openshift-operator"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using Operators</em></span></a>
								</li><li class="listitem">
									<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-openshift-templates"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using templates</em></span></a>
								</li></ul></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span>, click the project name, and select any asset in the project.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Project Explorer</strong></span> menu on the left side of the screen, click the <span class="strong strong"><strong>Customize View</strong></span> gear icon and select <span class="strong strong"><strong>Repository View</strong></span> → <span class="strong strong"><strong>pom.xml</strong></span>.
						</li><li class="listitem"><p class="simpara">
							Add the following settings at the end of the project <code class="literal">pom.xml</code> file (before the <code class="literal">&lt;/project&gt;</code> closing tag). The values must correspond to the settings that you defined in your <code class="literal">settings.xml</code> file.
						</p><pre class="programlisting language-xml">&lt;distributionManagement&gt;
&lt;repository&gt;
&lt;id&gt;${maven-repo-id}&lt;/id&gt;
&lt;url&gt;${maven-repo-url}&lt;/url&gt;
&lt;layout&gt;default&lt;/layout&gt;
&lt;/repository&gt;
&lt;/distributionManagement&gt;</pre></li><li class="listitem">
							Click <span class="strong strong"><strong>Save</strong></span> to save the <code class="literal">pom.xml</code> file changes.
						</li></ol></div><p>
					Repeat this procedure for each Business Central project that you want to export or push as a KJAR artifact to the external Maven repository.
				</p></section><section class="section" id="project-build-deploy-central-proc_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">2.5. Building and deploying a project in Business Central</h2></div></div></div><p>
					After your project is developed, you can build the project in Business Central and deploy it to the configured KIE Server. Projects in Business Central are packaged automatically as KJARs with all necessary components when you build and deploy the projects.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span> and click the project name.
						</li><li class="listitem"><p class="simpara">
							In the upper-right corner, click <span class="strong strong"><strong>Deploy</strong></span> to build the project and deploy it to a KIE Server. To compile the project without deploying it to KIE Server, click <span class="strong strong"><strong>Build</strong></span>.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								You can also select the <span class="strong strong"><strong>Build &amp; Install</strong></span> option to build the project and publish the KJAR file to the configured Maven repository without deploying to a KIE Server. In a development environment, you can click <span class="strong strong"><strong>Deploy</strong></span> to deploy the built KJAR file to a KIE Server without stopping any running instances (if applicable), or click <span class="strong strong"><strong>Redeploy</strong></span> to deploy the built KJAR file and replace all instances. The next time you deploy or redeploy the built KJAR, the previous deployment unit (KIE container) is automatically updated in the same target KIE Server. In a production environment, the <span class="strong strong"><strong>Redeploy</strong></span> option is disabled and you can click <span class="strong strong"><strong>Deploy</strong></span> only to deploy the built KJAR file to a new deployment unit (KIE container) on a KIE Server.
							</p><p>
								To configure the KIE Server environment mode, set the <code class="literal">org.kie.server.mode</code> system property to <code class="literal">org.kie.server.mode=development</code> or <code class="literal">org.kie.server.mode=production</code>. To configure the deployment behavior for a corresponding project in Business Central, go to project <span class="strong strong"><strong>Settings</strong></span> → <span class="strong strong"><strong>General Settings</strong></span> → <span class="strong strong"><strong>Version</strong></span> and toggle the <span class="strong strong"><strong>Development Mode</strong></span> option. By default, KIE Server and all new projects in Business Central are in development mode. You cannot deploy a project with <span class="strong strong"><strong>Development Mode</strong></span> turned on or with a manually added <code class="literal">SNAPSHOT</code> version suffix to a KIE Server that is in production mode.
							</p></div></div><p class="simpara">
							If only one KIE Server is connected to Business Central, or if all connected KIE Servers are in the same server configuration, the services in the project are started automatically in a deployment unit (KIE container).
						</p><p class="simpara">
							If multiple server configurations are available, a deployment dialog is displayed in Business Central, prompting you to specify server and deployment details.
						</p></li><li class="listitem"><p class="simpara">
							If the deployment dialog appears, verify or set the following values:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Deployment Unit Id / Deployment Unit Alias:</strong></span> Verify the name and alias of the deployment unit (KIE container) running the service within the KIE Server. You normally do not need to change these settings. For more information about KIE container aliases, see <a class="xref" href="#container-alias-con_packaging-deploying" title="2.6.3. KIE container aliases">Section 2.6.3, “KIE container aliases”</a>.
								</li><li class="listitem">
									<span class="strong strong"><strong>Server Configuration:</strong></span> Select the server configuration for deploying this project. You can later deploy it to other configured servers without rebuilding the project.
								</li><li class="listitem">
									<span class="strong strong"><strong>Start Deployment Unit?:</strong></span> Verify that this box is selected to start the deployment unit (KIE container). If you clear this box, the service is deployed onto the server but not started.
								</li></ul></div><p class="simpara">
							To review project deployment details, click <span class="strong strong"><strong>View deployment details</strong></span> in the deployment banner at the top of the screen or in the <span class="strong strong"><strong>Deploy</strong></span> drop-down menu. This option directs you to the <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Deploy</strong></span> → <span class="strong strong"><strong>Execution Servers</strong></span> page.
						</p></li></ol></div></section><section class="section" id="deployment-units-con_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">2.6. Deployment units in Business Central</h2></div></div></div><p>
					The services in a project are consumed at run time through an instantiated KIE container, or <span class="emphasis"><em>deployment unit</em></span>, on a configured KIE Server. When you build and deploy a project in Business Central, the deployment unit is created automatically in the configured server. You can start, stop, or remove deployment units in Business Central as needed. You can also create additional deployment units from previously built projects and start them on existing or new KIE Servers configured in Business Central.
				</p><section class="section" id="deployment-unit-create-proc_packaging-deploying"><div class="titlepage"><div><div><h3 class="title">2.6.1. Creating a deployment unit in Business Central</h3></div></div></div><p>
						One or more deployment units should already exist as part of your Red Hat Process Automation Manager configuration, but if not, you can create a deployment unit from a project that was previously built in Business Central.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								The project for which you are creating the new deployment unit has been built in Business Central.
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Deploy</strong></span> → <span class="strong strong"><strong>Execution servers</strong></span>.
							</li><li class="listitem">
								Under <span class="strong strong"><strong>Server Configurations</strong></span>, select an existing configuration or click <span class="strong strong"><strong>New Server Configuration</strong></span> to create a configuration.
							</li><li class="listitem">
								Under <span class="strong strong"><strong>Deployment Units</strong></span>, click <span class="strong strong"><strong>Add Deployment Unit</strong></span>.
							</li><li class="listitem">
								Add an alias in the <span class="strong strong"><strong>Alias</strong></span> field if required.
							</li><li class="listitem">
								In the table within the window, select a GAV and click <span class="strong strong"><strong>Select</strong></span> next to the GAV to populate the deployment unit data fields.
							</li><li class="listitem">
								Select the <span class="strong strong"><strong>Start Deployment Unit?</strong></span> box to start the service immediately, or clear the box to start it later.
							</li><li class="listitem"><p class="simpara">
								Click <span class="strong strong"><strong>Finish</strong></span>.
							</p><p class="simpara">
								The new deployment unit for the service is created and placed on the KIE Servers that are configured for this server configuration. If you have selected <span class="strong strong"><strong>Start Deployment Unit?</strong></span>, the service is started.
							</p></li></ol></div></section><section class="section" id="deployment-unit-manage-proc_packaging-deploying"><div class="titlepage"><div><div><h3 class="title">2.6.2. Starting, stopping, and removing deployment units in Business Central</h3></div></div></div><p>
						When a deployment unit is started, the services in the deployment unit are available for use. If only one KIE Server is connected to Business Central, or if all connected KIE Servers are in the same server configuration, services are started in a deployment unit automatically when a project is deployed. If multiple server configurations are available, you are prompted upon deployment to specify server and deployment details and to start the deployment unit. However, at any time you can manually start, stop, or remove deployment units in Business Central to manage your deployed services as needed.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Deploy</strong></span> → <span class="strong strong"><strong>Execution servers</strong></span>.
							</li><li class="listitem">
								Under <span class="strong strong"><strong>Server Configurations</strong></span>, select a configuration.
							</li><li class="listitem">
								Under <span class="strong strong"><strong>Deployment Units</strong></span>, select a deployment unit.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Start</strong></span>, <span class="strong strong"><strong>Stop</strong></span>, or <span class="strong strong"><strong>Remove</strong></span> in the upper-right corner. To remove a running deployment unit, stop it and then remove it.
							</li></ol></div></section><section class="section" id="container-alias-con_packaging-deploying"><div class="titlepage"><div><div><h3 class="title">2.6.3. KIE container aliases</h3></div></div></div><p>
						An alias for a KIE container (deployment unit) is a proxy in the KIE Server instance that helps in handling different versions of the same container deployment. You can link a single alias to different versions of a container. When a container is upgraded, the linked alias automatically points to the new version of the container. For information about creating a KIE container alias, see <a class="xref" href="#deployment-unit-create-proc_packaging-deploying" title="2.6.1. Creating a deployment unit in Business Central">Section 2.6.1, “Creating a deployment unit in Business Central”</a>.
					</p><p>
						For example, if a client application is changing every time a new version of a container is deployed, then the client application can point to the container alias. When a new container version is deployed, the associated alias is updated and all the requests are routed automatically to the new container without changing the client application.
					</p><p>
						Consider an example project that contains a single process and uses the following properties:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">GroupId</code>: org.jbpm
							</li><li class="listitem">
								<code class="literal">ArtifactId</code>: my-project
							</li><li class="listitem">
								<code class="literal">Version</code>: 1.0
							</li><li class="listitem">
								<code class="literal">containerID</code>: my-project
							</li></ul></div><p>
						When you update, build, and deploy the above project, the associated project is updated in the KIE Server with the latest version and contains the following properties:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">GroupId</code>: org.jbpm
							</li><li class="listitem">
								<code class="literal">ArtifactId</code>: my-project
							</li><li class="listitem">
								<code class="literal">Version</code>: 2.0
							</li></ul></div><p>
						If you want to deploy the latest version of the project, you need to update the <code class="literal">containerID</code> as <code class="literal">my-project2</code> because the <code class="literal">my-project</code> container points to the old version.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Every project version contains a different <code class="literal">containerID</code> name. The associated client applications need to be aware of all versions of the projects they interact with.
						</p></div></div><p>
						Container aliases also help you manage KIE containers. You can set the container aliases explicitly when creating a container, or implicitly based on the associated <code class="literal">ArtifactId</code> name. You can add a single alias to multiple containers if required. If you do not specify a container alias, then the <code class="literal">ArtifactId</code> of a project is set as the container alias by default.
					</p><p>
						When you set an alias for multiple containers that contain different <code class="literal">GroupId</code> and <code class="literal">ArtifactId</code> names, then you can use the same alias every time to interact with the KIE Server.
					</p><p>
						You typically use container aliases in the following use cases:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="strong strong"><strong>Starting a new process instance</strong></span> on the client application with the latest version of the process
							</li><li class="listitem">
								<span class="strong strong"><strong>Interacting with an existing process</strong></span> of a specific version
							</li><li class="listitem">
								<span class="strong strong"><strong>Interacting with an existing task</strong></span> in a process
							</li><li class="listitem">
								<span class="strong strong"><strong>Interacting with a process definition</strong></span> image and form
							</li></ul></div><p>
						For example, after you deploy the 1.0 version of a project, you send a POST request to the following KIE Server REST API endpoint to start the process in the project:
					</p><p>
						<code class="literal">/http://localhost:8230/kie-server/services/rest/server/containers/my-project/processes/evaluation/instances</code>
					</p><p>
						The sent request starts a new process instance from <code class="literal">org.jbpm:my-project:1.0</code> in which <code class="literal">my-project</code> is defined as the container alias. Later, when you deploy the 2.0 version of the project and send the same request, a new instance starts from <code class="literal">org.jbpm:my-project:2.0</code>. You can deploy the latest version of the process without adding the <code class="literal">containerID</code> name.
					</p></section></section><section class="section" id="project-gav-setting-proc_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">2.7. Editing the GAV values for a project in Business Central</h2></div></div></div><p>
					The <code class="literal">GroupId</code>, <code class="literal">ArtifactId</code>, and <code class="literal">Version</code> (GAV) values identify a project in a Maven repository. When Business Central and KIE Server are on the same file system and use the same Maven repository, the project is automatically updated in the repository each time you build a new version of your project. However, if Business Central and KIE Server are on separate file systems and use separate local Maven repositories, you must update a project GAV value, usually the version, for any new versions of the project to ensure that the project is seen as a different artifact alongside the old version.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						For development purposes only, you can toggle the <span class="strong strong"><strong>Development Mode</strong></span> option in project <span class="strong strong"><strong>Settings</strong></span> → <span class="strong strong"><strong>General Settings</strong></span> → <span class="strong strong"><strong>Version</strong></span> to add the <code class="literal">SNAPSHOT</code> suffix in the project version. This suffix instructs Maven to get a new snapshot update according to the Maven policy. Do not use <span class="strong strong"><strong>Development Mode</strong></span> or manually add the <code class="literal">SNAPSHOT</code> version suffix for a production environment.
					</p></div></div><p>
					You can set the GAV values in the project <span class="strong strong"><strong>Settings</strong></span> screen.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span> and click the project name.
						</li><li class="listitem">
							Click the project <span class="strong strong"><strong>Settings</strong></span> tab.
						</li><li class="listitem"><p class="simpara">
							In <span class="strong strong"><strong>General Settings</strong></span>, modify the <span class="strong strong"><strong>Group ID</strong></span>, <span class="strong strong"><strong>Artifact ID</strong></span>, or <span class="strong strong"><strong>Version</strong></span> fields as necessary. If you have deployed the project and are developing a new version, usually you need to increase the version number.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								For development purposes only, you can toggle the <span class="strong strong"><strong>Development Mode</strong></span> option in project <span class="strong strong"><strong>Settings</strong></span> → <span class="strong strong"><strong>General Settings</strong></span> → <span class="strong strong"><strong>Version</strong></span> to add the <code class="literal">SNAPSHOT</code> suffix in the project version. This suffix instructs Maven to get a new snapshot update according to the Maven policy. Do not use <span class="strong strong"><strong>Development Mode</strong></span> or manually add the <code class="literal">SNAPSHOT</code> version suffix for a production environment.
							</p></div></div></li><li class="listitem">
							Click <span class="strong strong"><strong>Save</strong></span> to finish.
						</li></ol></div></section><section class="section" id="project-duplicate-GAV-con_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">2.8. Duplicate GAV detection in Business Central</h2></div></div></div><p>
					In Business Central, all Maven repositories are checked for any duplicated <code class="literal">GroupId</code>, <code class="literal">ArtifactId</code>, and <code class="literal">Version</code> (GAV) values in a project. If a GAV duplicate exists, the performed operation is canceled.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Duplicate GAV detection is disabled for projects in <span class="strong strong"><strong>Development Mode</strong></span>. To enable duplicate GAV detection in Business Central, go to project <span class="strong strong"><strong>Settings</strong></span> → <span class="strong strong"><strong>General Settings</strong></span> → <span class="strong strong"><strong>Version</strong></span> and toggle the <span class="strong strong"><strong>Development Mode</strong></span> option to <span class="strong strong"><strong>OFF</strong></span> (if applicable).
					</p></div></div><p>
					Duplicate GAV detection is executed every time you perform the following operations:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Save a project definition for the project.
						</li><li class="listitem">
							Save the <code class="literal">pom.xml</code> file.
						</li><li class="listitem">
							Install, build, or deploy a project.
						</li></ul></div><p>
					The following Maven repositories are checked for duplicate GAVs:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Repositories specified in the <code class="literal">&lt;repositories&gt;</code> and <code class="literal">&lt;distributionManagement&gt;</code> elements of the <code class="literal">pom.xml</code> file.
						</li><li class="listitem">
							Repositories specified in the Maven <code class="literal">settings.xml</code> configuration file.
						</li></ul></div><section class="section" id="project-duplicate-GAV-manage-proc_packaging-deploying"><div class="titlepage"><div><div><h3 class="title">2.8.1. Managing duplicate GAV detection settings in Business Central</h3></div></div></div><p>
						Business Central users with the <code class="literal">admin</code> role can modify the list of repositories that are checked for duplicate <code class="literal">GroupId</code>, <code class="literal">ArtifactId</code>, and <code class="literal">Version</code> (GAV) values for a project.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Duplicate GAV detection is disabled for projects in <span class="strong strong"><strong>Development Mode</strong></span>. To enable duplicate GAV detection in Business Central, go to project <span class="strong strong"><strong>Settings</strong></span> → <span class="strong strong"><strong>General Settings</strong></span> → <span class="strong strong"><strong>Version</strong></span> and toggle the <span class="strong strong"><strong>Development Mode</strong></span> option to <span class="strong strong"><strong>OFF</strong></span> (if applicable).
						</p></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span> and click the project name.
							</li><li class="listitem">
								Click the project <span class="strong strong"><strong>Settings</strong></span> tab and then click <span class="strong strong"><strong>Validation</strong></span> to open the list of repositories.
							</li><li class="listitem"><p class="simpara">
								Select or clear any of the listed repository options to enable or disable duplicate GAV detection.
							</p><p class="simpara">
								In the future, duplicate GAVs will be reported for only the repositories you have enabled for validation.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									To disable this feature, set the <code class="literal">org.guvnor.project.gav.check.disabled</code> system property to <code class="literal">true</code> for Business Central at system startup:
								</p><pre class="screen">$ ~/EAP_HOME/bin/standalone.sh -c standalone-full.xml
-Dorg.guvnor.project.gav.check.disabled=true</pre></div></div></li></ol></div></section></section></section><section class="chapter" id="project-deployment-other-con_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">Chapter 3. Project deployment without Business Central</h2></div></div></div><p>
				As an alternative to developing and deploying projects in the Business Central interface, you can use independent Maven projects or your own Java applications to develop Red Hat Process Automation Manager projects and deploy them in KIE containers (deployment units) to a configured KIE Server. You can then use the KIE Server REST API to start, stop, or remove the KIE containers that contain the services and their project versions that you have built and deployed. This flexibility enables you to continue to use your existing application workflow to develop business assets using Red Hat Process Automation Manager features.
			</p><p>
				Projects in Business Central are packaged automatically when you build and deploy the projects. For projects outside of Business Central, such as independent Maven projects or projects within a Java application, you must configure the KIE module descriptor settings in an appended <code class="literal">kmodule.xml</code> file or directly in your Java application in order to build and deploy the projects.
			</p><section class="section" id="project-kmodule-configure-proc_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">3.1. Configuring a KIE module descriptor file</h2></div></div></div><p>
					A KIE module is a Maven project or module with an additional metadata file <code class="literal">META-INF/kmodule.xml</code>. All Red Hat Process Automation Manager projects require a <code class="literal">kmodule.xml</code> file in order to be properly packaged and deployed. This <code class="literal">kmodule.xml</code> file is a KIE module descriptor that defines the KIE base and KIE session configurations for the assets in a project. A KIE base is a repository that contains all rules, processes, and other business assets in Red Hat Process Automation Manager but does not contain any runtime data. A KIE session stores and executes runtime data and is created from a KIE base or directly from a KIE container if you have defined the KIE session in the <code class="literal">kmodule.xml</code> file.
				</p><p>
					If you create projects outside of Business Central, such as independent Maven projects or projects within a Java application, you must configure the KIE module descriptor settings in an appended <code class="literal">kmodule.xml</code> file or directly in your Java application in order to build and deploy the projects.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In the <code class="literal">~/resources/META-INF</code> directory of your project, create a <code class="literal">kmodule.xml</code> metadata file with at least the following content:
						</p><pre class="programlisting language-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;kmodule xmlns="http://www.drools.org/xsd/kmodule"&gt;
&lt;/kmodule&gt;</pre><p class="simpara">
							This empty <code class="literal">kmodule.xml</code> file is sufficient to produce a single default KIE base that includes all files found under your project <code class="literal">resources</code> path. The default KIE base also includes a single default KIE session that is triggered when you create a KIE container in your application at build time.
						</p><p class="simpara">
							The following example is a more advanced <code class="literal">kmodule.xml</code> file:
						</p><pre class="programlisting language-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;kmodule xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.drools.org/xsd/kmodule"&gt;
  &lt;configuration&gt;
      &lt;property key="drools.evaluator.supersetOf" value="org.mycompany.SupersetOfEvaluatorDefinition"/&gt;
  &lt;/configuration&gt;
  &lt;kbase name="KBase1" default="true" eventProcessingMode="cloud" equalsBehavior="equality" declarativeAgenda="enabled" packages="org.domain.pkg1"&gt;
    &lt;ksession name="KSession1_1" type="stateful" default="true" /&gt;
    &lt;ksession name="KSession1_2" type="stateful" default="true" beliefSystem="jtms" /&gt;
  &lt;/kbase&gt;
  &lt;kbase name="KBase2" default="false" eventProcessingMode="stream" equalsBehavior="equality" declarativeAgenda="enabled" packages="org.domain.pkg2, org.domain.pkg3" includes="KBase1"&gt;
    &lt;ksession name="KSession2_1" type="stateless" default="true" clockType="realtime"&gt;
      &lt;fileLogger file="debugInfo" threaded="true" interval="10" /&gt;
      &lt;workItemHandlers&gt;
        &lt;workItemHandler name="name" type="new org.domain.WorkItemHandler()" /&gt;
      &lt;/workItemHandlers&gt;
      &lt;listeners&gt;
        &lt;ruleRuntimeEventListener type="org.domain.RuleRuntimeListener" /&gt;
        &lt;agendaEventListener type="org.domain.FirstAgendaListener" /&gt;
        &lt;agendaEventListener type="org.domain.SecondAgendaListener" /&gt;
        &lt;processEventListener type="org.domain.ProcessListener" /&gt;
      &lt;/listeners&gt;
    &lt;/ksession&gt;
  &lt;/kbase&gt;
&lt;/kmodule&gt;</pre><p class="simpara">
							This example defines two KIE bases. Specific <code class="literal">packages</code> of rule assets are included with both KIE bases. When you specify packages in this way, you must organize your rule files in a folder structure that reflects the specified packages. Two KIE sessions are instantiated from the <code class="literal">KBase1</code> KIE base, and one KIE session from <code class="literal">KBase2</code>. The KIE session from <code class="literal">KBase2</code> is a <code class="literal">stateless</code> KIE session, which means that data from a previous invocation of the KIE session (the previous session state) is discarded between session invocations. That KIE session also specifies a file (or a console) logger, a <code class="literal">WorkItemHandler</code>, and listeners of the three supported types shown: <code class="literal">ruleRuntimeEventListener</code>, <code class="literal">agendaEventListener</code> and <code class="literal">processEventListener</code>. The <code class="literal">&lt;configuration&gt;</code> element defines optional properties that you can use to further customize your <code class="literal">kmodule.xml</code> file.
						</p><p class="simpara">
							As an alternative to manually appending a <code class="literal">kmodule.xml</code> file to your project, you can use a <code class="literal">KieModuleModel</code> instance within your Java application to programmatically create a <code class="literal">kmodule.xml</code> file that defines the KIE base and a KIE session, and then add all resources in your project to the KIE virtual file system <code class="literal">KieFileSystem</code>.
						</p><div class="formalpara"><p class="title"><strong>Creating <code class="literal">kmodule.xml</code> programmatically and adding it to <code class="literal">KieFileSystem</code></strong></p><p>
								
<pre class="programlisting language-java">import org.kie.api.KieServices;
import org.kie.api.builder.model.KieModuleModel;
import org.kie.api.builder.model.KieBaseModel;
import org.kie.api.builder.model.KieSessionModel;
import org.kie.api.builder.KieFileSystem;

KieServices kieServices = KieServices.Factory.get();
KieModuleModel kieModuleModel = kieServices.newKieModuleModel();

KieBaseModel kieBaseModel1 = kieModuleModel.newKieBaseModel("KBase1")
  .setDefault(true)
  .setEqualsBehavior(EqualityBehaviorOption.EQUALITY)
  .setEventProcessingMode(EventProcessingOption.STREAM);

KieSessionModel ksessionModel1 = kieBaseModel1.newKieSessionModel("KSession1_1")
  .setDefault(true)
  .setType(KieSessionModel.KieSessionType.STATEFUL)
  .setClockType(ClockTypeOption.get("realtime"));

KieFileSystem kfs = kieServices.newKieFileSystem();
kfs.writeKModuleXML(kieModuleModel.toXML());</pre>
							</p></div></li><li class="listitem"><p class="simpara">
							After you configure the <code class="literal">kmodule.xml</code> file either manually or programmatically in your project, retrieve the KIE bases and KIE sessions from the KIE container to verify the configurations:
						</p><pre class="programlisting language-java">KieServices kieServices = KieServices.Factory.get();
KieContainer kContainer = kieServices.getKieClasspathContainer();

KieBase kBase1 = kContainer.getKieBase("KBase1");
KieSession kieSession1 = kContainer.newKieSession("KSession1_1"),
    kieSession2 = kContainer.newKieSession("KSession1_2");

KieBase kBase2 = kContainer.getKieBase("KBase2");
StatelessKieSession kieSession3 = kContainer.newStatelessKieSession("KSession2_1");</pre><p class="simpara">
							If <code class="literal">KieBase</code> or <code class="literal">KieSession</code> have been configured as <code class="literal">default="true"</code> in the <code class="literal">kmodule.xml</code> file, as in the previous <code class="literal">kmodule.xml</code> example, you can retrieve them from the KIE container without passing any names:
						</p><pre class="programlisting language-java">KieContainer kContainer = ...

KieBase kBase1 = kContainer.getKieBase();
KieSession kieSession1 = kContainer.newKieSession(),
    kieSession2 = kContainer.newKieSession();

KieBase kBase2 = kContainer.getKieBase();
StatelessKieSession kieSession3 = kContainer.newStatelessKieSession();</pre><p class="simpara">
							To increase or decrease the maximum number of KIE modules or artifact versions that are cached in the decision engine, you can modify the values of the following system properties in your Red Hat Process Automation Manager distribution:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">kie.repository.project.cache.size</code>: Maximum number of KIE modules that are cached in the decision engine. Default value: <code class="literal">100</code>
								</li><li class="listitem">
									<code class="literal">kie.repository.project.versions.cache.size</code>: Maximum number of versions of the same artifact that are cached in the decision engine. Default value: <code class="literal">10</code>
								</li></ul></div><p class="simpara">
							For the full list of KIE repository configurations, download the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Source Distribution</strong></span> ZIP file from the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Red Hat Customer Portal</a> and navigate to <code class="literal">~/rhpam-7.10.0-sources/src/drools-$VERSION/drools-compiler/src/main/java/org/drools/compiler/kie/builder/impl/KieRepositoryImpl.java</code>.
						</p></li></ol></div><p>
					For more information about the <code class="literal">kmodule.xml</code> file, download the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Source Distribution</strong></span> ZIP file from the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Red Hat Customer Portal</a> (if not downloaded already) and see the <code class="literal">kmodule.xsd</code> XML schema located at <code class="literal">$FILE_HOME/rhpam-$VERSION-sources/kie-api-parent-$VERSION/kie-api/src/main/resources/org/kie/api/</code>.
				</p><section class="section" id="project-kmodule-properties-ref_packaging-deploying"><div class="titlepage"><div><div><h3 class="title">3.1.1. KIE module configuration properties</h3></div></div></div><p>
						The optional <code class="literal">&lt;configuration&gt;</code> element in the KIE module descriptor file (<code class="literal">kmodule.xml</code>) of your project defines property <code class="literal">key</code> and <code class="literal">value</code> pairs that you can use to further customize your <code class="literal">kmodule.xml</code> file.
					</p><div class="formalpara"><p class="title"><strong>Example configuration property in a <code class="literal">kmodule.xml</code> file</strong></p><p>
							
<pre class="programlisting language-xml">&lt;kmodule&gt;
  ...
  &lt;configuration&gt;
    &lt;property key="drools.dialect.default" value="java"/&gt;
    ...
  &lt;/configuration&gt;
  ...
&lt;/kmodule&gt;</pre>
						</p></div><p>
						The following are the <code class="literal">&lt;configuration&gt;</code> property keys and values supported in the KIE module descriptor file (<code class="literal">kmodule.xml</code>) for your project:
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">drools.dialect.default</span></dt><dd><p class="simpara">
									Sets the default Drools dialect.
								</p><p class="simpara">
									Supported values: <code class="literal">java</code>, <code class="literal">mvel</code>
								</p><pre class="programlisting language-xml">&lt;property key="drools.dialect.default"
  value="java"/&gt;</pre></dd><dt><span class="term">drools.accumulate.function.$FUNCTION</span></dt><dd><p class="simpara">
									Links a class that implements an accumulate function to a specified function name, which allows you to add custom accumulate functions into the decision engine.
								</p><pre class="programlisting language-xml">&lt;property key="drools.accumulate.function.hyperMax"
  value="org.drools.custom.HyperMaxAccumulate"/&gt;</pre></dd><dt><span class="term">drools.evaluator.$EVALUATION</span></dt><dd><p class="simpara">
									Links a class that implements an evaluator definition to a specified evaluator name so that you can add custom evaluators into the decision engine. An evaluator is similar to a custom operator.
								</p><pre class="programlisting language-xml">&lt;property key="drools.evaluator.soundslike"
  value="org.drools.core.base.evaluators.SoundslikeEvaluatorsDefinition"/&gt;</pre></dd><dt><span class="term">drools.dump.dir</span></dt><dd><p class="simpara">
									Sets a path to the Red Hat Process Automation Manager <code class="literal">dump/log</code> directory.
								</p><pre class="programlisting language-xml">&lt;property key="drools.dump.dir"
  value="$DIR_PATH/dump/log"/&gt;</pre></dd><dt><span class="term">drools.defaultPackageName</span></dt><dd><p class="simpara">
									Sets a default package for the business assets in your project.
								</p><pre class="programlisting language-xml">&lt;property key="drools.defaultPackageName"
  value="org.domain.pkg1"/&gt;</pre></dd><dt><span class="term">drools.parser.processStringEscapes</span></dt><dd><p class="simpara">
									Sets the String escape function. If this property is set to <code class="literal">false</code>, the <code class="literal">\n</code> character will not be interpreted as the newline character.
								</p><p class="simpara">
									Supported values: <code class="literal">true</code> (default), <code class="literal">false</code>
								</p><pre class="programlisting language-xml">&lt;property key="drools.parser.processStringEscapes"
  value="true"/&gt;</pre></dd><dt><span class="term">drools.kbuilder.severity.$DUPLICATE</span></dt><dd><p class="simpara">
									Sets a severity for instances of duplicate rules, processes, or functions reported when a KIE base is built. For example, if you set <code class="literal">duplicateRule</code> to <code class="literal">ERROR</code>, then an error is generated for any duplicated rules detected when the KIE base is built.
								</p><p class="simpara">
									Supported key suffixes: <code class="literal">duplicateRule</code>, <code class="literal">duplicateProcess</code>, <code class="literal">duplicateFunction</code>
								</p><p class="simpara">
									Supported values: <code class="literal">INFO</code>, <code class="literal">WARNING</code>, <code class="literal">ERROR</code>
								</p><pre class="programlisting language-xml">&lt;property key="drools.kbuilder.severity.duplicateRule"
  value="ERROR"/&gt;</pre></dd><dt><span class="term">drools.propertySpecific</span></dt><dd><p class="simpara">
									Sets the property reactivity of the decision engine.
								</p><p class="simpara">
									Supported values: <code class="literal">DISABLED</code>, <code class="literal">ALLOWED</code>, <code class="literal">ALWAYS</code>
								</p><pre class="programlisting language-xml">&lt;property key="drools.propertySpecific"
  value="ALLOWED"/&gt;</pre></dd><dt><span class="term">drools.lang.level</span></dt><dd><p class="simpara">
									Sets the DRL language level.
								</p><p class="simpara">
									Supported values: <code class="literal">DRL5</code>, <code class="literal">DRL6</code>, <code class="literal">DRL6_STRICT</code> (default)
								</p><pre class="programlisting language-xml">&lt;property key="drools.lang.level"
  value="DRL_STRICT"/&gt;</pre></dd></dl></div></section><section class="section" id="project-kbase-ref_packaging-deploying"><div class="titlepage"><div><div><h3 class="title">3.1.2. KIE base attributes supported in KIE modules</h3></div></div></div><p>
						A KIE base is a repository that you define in the KIE module descriptor file (<code class="literal">kmodule.xml</code>) for your project and contains all rules, processes, and other business assets in Red Hat Process Automation Manager. When you define KIE bases in the <code class="literal">kmodule.xml</code> file, you can specify certain attributes and values to further customize your KIE base configuration.
					</p><div class="formalpara"><p class="title"><strong>Example KIE base configuration in a <code class="literal">kmodule.xml</code> file</strong></p><p>
							
<pre class="programlisting language-xml">&lt;kmodule&gt;
  ...
  &lt;kbase name="KBase2" default="false" eventProcessingMode="stream" equalsBehavior="equality" declarativeAgenda="enabled" packages="org.domain.pkg2, org.domain.pkg3" includes="KBase1" sequential="false"&gt;
    ...
  &lt;/kbase&gt;
  ...
&lt;/kmodule&gt;</pre>
						</p></div><p>
						The following are the <code class="literal">kbase</code> attributes and values supported in the KIE module descriptor file (<code class="literal">kmodule.xml</code>) for your project:
					</p><div class="table" id="idm140279518085456"><p class="title"><strong>Table 3.1. KIE base attributes supported in KIE modules</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 30%; " class="col_2"/><col style="width: 40%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140279514852144" scope="col">Attribute</th><th align="left" valign="top" id="idm140279514851056" scope="col">Supported values</th><th align="left" valign="top" id="idm140279514849968" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140279514852144">
									<p>
										<code class="literal">name</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514851056">
									<p>
										Any name
									</p>
									</td><td align="left" valign="top" headers="idm140279514849968">
									<p>
										Defines the name that retrieves <code class="literal">KieBase</code> from <code class="literal">KieContainer</code>. <span class="emphasis"><em>This attribute is mandatory</em></span>.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279514852144">
									<p>
										<code class="literal">includes</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514851056">
									<p>
										Comma-separated list of other KIE base objects in the KIE module
									</p>
									</td><td align="left" valign="top" headers="idm140279514849968">
									<p>
										Defines other KIE base objects and artifacts to be included in this KIE base. A KIE base can be contained in multiple KIE modules if you declare it as a dependency in the <code class="literal">pom.xml</code> file of the modules.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279514852144">
									<p>
										<code class="literal">packages</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514851056">
									<p>
										Comma-separated list of packages to include in the KIE base
									</p>
									<p>
										Default: <code class="literal">all</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514849968">
									<p>
										Defines packages of artifacts (such as rules and processes) to be included in this KIE base. By default, all artifacts in the <code class="literal">~/resources</code> directory are included into a KIE base. This attribute enables you to limit the number of compiled artifacts. Only the packages belonging to the list specified in this attribute are compiled.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279514852144">
									<p>
										<code class="literal">default</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514851056">
									<p>
										<code class="literal">true</code>, <code class="literal">false</code>
									</p>
									<p>
										Default: <code class="literal">false</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514849968">
									<p>
										Determines whether a KIE base is the default KIE base for a module so that it can be created from the KIE container without passing any name. Each module can have only one default KIE base.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279514852144">
									<p>
										<code class="literal">equalsBehavior</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514851056">
									<p>
										<code class="literal">identity</code>, <code class="literal">equality</code>
									</p>
									<p>
										Default: <code class="literal">identity</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514849968">
									<p>
										Defines the behavior of Red Hat Process Automation Manager when a new fact is inserted into the working memory. If set to <code class="literal">identity</code>, a new <code class="literal">FactHandle</code> is always created unless the same object is already present in the working memory. If set to <code class="literal">equality</code>, a new <code class="literal">FactHandle</code> is created only if the newly inserted object is not equal to an existing fact, according to the <code class="literal">equals()</code> method of the inserted fact. Use <code class="literal">equality</code> mode when you want objects to be assessed based on feature equality instead of explicit identity.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279514852144">
									<p>
										<code class="literal">eventProcessingMode</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514851056">
									<p>
										<code class="literal">cloud</code>, <code class="literal">stream</code>
									</p>
									<p>
										Default: <code class="literal">cloud</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514849968">
									<p>
										Determines how events are processed in the KIE base. If this property is set to <code class="literal">cloud</code>, the KIE base treats events as normal facts. If this property is set to <code class="literal">stream</code>, temporal reasoning on events is allowed.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279514852144">
									<p>
										<code class="literal">declarativeAgenda</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514851056">
									<p>
										<code class="literal">disabled</code>, <code class="literal">enabled</code>
									</p>
									<p>
										Default: <code class="literal">disabled</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514849968">
									<p>
										Determines whether the declarative agenda is enabled or not.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279514852144">
									<p>
										<code class="literal">sequential</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514851056">
									<p>
										<code class="literal">true</code>, <code class="literal">false</code>
									</p>
									<p>
										Default: <code class="literal">false</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514849968">
									<p>
										Determines whether sequential mode is enabled or not. In sequential mode, the decision engine evaluates rules one time in the order that they are listed in the decision engine agenda without regard to changes in the working memory. Enable this property if you use stateless KIE sessions and you do not want the execution of rules to influence subsequent rules in the agenda.
									</p>
									</td></tr></tbody></table></div></div></section><section class="section" id="project-ksession-ref_packaging-deploying"><div class="titlepage"><div><div><h3 class="title">3.1.3. KIE session attributes supported in KIE modules</h3></div></div></div><p>
						A KIE session stores and executes runtime data and is created from a KIE base or directly from a KIE container if you have defined the KIE session in the KIE module descriptor file (<code class="literal">kmodule.xml</code>) for your project. When you define KIE bases and KIE sessions in the <code class="literal">kmodule.xml</code> file, you can specify certain attributes and values to further customize your KIE session configuration.
					</p><div class="formalpara"><p class="title"><strong>Example KIE session configuration in a <code class="literal">kmodule.xml</code> file</strong></p><p>
							
<pre class="programlisting language-xml">&lt;kmodule&gt;
  ...
  &lt;kbase&gt;
    ...
    &lt;ksession name="KSession2_1" type="stateless" default="true" clockType="realtime"&gt;
    ...
  &lt;/kbase&gt;
  ...
&lt;/kmodule&gt;</pre>
						</p></div><p>
						The following are the <code class="literal">ksession</code> attributes and values supported in the KIE module descriptor file (<code class="literal">kmodule.xml</code>) for your project:
					</p><div class="table" id="idm140279515159312"><p class="title"><strong>Table 3.2. KIE session attributes supported in KIE modules</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 30%; " class="col_2"/><col style="width: 40%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm140279514769872" scope="col">Attribute</th><th align="left" valign="top" id="idm140279514768784" scope="col">Supported values</th><th align="left" valign="top" id="idm140279517682336" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140279514769872">
									<p>
										<code class="literal">name</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514768784">
									<p>
										Any name
									</p>
									</td><td align="left" valign="top" headers="idm140279517682336">
									<p>
										Defines the name that retrieves <code class="literal">KieSession</code> from <code class="literal">KieContainer</code>. <span class="emphasis"><em>This attribute is mandatory</em></span>.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279514769872">
									<p>
										<code class="literal">type</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514768784">
									<p>
										<code class="literal">stateful</code>, <code class="literal">stateless</code>
									</p>
									<p>
										Default: <code class="literal">stateful</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279517682336">
									<p>
										Determines whether data is retained (<code class="literal">stateful</code>) or discarded (<code class="literal">stateless</code>) between invocations of the KIE session. A session set to <code class="literal">stateful</code> enables you to iteratively work with the working memory, while a session set to <code class="literal">stateless</code> is typically used for one-off execution of assets. A <code class="literal">stateless</code> session stores a knowledge state that is changed every time a new fact is added, updated, or deleted, and every time a rule is executed. An execution in a <code class="literal">stateless</code> session has no information about previous actions, such rule executions.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279514769872">
									<p>
										<code class="literal">default</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514768784">
									<p>
										<code class="literal">true</code>, <code class="literal">false</code>
									</p>
									<p>
										Default: <code class="literal">false</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279517682336">
									<p>
										Determines whether a KIE session is the default session for a module so that it can be created from the KIE container without passing any name. Each module can have only one default KIE session.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279514769872">
									<p>
										<code class="literal">clockType</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514768784">
									<p>
										<code class="literal">realtime</code>, <code class="literal">pseudo</code>
									</p>
									<p>
										Default: <code class="literal">realtime</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279517682336">
									<p>
										Determines whether event time stamps are assigned by the system clock or by a pseudo clock controlled by the application. This clock is especially useful for unit testing on temporal rules.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279514769872">
									<p>
										<code class="literal">beliefSystem</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279514768784">
									<p>
										<code class="literal">simple</code>, <code class="literal">jtms</code>, <code class="literal">defeasible</code>
									</p>
									<p>
										Default: <code class="literal">simple</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279517682336">
									<p>
										Defines the type of belief system used by the KIE session. A belief system deduces the truth from knowledge (facts). For example, if a new fact is inserted based on another fact which is later removed from the decision engine, the system can determine that the newly inserted fact should be removed as well.
									</p>
									</td></tr></tbody></table></div></div></section></section><section class="section" id="project-build-deploy-maven-proc_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">3.2. Packaging and deploying a Red Hat Process Automation Manager project in Maven</h2></div></div></div><p>
					If you want to deploy a Maven project outside of Business Central to a configured KIE Server, you can edit the project <code class="literal">pom.xml</code> file to package your project as a KJAR file and add a <code class="literal">kmodule.xml</code> file with the KIE base and KIE session configurations for the assets in your project.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have a Maven project that contains Red Hat Process Automation Manager business assets.
						</li><li class="listitem">
							KIE Server is installed and <code class="literal">kie-server</code> user access is configured. For installation options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In the <code class="literal">pom.xml</code> file of your Maven project, set the packaging type to <code class="literal">kjar</code> and add the <code class="literal">kie-maven-plugin</code> build component:
						</p><pre class="programlisting language-xml">&lt;packaging&gt;kjar&lt;/packaging&gt;
...
&lt;build&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;org.kie&lt;/groupId&gt;
      &lt;artifactId&gt;kie-maven-plugin&lt;/artifactId&gt;
      &lt;version&gt;${rhpam.version}&lt;/version&gt;
      &lt;extensions&gt;true&lt;/extensions&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;</pre><p class="simpara">
							The <code class="literal">kjar</code> packaging type activates the <code class="literal">kie-maven-plugin</code> component to validate and pre-compile artifact resources. The <code class="literal">&lt;version&gt;</code> is the Maven artifact version for Red Hat Process Automation Manager currently used in your project (for example, 7.48.0.Final-redhat-00002). These settings are required to properly package the Maven project for deployment.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Instead of specifying a Red Hat Process Automation Manager <code class="literal">&lt;version&gt;</code> for individual dependencies, consider adding the Red Hat Business Automation bill of materials (BOM) dependency to your project <code class="literal">pom.xml</code> file. The Red Hat Business Automation BOM applies to both Red Hat Decision Manager and Red Hat Process Automation Manager. When you add the BOM files, the correct versions of transitive dependencies from the provided Maven repositories are included in the project.
							</p><p>
								Example BOM dependency:
							</p><pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.redhat.ba&lt;/groupId&gt;
  &lt;artifactId&gt;ba-platform-bom&lt;/artifactId&gt;
  &lt;version&gt;7.10.0.redhat-00002&lt;/version&gt;
  &lt;scope&gt;import&lt;/scope&gt;
  &lt;type&gt;pom&lt;/type&gt;
&lt;/dependency&gt;</pre><p>
								For more information about the Red Hat Business Automation BOM, see <a class="link" href="https://access.redhat.com/solutions/3405361">What is the mapping between Red Hat Process Automation Manager and the Maven library version?</a>.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Optional: If your project contains Decision Model and Notation (DMN) assets, also add the following dependency in the <code class="literal">pom.xml</code> file to enable DMN executable models. DMN executable models enable DMN decision table logic in DMN projects to be evaluated more efficiently.
						</p><pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-dmn-core&lt;/artifactId&gt;
  &lt;scope&gt;provided&lt;/scope&gt;
  &lt;version&gt;${rhpam.version}&lt;/version&gt;
&lt;/dependency&gt;</pre></li><li class="listitem"><p class="simpara">
							In the <code class="literal">~/resources</code> directory of your Maven project, create a <code class="literal">META-INF/kmodule.xml</code> metadata file with at least the following content:
						</p><pre class="programlisting language-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;kmodule xmlns="http://www.drools.org/xsd/kmodule"&gt;
&lt;/kmodule&gt;</pre><p class="simpara">
							This <code class="literal">kmodule.xml</code> file is a KIE module descriptor that is required for all Red Hat Process Automation Manager projects. You can use the KIE module to define one or more KIE bases and one or more KIE sessions from each KIE base.
						</p><p class="simpara">
							For more information about <code class="literal">kmodule.xml</code> configuration, see <a class="xref" href="#project-kmodule-configure-proc_packaging-deploying" title="3.1. Configuring a KIE module descriptor file">Section 3.1, “Configuring a KIE module descriptor file”</a>.
						</p></li><li class="listitem"><p class="simpara">
							In the relevant resource in your Maven project, configure a <code class="literal">.java</code> class to create a KIE container and a KIE session to load the KIE base:
						</p><pre class="programlisting language-java">import org.kie.api.KieServices;
import org.kie.api.runtime.KieContainer;
import org.kie.api.runtime.KieSession;

public void testApp() {

  // Load the KIE base:
  KieServices ks = KieServices.Factory.get();
  KieContainer kContainer = ks.getKieClasspathContainer();
  KieSession kSession = kContainer.newKieSession();

}</pre><p class="simpara">
							In this example, the KIE container reads the files to be built from the class path for a <code class="literal">testApp</code> project. The <code class="literal">KieServices</code> API enables you to access all KIE building and runtime configurations.
						</p><p class="simpara">
							You can also create the KIE container by passing the project <code class="literal">ReleaseId</code> to the <code class="literal">KieServices</code> API. The <code class="literal">ReleaseId</code> is generated from the <code class="literal">GroupId</code>, <code class="literal">ArtifactId</code>, and <code class="literal">Version</code> (GAV) values in the project <code class="literal">pom.xml</code> file.
						</p><pre class="programlisting language-java">import org.kie.api.KieServices;
import org.kie.api.builder.ReleaseId;
import org.kie.api.runtime.KieContainer;
import org.kie.api.runtime.KieSession;
import org.drools.compiler.kproject.ReleaseIdImpl;

public void testApp() {

  // Identify the project in the local repository:
  ReleaseId rid = new ReleaseIdImpl("com.sample", "my-app", "1.0.0");

  // Load the KIE base:
  KieServices ks = KieServices.Factory.get();
  KieContainer kContainer = ks.newKieContainer(rid);
  KieSession kSession = kContainer.newKieSession();

}</pre></li><li class="listitem"><p class="simpara">
							In a command terminal, navigate to your Maven project directory and run the following command to build the project:
						</p><pre class="screen">mvn clean install</pre><p class="simpara">
							For DMN executable models, run the following command:
						</p><pre class="screen">mvn clean install -DgenerateDMNModel=YES</pre><p class="simpara">
							If the build fails, address any problems described in the command line error messages and try again to validate the files until the build is successful.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								If the rule assets in your Maven project are not built from an executable rule model by default, verify that the following dependency is in the <code class="literal">pom.xml</code> file of your project and rebuild the project:
							</p><pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-model-compiler&lt;/artifactId&gt;
  &lt;version&gt;${rhpam.version}&lt;/version&gt;
&lt;/dependency&gt;</pre><p>
								This dependency is required for rule assets in Red Hat Process Automation Manager to be built from executable rule models by default. This dependency is included as part of the Red Hat Process Automation Manager core packaging, but depending on your Red Hat Process Automation Manager upgrade history, you may need to manually add this dependency to enable the executable rule model behavior.
							</p><p>
								For more information about executable rule models, see <a class="xref" href="#executable-model-con_packaging-deploying" title="3.4. Executable rule models">Section 3.4, “Executable rule models”</a>.
							</p></div></div></li><li class="listitem"><p class="simpara">
							After you successfully build and test the project locally, deploy the project to the remote Maven repository:
						</p><pre class="screen">mvn deploy</pre></li></ol></div></section><section class="section" id="project-build-deploy-java-proc_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">3.3. Packaging and deploying a Red Hat Process Automation Manager project in a Java application</h2></div></div></div><p>
					If you want to deploy a project from within your own Java application to a configured KIE Server, you can use a <code class="literal">KieModuleModel</code> instance to programmatically create a <code class="literal">kmodule.xml</code> file that defines the KIE base and a KIE session, and then add all resources in your project to the KIE virtual file system <code class="literal">KieFileSystem</code>.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have a Java application that contains Red Hat Process Automation Manager business assets.
						</li><li class="listitem">
							KIE Server is installed and <code class="literal">kie-server</code> user access is configured. For installation options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Optional: If your project contains Decision Model and Notation (DMN) assets, add the following dependency to the relevant class path of your Java project to enable DMN executable models. DMN executable models enable DMN decision table logic in DMN projects to be evaluated more efficiently.
						</p><pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.kie&lt;/groupId&gt;
  &lt;artifactId&gt;kie-dmn-core&lt;/artifactId&gt;
  &lt;scope&gt;provided&lt;/scope&gt;
  &lt;version&gt;${rhpam.version}&lt;/version&gt;
&lt;/dependency&gt;</pre><p class="simpara">
							The <code class="literal">&lt;version&gt;</code> is the Maven artifact version for Red Hat Process Automation Manager currently used in your project (for example, 7.48.0.Final-redhat-00002).
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Instead of specifying a Red Hat Process Automation Manager <code class="literal">&lt;version&gt;</code> for individual dependencies, consider adding the Red Hat Business Automation bill of materials (BOM) dependency to your project <code class="literal">pom.xml</code> file. The Red Hat Business Automation BOM applies to both Red Hat Decision Manager and Red Hat Process Automation Manager. When you add the BOM files, the correct versions of transitive dependencies from the provided Maven repositories are included in the project.
							</p><p>
								Example BOM dependency:
							</p><pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.redhat.ba&lt;/groupId&gt;
  &lt;artifactId&gt;ba-platform-bom&lt;/artifactId&gt;
  &lt;version&gt;7.10.0.redhat-00002&lt;/version&gt;
  &lt;scope&gt;import&lt;/scope&gt;
  &lt;type&gt;pom&lt;/type&gt;
&lt;/dependency&gt;</pre><p>
								For more information about the Red Hat Business Automation BOM, see <a class="link" href="https://access.redhat.com/solutions/3405361">What is the mapping between Red Hat Process Automation Manager and the Maven library version?</a>.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Use the <code class="literal">KieServices</code> API to create a <code class="literal">KieModuleModel</code> instance with the desired KIE base and KIE session. The <code class="literal">KieServices</code> API enables you to access all KIE building and runtime configurations. The <code class="literal">KieModuleModel</code> instance generates the <code class="literal">kmodule.xml</code> file for your project.
						</p><p class="simpara">
							For more information about <code class="literal">kmodule.xml</code> configuration, see <a class="xref" href="#project-kmodule-configure-proc_packaging-deploying" title="3.1. Configuring a KIE module descriptor file">Section 3.1, “Configuring a KIE module descriptor file”</a>.
						</p></li><li class="listitem"><p class="simpara">
							Convert your <code class="literal">KieModuleModel</code> instance into XML and add the XML to <code class="literal">KieFileSystem</code>.
						</p><div class="formalpara"><p class="title"><strong>Creating <code class="literal">kmodule.xml</code> programmatically and adding it to <code class="literal">KieFileSystem</code></strong></p><p>
								
<pre class="programlisting language-java">import org.kie.api.KieServices;
import org.kie.api.builder.model.KieModuleModel;
import org.kie.api.builder.model.KieBaseModel;
import org.kie.api.builder.model.KieSessionModel;
import org.kie.api.builder.KieFileSystem;

  KieServices kieServices = KieServices.Factory.get();
  KieModuleModel kieModuleModel = kieServices.newKieModuleModel();

  KieBaseModel kieBaseModel1 = kieModuleModel.newKieBaseModel("KBase1")
    .setDefault(true)
    .setEqualsBehavior(EqualityBehaviorOption.EQUALITY)
    .setEventProcessingMode(EventProcessingOption.STREAM);

  KieSessionModel ksessionModel1 = kieBaseModel1.newKieSessionModel("KSession1")
    .setDefault(true)
    .setType(KieSessionModel.KieSessionType.STATEFUL)
    .setClockType(ClockTypeOption.get("realtime"));

  KieFileSystem kfs = kieServices.newKieFileSystem();
  kfs.writeKModuleXML(kieModuleModel.toXML());</pre>
							</p></div></li><li class="listitem"><p class="simpara">
							Add any remaining Red Hat Process Automation Manager assets that you use in your project to your <code class="literal">KieFileSystem</code> instance. The artifacts must be in a Maven project file structure.
						</p><pre class="programlisting language-java">import org.kie.api.builder.KieFileSystem;

  KieFileSystem kfs = ...
  kfs.write("src/main/resources/KBase1/ruleSet1.drl", stringContainingAValidDRL)
    .write("src/main/resources/dtable.xls",
      kieServices.getResources().newInputStreamResource(dtableFileStream));</pre><p class="simpara">
							In this example, the project assets are added both as a <code class="literal">String</code> variable and as a <code class="literal">Resource</code> instance. You can create the <code class="literal">Resource</code> instance using the <code class="literal">KieResources</code> factory, also provided by the <code class="literal">KieServices</code> instance. The <code class="literal">KieResources</code> class provides factory methods to convert <code class="literal">InputStream</code>, <code class="literal">URL</code>, and <code class="literal">File</code> objects, or a <code class="literal">String</code> representing a path of your file system to a <code class="literal">Resource</code> instance that the <code class="literal">KieFileSystem</code> can manage.
						</p><p class="simpara">
							You can also explicitly assign a <code class="literal">ResourceType</code> property to a <code class="literal">Resource</code> object when you add project artifacts to <code class="literal">KieFileSystem</code>:
						</p><pre class="programlisting language-java">import org.kie.api.builder.KieFileSystem;

  KieFileSystem kfs = ...
  kfs.write("src/main/resources/myDrl.txt",
    kieServices.getResources().newInputStreamResource(drlStream)
      .setResourceType(ResourceType.DRL));</pre></li><li class="listitem"><p class="simpara">
							Use <code class="literal">KieBuilder</code> with the <code class="literal">buildAll()</code> method to build the content of <code class="literal">KieFileSystem</code>, and create a KIE container to deploy it:
						</p><pre class="programlisting language-java">import org.kie.api.KieServices;
import org.kie.api.KieServices.Factory;
import org.kie.api.builder.KieFileSystem;
import org.kie.api.builder.KieBuilder;
import org.kie.api.runtime.KieContainer;

  KieServices kieServices = KieServices.Factory.get();
  KieFileSystem kfs = ...

  KieBuilder kieBuilder = ks.newKieBuilder( kfs );
  kieBuilder.buildAll()
  assertEquals(0, kieBuilder.getResults().getMessages(Message.Level.ERROR).size());

  KieContainer kieContainer = kieServices
    .newKieContainer(kieServices.getRepository().getDefaultReleaseId());</pre><p class="simpara">
							A build <code class="literal">ERROR</code> indicates that the project compilation failed, no <code class="literal">KieModule</code> was produced, and nothing was added to the <code class="literal">KieRepository</code> singleton. A <code class="literal">WARNING</code> or an <code class="literal">INFO</code> result indicates that the compilation of the project was successful, with information about the build process.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								To build the rule assets in your Java application project from an executable rule model, verify that the following dependency is in the <code class="literal">pom.xml</code> file of your project:
							</p><pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-model-compiler&lt;/artifactId&gt;
  &lt;version&gt;${rhpam.version}&lt;/version&gt;
&lt;/dependency&gt;</pre><p>
								This dependency is required for rule assets in Red Hat Process Automation Manager to be built from executable rule models. This dependency is included as part of the Red Hat Process Automation Manager core packaging, but depending on your Red Hat Process Automation Manager upgrade history, you may need to manually add this dependency to enable the executable rule model behavior.
							</p><p>
								After you verify the dependency, use the following modified <code class="literal">buildAll()</code> option to enable the executable model:
							</p><pre class="programlisting language-java">kieBuilder.buildAll(ExecutableModelProject.class)</pre><p>
								For more information about executable rule models, see <a class="xref" href="#executable-model-con_packaging-deploying" title="3.4. Executable rule models">Section 3.4, “Executable rule models”</a>.
							</p></div></div></li></ol></div></section><section class="section" id="executable-model-con_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">3.4. Executable rule models</h2></div></div></div><p>
					Rule assets in Red Hat Process Automation Manager are built from executable rule models by default with the standard <code class="literal">kie-maven-plugin</code> plugin. Executable rule models are embedded models that provide a Java-based representation of a rule set for execution at build time. The executable model is a more efficient alternative to the standard asset packaging in previous versions of Red Hat Process Automation Manager and enables KIE containers and KIE bases to be created more quickly, especially when you have large lists of DRL (Drools Rule Language) files and other Red Hat Process Automation Manager assets.
				</p><p>
					If you do not use the <code class="literal">kie-maven-plugin</code> plugin or if the required <code class="literal">drools-model-compiler</code> dependency is missing from your project, then rule assets are built without executable models.
				</p><p>
					Executable rule models provide the following specific advantages for your projects:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<span class="strong strong"><strong>Compile time:</strong></span> Traditionally, a packaged Red Hat Process Automation Manager project (KJAR) contains a list of DRL files and other Red Hat Process Automation Manager artifacts that define the rule base together with some pre-generated classes implementing the constraints and the consequences. Those DRL files must be parsed and compiled when the KJAR is downloaded from the Maven repository and installed in a KIE container. This process can be slow, especially for large rule sets. With an executable model, you can package within the project KJAR the Java classes that implement the executable model of the project rule base and re-create the KIE container and its KIE bases out of it in a much faster way. In Maven projects, you use the <code class="literal">kie-maven-plugin</code> plugin to automatically generate the executable model sources from the DRL files during the compilation process.
						</li><li class="listitem">
							<span class="strong strong"><strong>Run time:</strong></span> In an executable model, all constraints are defined as Java lambda expressions. The same lambda expressions are also used for constraints evaluation, so you no longer need to use <code class="literal">mvel</code> expressions for interpreted evaluation nor the just-in-time (JIT) process to transform the <code class="literal">mvel</code>-based constraints into bytecode. This creates a quicker and more efficient run time.
						</li><li class="listitem">
							<span class="strong strong"><strong>Development time:</strong></span> An executable model enables you to develop and experiment with new features of the decision engine without needing to encode elements directly in the DRL format or modify the DRL parser to support them.
						</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						For query definitions in executable rule models, you can use up to 10 arguments only.
					</p><p>
						For variables within rule consequences in executable rule models, you can use up to 24 bound variables only (including the built-in <code class="literal">drools</code> variable). For example, the following rule consequence uses more than 24 bound variables and creates a compilation error:
					</p><pre class="screen">...
then
  $input.setNo25Count(functions.sumOf(new Object[]{$no1Count_1, $no2Count_1, $no3Count_1, ..., $no25Count_1}).intValue());
  $input.getFirings().add("fired");
  update($input);</pre></div></div><section class="section" id="executable-model-modify-proc_packaging-deploying"><div class="titlepage"><div><div><h3 class="title">3.4.1. Modifying or disabling executable rule models in a Red Hat Process Automation Manager project</h3></div></div></div><p>
						Rule assets in Red Hat Process Automation Manager are built from executable rule models by default with the standard <code class="literal">kie-maven-plugin</code> plugin. The executable model is a more efficient alternative to the standard asset packaging in previous versions of Red Hat Process Automation Manager. However, if needed, you can modify or disable executable rule models to build a Red Hat Process Automation Manager project as a DRL-based KJAR instead of the default model-based KJAR.
					</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
							Build your Red Hat Process Automation Manager project in the usual way, but provide an alternate build option, depending on the type of project:
						</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								For a Maven project, navigate to your Maven project directory in a command terminal and run the following command:
							</p><pre class="screen">mvn clean install -DgenerateModel=&lt;VALUE&gt;</pre><p class="simpara">
								Replace <code class="literal">&lt;VALUE&gt;</code> with one of three values:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">YES_WITHDRL</code>: (Default) Generates the executable model corresponding to the DRL files in the original project and also adds the DRL files to the generated KJAR for documentation purposes (the KIE base is built from the executable model regardless).
									</li><li class="listitem">
										<code class="literal">YES</code>: Generates the executable model corresponding to the DRL files in the original project and excludes the DRL files from the generated KJAR.
									</li><li class="listitem">
										<code class="literal">NO</code>: Does not generate the executable model.
									</li></ul></div><p class="simpara">
								Example build command to disable the default executable model behavior:
							</p><pre class="screen">mvn clean install -DgenerateModel=NO</pre></li><li class="listitem"><p class="simpara">
								For a Java application configured programmatically, the executable model is disabled by default. Add rule assets to the KIE virtual file system <code class="literal">KieFileSystem</code> and use <code class="literal">KieBuilder</code> with one of the following <code class="literal">buildAll()</code> methods:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">buildAll()</code> (Default) or <code class="literal">buildAll(DrlProject.class)</code>: Does not generate the executable model.
									</li><li class="listitem">
										<code class="literal">buildAll(ExecutableModelProject.class)</code>: Generates the executable model corresponding to the DRL files in the original project.
									</li></ul></div><p class="simpara">
								Example code to enable executable model behavior:
							</p><pre class="programlisting language-java">import org.kie.api.KieServices;
import org.kie.api.builder.KieFileSystem;
import org.kie.api.builder.KieBuilder;

  KieServices ks = KieServices.Factory.get();
  KieFileSystem kfs = ks.newKieFileSystem()
  kfs.write("src/main/resources/KBase1/ruleSet1.drl", stringContainingAValidDRL)
  .write("src/main/resources/dtable.xls",
    kieServices.getResources().newInputStreamResource(dtableFileStream));

  KieBuilder kieBuilder = ks.newKieBuilder( kfs );
  // Enable executable model
  kieBuilder.buildAll(ExecutableModelProject.class)
  assertEquals(0, kieBuilder.getResults().getMessages(Message.Level.ERROR).size());</pre></li></ul></div></section></section><section class="section" id="kie-scanner-proc_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">3.5. Using a KIE scanner to monitor and update KIE containers</h2></div></div></div><p>
					The KIE scanner in Red Hat Process Automation Manager monitors your Maven repository for new <code class="literal">SNAPSHOT</code> versions of your Red Hat Process Automation Manager project and then deploys the latest version of the project to a specified KIE container. You can use a KIE scanner in a development environment to maintain your Red Hat Process Automation Manager project deployments more efficiently as new versions become available.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						For production environments, do not use a KIE scanner with <code class="literal">SNAPSHOT</code> project versions to avoid accidental or unexpected project updates. The KIE scanner is intended for development environments that use <code class="literal">SNAPSHOT</code> project versions.
					</p><p>
						Avoid using a KIE scanner with business processes. Using a KIE scanner with processes can lead to unforeseen updates that can then cause errors in long-running processes when changes are not compatible with running process instances.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">kie-ci.jar</code> file is available on the class path of your Red Hat Process Automation Manager project.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In the relevant <code class="literal">.java</code> class in your project, register and start the KIE scanner as shown in the following example code:
						</p><div class="formalpara"><p class="title"><strong>Registering and starting a KIE scanner for a KIE container</strong></p><p>
								
<pre class="programlisting language-java">import org.kie.api.KieServices;
import org.kie.api.builder.ReleaseId;
import org.kie.api.runtime.KieContainer;
import org.kie.api.builder.KieScanner;

...

KieServices kieServices = KieServices.Factory.get();
ReleaseId releaseId = kieServices
  .newReleaseId("com.sample", "my-app", "1.0-SNAPSHOT");
KieContainer kContainer = kieServices.newKieContainer(releaseId);
KieScanner kScanner = kieServices.newKieScanner(kContainer);

// Start KIE scanner for polling the Maven repository every 10 seconds (10000 ms)
kScanner.start(10000L);</pre>
							</p></div><p class="simpara">
							In this example, the KIE scanner is configured to run with a fixed time interval. The minimum KIE scanner polling interval is 1 millisecond (ms) and the maximum polling interval is the maximum value of the data type <code class="literal">long</code>. A polling interval of 0 or less results in a <code class="literal">java.lang.IllegalArgumentException: pollingInterval must be positive</code> error. You can also configure the KIE scanner to run on demand by invoking the <code class="literal">scanNow()</code> method.
						</p><p class="simpara">
							The project group ID, artifact ID, and version (GAV) settings in the example are defined as <code class="literal">com.sample:my-app:1.0-SNAPSHOT</code>. The project version must contain the <code class="literal">-SNAPSHOT</code> suffix to enable the KIE scanner to retrieve the latest build of the specified artifact version. If you change the snapshot project version number, such as increasing to <code class="literal">1.0.1-SNAPSHOT</code>, then you must also update the version in the GAV definition in your KIE scanner configuration. The KIE scanner does not retrieve updates for projects with static versions, such as <code class="literal">com.sample:my-app:1.0</code>.
						</p></li><li class="listitem"><p class="simpara">
							In the <code class="literal">settings.xml</code> file of your Maven repository, set the <code class="literal">updatePolicy</code> configuration to <code class="literal">always</code> to enable the KIE scanner to function properly:
						</p><pre class="programlisting language-xml">&lt;profile&gt;
  &lt;id&gt;guvnor-m2-repo&lt;/id&gt;
  &lt;repositories&gt;
    &lt;repository&gt;
      &lt;id&gt;guvnor-m2-repo&lt;/id&gt;
      &lt;name&gt;BA Repository&lt;/name&gt;
      &lt;url&gt;http://localhost:8080/business-central/maven2/&lt;/url&gt;
      &lt;layout&gt;default&lt;/layout&gt;
      &lt;releases&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
      &lt;/releases&gt;
      &lt;snapshots&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
      &lt;/snapshots&gt;
    &lt;/repository&gt;
  &lt;/repositories&gt;
&lt;/profile&gt;</pre><p class="simpara">
							After the KIE scanner starts polling, if the KIE scanner detects an updated version of the <code class="literal">SNAPSHOT</code> project in the specified KIE container, the KIE scanner automatically downloads the new project version and triggers an incremental build of the new project. From that moment, all of the new <code class="literal">KieBase</code> and <code class="literal">KieSession</code> objects that were created from the KIE container use the new project version.
						</p><p class="simpara">
							For information about starting or stopping a KIE scanner using KIE Server APIs, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_and_managing_red_hat_process_automation_manager_services#kie-server-commands-con_kie-apis"><span class="emphasis"><em>Interacting with Red Hat Process Automation Manager using KIE APIs</em></span></a>.
						</p></li></ol></div></section><section class="section" id="service-start-proc_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">3.6. Starting a service in KIE Server</h2></div></div></div><p>
					If you have deployed Red Hat Process Automation Manager assets from a Maven or Java project outside of Business Central, you use a KIE Server REST API call to start the KIE container (deployment unit) and the services in it. You can use the KIE Server REST API to start services regardless of your deployment type, including deployment from Business Central, but projects deployed from Business Central either are started automatically or can be started within the Business Central interface.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server is installed and <code class="literal">kie-server</code> user access is configured. For installation options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						In your command terminal, run the following API request to load a service into a KIE container in the KIE Server and to start it:
					</p></div><pre class="screen">$ curl --user "&lt;username&gt;:&lt;password&gt;" -H "Content-Type: application/json" -X PUT -d '{"container-id" : "&lt;containerID&gt;","release-id" : {"group-id" : "&lt;groupID&gt;","artifact-id" : "&lt;artifactID&gt;","version" : "&lt;version&gt;"}}' http://&lt;serverhost&gt;:&lt;serverport&gt;/kie-server/services/rest/server/containers/&lt;containerID&gt;</pre><p>
					Replace the following values:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<span class="strong strong"><strong>&lt;username&gt;</strong></span>, <span class="strong strong"><strong>&lt;password&gt;:</strong></span> The user name and password of a user with the <code class="literal">kie-server</code> role.
						</li><li class="listitem">
							<span class="strong strong"><strong>&lt;containerID&gt;:</strong></span> The identifier for the KIE container (deployment unit). You can use any random identifier but it must be the same in both places in the command (the URL and the data).
						</li><li class="listitem">
							<span class="strong strong"><strong>&lt;groupID&gt;</strong></span>, <span class="strong strong"><strong>&lt;artifactID&gt;</strong></span>, <span class="strong strong"><strong>&lt;version&gt;:</strong></span> The project GAV values.
						</li><li class="listitem">
							<span class="strong strong"><strong>&lt;serverhost&gt;:</strong></span> The host name for the KIE Server, or <code class="literal">localhost</code> if you are running the command on the same host as the KIE Server.
						</li><li class="listitem">
							<span class="strong strong"><strong>&lt;serverport&gt;:</strong></span> The port number for the KIE Server.
						</li></ul></div><p>
					Example:
				</p><pre class="screen">curl --user "rhpamAdmin:password@1" -H "Content-Type: application/json" -X PUT -d '{"container-id" : "kie1","release-id" : {"group-id" : "org.kie.server.testing","artifact-id" : "container-crud-tests1","version" : "2.1.0.GA"}}' http://localhost:39043/kie-server/services/rest/server/containers/kie1</pre></section><section class="section" id="service-stop-remove-proc_packaging-deploying"><div class="titlepage"><div><div><h2 class="title">3.7. Stopping and removing a service in KIE Server</h2></div></div></div><p>
					If you have started Red Hat Process Automation Manager services from a Maven or Java project outside of Business Central, you use a KIE Server REST API call to stop and remove the KIE container (deployment unit) containing the services. You can use the KIE Server REST API to stop services regardless of your deployment type, including deployment from Business Central, but services from Business Central can also be stopped within the Business Central interface.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server is installed and <code class="literal">kie-server</code> user access is configured. For installation options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						In your command terminal, run the following API request to stop and remove a KIE container with services on KIE Server:
					</p></div><pre class="screen">$ curl --user "&lt;username&gt;:&lt;password&gt;" -X DELETE http://&lt;serverhost&gt;:&lt;serverport&gt;/kie-server/services/rest/server/containers/&lt;containerID&gt;</pre><p>
					Replace the following values:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<span class="strong strong"><strong>&lt;username&gt;</strong></span>, <span class="strong strong"><strong>&lt;password&gt;:</strong></span> The user name and password of a user with the <code class="literal">kie-server</code> role.
						</li><li class="listitem">
							<span class="strong strong"><strong>&lt;containerID&gt;:</strong></span> The identifier for the KIE container (deployment unit). You can use any random identifier but it must be the same in both places in the command (the URL and the data).
						</li><li class="listitem">
							<span class="strong strong"><strong>&lt;serverhost&gt;:</strong></span> The host name for the KIE Server, or <code class="literal">localhost</code> if you are running the command on the same host as the KIE Server.
						</li><li class="listitem">
							<span class="strong strong"><strong>&lt;serverport&gt;:</strong></span> The port number for the KIE Server.
						</li></ul></div><p>
					Example:
				</p><pre class="screen">curl --user "rhpamAdmin:password@1" -X DELETE http://localhost:39043/kie-server/services/rest/server/containers/kie1</pre></section></section><section class="chapter" id="additional_resources"><div class="titlepage"><div><div><h2 class="title">Chapter 4. Additional resources</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/developing_decision_services_in_red_hat_process_automation_manager#assets-executing-proc_drl-rules">"Executing rules" in <span class="emphasis"><em>Designing a decision service using DRL rules</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_and_managing_red_hat_process_automation_manager_services#assembly-kie-apis"><span class="emphasis"><em>Interacting with Red Hat Process Automation Manager using KIE APIs</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-openshift-operator"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using Operators</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_red_hat_process_automation_manager_on_red_hat_openshift_container_platform#assembly-openshift-templates"><span class="emphasis"><em>Deploying a Red Hat Process Automation Manager environment on Red Hat OpenShift Container Platform using templates</em></span></a>
					</li></ul></div></section></div><div class="part" id="assembly-managing-projects"><div class="titlepage"><div><div><h1 class="title">Part II. Managing projects in Business Central</h1></div></div></div><div class="partintro" id="idm140279516716368"><div/><p>
				As a process administrator, you can use Business Central in Red Hat Process Automation Manager to manage new, sample, and imported projects on a single or multiple branches.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Red Hat JBoss Enterprise Application Platform 7.3 is installed. For details, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/installation_guide/"><span class="emphasis"><em>Red Hat JBoss Enterprise Application Platform 7.3 Installation Guide</em></span></a>.
					</li><li class="listitem">
						Red Hat Process Automation Manager is installed and configured with KIE Server. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-install-on-eap"><span class="emphasis"><em>Installing and configuring Red Hat Process Automation Manager on Red Hat JBoss EAP 7.3</em></span></a>.
					</li><li class="listitem">
						Red Hat Process Automation Manager is running and you can log in to Business Central with the <code class="literal">developer</code> role. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
					</li></ul></div><div class="toc"><p><strong>Table of Contents</strong></p><ul class="toc"><li><span class="chapter"><a href="#projects-con_managing-projects">5. Red Hat Process Automation Manager projects</a></span></li><li><span class="chapter"><a href="#migrating-from-legacy-designer-proc">6. Migrating business processes to the new process designer</a></span></li><li><span class="chapter"><a href="#mod-projects-overview-con">7. Modifying existing projects in Business Central</a></span></li><li><span class="chapter"><a href="#creating_business_project">8. Creating the mortgage-process project</a></span><ul><li><span class="section"><a href="#mod-sample-project">8.1. Modifying the Mortgage_Process sample project</a></span></li><li><span class="section"><a href="#create_archetype_project">8.2. Creating a project using archetypes</a></span></li></ul></li><li><span class="chapter"><a href="#git-import-project">9. Importing projects from Git repositories</a></span></li><li><span class="chapter"><a href="#revise-project-ver">10. Revising project versions</a></span></li><li><span class="chapter"><a href="#config-project-settings">11. Configuring project settings</a></span></li><li><span class="chapter"><a href="#multiple-branches-con">12. Multiple branches in Business Central</a></span><ul><li><span class="section"><a href="#create-branches-proc">12.1. Creating branches</a></span></li><li><span class="section"><a href="#select-branches-proc">12.2. Selecting branches</a></span></li><li><span class="section"><a href="#delete-branches-proc">12.3. Deleting branches</a></span></li><li><span class="section"><a href="#build-deploy-branches-proc">12.4. Building and deploying projects</a></span></li></ul></li><li><span class="chapter"><a href="#change-requests-con_managing-projects">13. Change requests in Business Central</a></span><ul><li><span class="section"><a href="#creating-change-requests-proc_managing-projects">13.1. Creating change requests</a></span></li><li><span class="section"><a href="#reviewing-change-requests-proc_managing-projects">13.2. Working with change requests</a></span></li></ul></li></ul></div></div><section class="chapter" id="projects-con_managing-projects"><div class="titlepage"><div><div><h2 class="title">Chapter 5. Red Hat Process Automation Manager projects</h2></div></div></div><p>
				Red Hat Process Automation Manager projects contain the business assets that you develop in Red Hat Process Automation Manager and are assigned to a space (for example, <code class="literal">MyProject</code> within <code class="literal">MySpace</code>). Projects also contain configuration files such as a Maven project object model file (<code class="literal">pom.xml</code>), which contains build, environment, and other information about the project, and a KIE module descriptor file (<code class="literal">kmodule.xml</code>), which contains the KIE Base and KIE Session configurations for the assets in the project.
			</p></section><section class="chapter" id="migrating-from-legacy-designer-proc"><div class="titlepage"><div><div><h2 class="title">Chapter 6. Migrating business processes to the new process designer</h2></div></div></div><p>
				The legacy process designer in Business Central is deprecated in Red Hat Process Automation Manager 7.10.0. It will be removed in a future Red Hat Process Automation Manager release. The legacy process designer will not receive any new enhancements or features. If you intend to use the new process designer, start migrating your processes to the new designer. Create all new processes in the new process designer.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The process engine will continue to support the execution and deployment of business processes generated with the legacy designer in to the KIE Server. If you have a legacy business process that is functioning and that you do not intend to change, it is not mandatory to migrate to the new designer at this time.
				</p></div></div><p>
				You can only migrate business processes that contain supported business process nodes in the new designer. More nodes will be added in future versions of Red Hat Process Automation Manager.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have an existing project that contains a business process asset that was created with the legacy process designer.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In Business Central, click <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
					</li><li class="listitem">
						Click the project you want to migrate, for example <span class="strong strong"><strong>Mortgage_Process</strong></span>.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Ok</strong></span> to open the project’s asset list.
					</li><li class="listitem">
						Click the project’s <span class="strong strong"><strong>Business Process</strong></span> asset to open it in the legacy process designer.
					</li><li class="listitem"><p class="simpara">
						Click <span class="strong strong"><strong>Migrate</strong></span> → <span class="strong strong"><strong>Migrate Diagram</strong></span>.
					</p><div class="figure" id="idm140279539760688"><p class="title"><strong>Figure 6.1. Migration confirmation message</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/project-data/migrate-message.png" alt="Migration confirmation message"/></div></div></div></li><li class="listitem"><p class="simpara">
						Select <span class="strong strong"><strong>Yes</strong></span> or <span class="strong strong"><strong>No</strong></span> to confirm if you made changes. This option is only available if you have made changes to your legacy business process.
					</p><div class="figure" id="idm140279539754272"><p class="title"><strong>Figure 6.2. Save diagram changes confirmation</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/project-data/save-changes-migration.png" alt="Save diagram changes confirmation"/></div></div></div></li></ol></div><p>
				If the migration is successful, the business process opens in the new process designer and the business process name’s extension changes from *.bpmn2 to *.bpmn.
			</p><p>
				If the migration is unsuccessful due to an unsupported node type, Business Central displays the following error message:
			</p><div class="figure" id="idm140279517305072"><p class="title"><strong>Figure 6.3. Migration failure message</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/project-data/migrate-fail.png" alt="Migration failure message"/></div></div></div></section><section class="chapter" id="mod-projects-overview-con"><div class="titlepage"><div><div><h2 class="title">Chapter 7. Modifying existing projects in Business Central</h2></div></div></div><p>
				Business Central includes a number of sample projects that you can use to get familiar with the product and its features. The sample projects have been designed and created to demonstrate a variety of business scenarios. You can modify the sample projects to meet your specific business needs. For example, Red Hat Process Automation Manager 7.10 contains the <span class="strong strong"><strong>Mortgage_Process</strong></span> sample project, which consists of predefined data objects, guided decision tables, guided rules, forms, and a business process. You can edit the sample to refine your business process.
			</p><p>
				If none of the existing Business Central project samples align with your requirements, you can create a new project or import one from a Git repository. For more information, see <a class="xref" href="#git-import-project" title="Chapter 9. Importing projects from Git repositories">Chapter 9, <em>Importing projects from Git repositories</em></a>. You can import any other project from Git. For example, a project that was developed in another Business Central instance.
			</p></section><section class="chapter" id="creating_business_project"><div class="titlepage"><div><div><h2 class="title">Chapter 8. Creating the mortgage-process project</h2></div></div></div><p>
				A project is a container for assets such as data objects, business processes, guided rules, decision tables, and forms. The project that you are creating is similar to the existing <span class="strong strong"><strong>Mortgage_Process</strong></span> sample project in Business Central.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
					</p><p class="simpara">
						Red Hat Process Automation Manager provides a default space called <span class="strong strong"><strong>MySpace</strong></span>, as shown in the following image. You can use the default space to create and test example projects.
					</p><div class="figure" id="idm140279506542288"><p class="title"><strong>Figure 8.1. Default space</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/getting-started/spaces-teams.png" alt="spaces teams"/></div></div></div></li><li class="listitem">
						Click <span class="strong strong"><strong>Add Project</strong></span>.
					</li><li class="listitem">
						Enter <code class="literal">mortgage-process</code> in the <span class="strong strong"><strong>Name</strong></span> field.
					</li><li class="listitem"><p class="simpara">
						Click <span class="strong strong"><strong>Configure Advanced Options</strong></span> and modify the GAV fields with the following values:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="strong strong"><strong>Group ID</strong></span>: <code class="literal">com.myspace</code>
							</li><li class="listitem">
								<span class="strong strong"><strong>Artifact ID</strong></span>: <code class="literal">mortgage-process</code>
							</li><li class="listitem">
								<span class="strong strong"><strong>Version</strong></span>: <code class="literal">1.0.0</code>
							</li></ul></div></li><li class="listitem">
						Click <span class="strong strong"><strong>Add</strong></span>.
					</li></ol></div><p>
				The <span class="strong strong"><strong>Assets</strong></span> view of the project opens.
			</p><section class="section" id="mod-sample-project"><div class="titlepage"><div><div><h2 class="title">8.1. Modifying the Mortgage_Process sample project</h2></div></div></div><p>
					The <span class="strong strong"><strong>Mortgage_Process</strong></span> sample project consists of predefined data objects, guided decision tables, guided rules, forms, and a business process. Using the sample project provides a quick way to get acclimated with Red Hat Process Automation Manager. In a real business scenario, you would create all of the assets by providing data that is specific to your business requirements.
				</p><p>
					Navigate to the <span class="strong strong"><strong>Mortgage_Process</strong></span> sample project to view the predefined assets.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
						</li><li class="listitem">
							In the upper-right corner of the screen, click the arrow next to <span class="strong strong"><strong>Add Project</strong></span> and select <span class="strong strong"><strong>Try Samples</strong></span>.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Mortgage_Process</strong></span> and click <span class="strong strong"><strong>Ok</strong></span>. The <span class="strong strong"><strong>Assets</strong></span> view of the project opens.
						</li><li class="listitem">
							Click an asset that you want to modify. All of the assets can be edited to meet your project requirements.
						</li></ol></div></section><section class="section" id="create_archetype_project"><div class="titlepage"><div><div><h2 class="title">8.2. Creating a project using archetypes</h2></div></div></div><p>
					Archetypes are projects that are installed in Apache Maven repositories and contain a specific template structure. You can also generate parameterized versions of the project templates using archetypes. When you use an archetype to create a project, it is added to the Git repository that is connected to your Red Hat Process Automation Manager installation.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have created an archetype and added it to the <span class="strong strong"><strong>Archetypes</strong></span> page in the Business Central <span class="strong strong"><strong>Settings</strong></span>. For information about creating archetypes, see the <a class="link" href="https://maven.apache.org/guides/mini/guide-creating-archetypes.html">Guide to Creating Archetypes</a>.
						</li><li class="listitem">
							You have set a default archetype in your space in Business Central.
						</li></ul></div><p>
					For more information about archetypes management, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/managing_red_hat_process_automation_manager_and_kie_server_settings#assembly-configuring-central"><span class="emphasis"><em>Configuring Business Central settings and properties</em></span></a>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
						</li><li class="listitem">
							Select or create the space into which you want to add a new project from an archetype template.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Add Project</strong></span>.
						</li><li class="listitem">
							Type the project name and description in the <span class="strong strong"><strong>Name</strong></span> and <span class="strong strong"><strong>Description</strong></span> fields.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Configure Advanced Options</strong></span>.
						</li><li class="listitem">
							Select the <span class="strong strong"><strong>Based on template</strong></span> checkbox.
						</li><li class="listitem">
							Select the archetype from drop-down options if required. The default archetype is selected that is already set in the space.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Add</strong></span>.
						</li></ol></div><p>
					The Assets view of the project opens based on the selected archetype template.
				</p></section></section><section class="chapter" id="git-import-project"><div class="titlepage"><div><div><h2 class="title">Chapter 9. Importing projects from Git repositories</h2></div></div></div><p>
				Git is a distributed version control system. It implements revisions as commit objects. When you save your changes to a repository, a new commit object in the Git repository is created.
			</p><p>
				Business Central uses Git to store project data, including assets such as rules and processes. When you create a project in Business Central, it is added to a Git repository that is connected to Business Central. If you have projects in Git repositories, you can import the project’s master branch or import the master branch along with other specific branches into the Business Central Git repository through Business Central spaces.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Red Hat Process Automation Manager projects exist in an external Git repository.
					</li><li class="listitem">
						You have the credentials required for read access to that external Git repository.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
					</li><li class="listitem">
						Select or create the space into which you want to import the projects. The default space is <span class="strong strong"><strong>MySpace</strong></span>.
					</li><li class="listitem">
						In the upper-right corner of the screen, click the arrow next to <span class="strong strong"><strong>Add Project</strong></span> and select <span class="strong strong"><strong>Import Project</strong></span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Import Project</strong></span> window, enter the URL and credentials for the Git repository that contains the project that you want to import and click <span class="strong strong"><strong>Import</strong></span>. The <span class="strong strong"><strong>Import Projects</strong></span> page is displayed.
					</li><li class="listitem"><p class="simpara">
						Optional: To import master and specific branches, do the following tasks:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								On the <span class="strong strong"><strong>Import Projects</strong></span> page, click the branches 
								<span class="inlinemediaobject"><img src="images/_images/project-data/branch-icon.png" alt="branch icon"/></span>
								 icon.
							</li><li class="listitem"><p class="simpara">
								In the <span class="strong strong"><strong>Branches to be imported</strong></span> window, select branches from the list.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									You must select the master branch as a minimum.
								</p></div></div></li><li class="listitem">
								Click <span class="strong strong"><strong>Ok</strong></span>.
							</li></ol></div></li><li class="listitem">
						On the <span class="strong strong"><strong>Import Projects</strong></span> page, ensure the project is highlighted and click <span class="strong strong"><strong>Ok</strong></span>.
					</li></ol></div></section><section class="chapter" id="revise-project-ver"><div class="titlepage"><div><div><h2 class="title">Chapter 10. Revising project versions</h2></div></div></div><p>
				You can revise the version number of a project in Red Hat Process Automation Manager before you build and deploy a new instance of the project. Creating a new version of a project preserves the old version in case there is a problem with the new one and you need to revert back.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						KIE Server is deployed and connected to Business Central.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
					</li><li class="listitem">
						Click the project you want to deploy, for example <span class="strong strong"><strong>Mortgage_Process</strong></span>.
					</li><li class="listitem"><p class="simpara">
						Click <span class="strong strong"><strong>Deploy</strong></span>.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								If there is no container with the project name, a container with default values is automatically created.
							</li><li class="listitem"><p class="simpara">
								If an older version of the project is already deployed, go to the project settings and change the project version. When finished, save the change and click <span class="strong strong"><strong>Deploy</strong></span>. This will deploy a new version of the same project with the latest changes in place, alongside the older version(s).
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									You can also select the <span class="strong strong"><strong>Build &amp; Install</strong></span> option to build the project and publish the KJAR file to the configured Maven repository without deploying to a KIE Server. In a development environment, you can click <span class="strong strong"><strong>Deploy</strong></span> to deploy the built KJAR file to a KIE Server without stopping any running instances (if applicable), or click <span class="strong strong"><strong>Redeploy</strong></span> to deploy the built KJAR file and replace all instances. The next time you deploy or redeploy the built KJAR, the previous deployment unit (KIE container) is automatically updated in the same target KIE Server. In a production environment, the <span class="strong strong"><strong>Redeploy</strong></span> option is disabled and you can click <span class="strong strong"><strong>Deploy</strong></span> only to deploy the built KJAR file to a new deployment unit (KIE container) on a KIE Server.
								</p><p>
									To configure the KIE Server environment mode, set the <code class="literal">org.kie.server.mode</code> system property to <code class="literal">org.kie.server.mode=development</code> or <code class="literal">org.kie.server.mode=production</code>. To configure the deployment behavior for a corresponding project in Business Central, go to project <span class="strong strong"><strong>Settings</strong></span> → <span class="strong strong"><strong>General Settings</strong></span> → <span class="strong strong"><strong>Version</strong></span> and toggle the <span class="strong strong"><strong>Development Mode</strong></span> option. By default, KIE Server and all new projects in Business Central are in development mode. You cannot deploy a project with <span class="strong strong"><strong>Development Mode</strong></span> turned on or with a manually added <code class="literal">SNAPSHOT</code> version suffix to a KIE Server that is in production mode.
								</p></div></div></li></ul></div></li><li class="listitem">
						To review project deployment details, click <span class="strong strong"><strong>View deployment details</strong></span> in the deployment banner at the top of the screen or in the <span class="strong strong"><strong>Deploy</strong></span> drop-down menu. This option directs you to the <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Deploy</strong></span> → <span class="strong strong"><strong>Execution Servers</strong></span> page.
					</li><li class="listitem">
						To verify process definitions, click <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Manage</strong></span> → <span class="strong strong"><strong>Process Definitions</strong></span>, and click 
						<span class="inlinemediaobject"><img src="images/_images/getting-started/btn_refresh.png" alt="btn refresh"/></span>
						.
					</li><li class="listitem">
						Click 
						<span class="inlinemediaobject"><img src="images/_images/project-data/dots.png" alt="dots"/></span>
						 in the <span class="strong strong"><strong>Actions</strong></span> column and select <span class="strong strong"><strong>Start</strong></span> to start a new instance of the process.
					</li></ol></div></section><section class="chapter" id="config-project-settings"><div class="titlepage"><div><div><h2 class="title">Chapter 11. Configuring project settings</h2></div></div></div><p>
				Starting with Red Hat Process Automation Manager 7.10, Business Central contains additional project setting categories in the new process designer.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created a Business Central project.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						To access the project <span class="strong strong"><strong>Settings</strong></span> tab, in Business Central go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
					</li><li class="listitem">
						Click the project name.
					</li><li class="listitem"><p class="simpara">
						Click <span class="strong strong"><strong>Settings</strong></span> to view or modify the following project settings:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								<span class="strong strong"><strong>General Settings</strong></span> - Enables users to set the project’s <span class="strong strong"><strong>Name</strong></span>, <span class="strong strong"><strong>Description</strong></span>, <span class="strong strong"><strong>Group ID</strong></span>, <span class="strong strong"><strong>Artifact ID</strong></span>, <span class="strong strong"><strong>Version</strong></span> (GAV), and <span class="strong strong"><strong>Development Mode</strong></span> attributes. It also includes the following options:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<span class="strong strong"><strong>URL</strong></span> - Use to specify a read-only URL for cloning a project as a git repository.
									</li><li class="listitem">
										<span class="strong strong"><strong>Disable GAV conflict check</strong></span> - Determines whether to enable or disable the GAV conflict check. Disabling this feature enables projects to have the same GAV values.
									</li><li class="listitem">
										<span class="strong strong"><strong>Allow child GAV edition</strong></span> - Allows GAV editions for sub-projects.
									</li></ul></div></li><li class="listitem">
								<span class="strong strong"><strong>Dependencies</strong></span> - Used to add dependencies either manually, by entering the <span class="strong strong"><strong>Group ID</strong></span>, <span class="strong strong"><strong>Artifact ID</strong></span>, and <span class="strong strong"><strong>Version</strong></span> or from a repository project in Business Central. For each dependency, set select <span class="strong strong"><strong>All</strong></span> or <span class="strong strong"><strong>None</strong></span> for the <span class="strong strong"><strong>Package white list</strong></span> option.
							</li><li class="listitem"><p class="simpara">
								<span class="strong strong"><strong>KIE Bases</strong></span> - The new name for what was previously called <span class="strong strong"><strong>Knowledge bases</strong></span>. You must specify a KIE base as the default. Provide the following details to add a Kie base:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<span class="strong strong"><strong>Name</strong></span>
									</li><li class="listitem">
										<span class="strong strong"><strong>Included KIE bases</strong></span>
									</li><li class="listitem">
										<span class="strong strong"><strong>Package</strong></span>
									</li><li class="listitem">
										<span class="strong strong"><strong>Equal Behavior</strong></span> - <span class="strong strong"><strong>Identity</strong></span> or <span class="strong strong"><strong>Equality</strong></span>
									</li><li class="listitem">
										<span class="strong strong"><strong>Event Processing Model</strong></span> - <span class="strong strong"><strong>Stream</strong></span> or <span class="strong strong"><strong>Cloud</strong></span>
									</li><li class="listitem">
										<span class="strong strong"><strong>KIE sessions</strong></span>
									</li></ul></div></li><li class="listitem">
								<span class="strong strong"><strong>External Data Objects</strong></span> - Data objects are not explicitly defined within a project or project dependencies that a rule author may require. External data objects are usually provided by the Java runtime, for example, <code class="literal">java.util.List</code>.
							</li><li class="listitem">
								<span class="strong strong"><strong>Validation</strong></span> - Maven repositories that are used to check the uniqueness of a project’s GAV when creating a new project or module or when installing or deploying a project to a Maven repository.
							</li><li class="listitem"><p class="simpara">
								<span class="strong strong"><strong>Service Tasks</strong></span> - The following service tasks can be added to a project:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<span class="strong strong"><strong>BusinessRuleTask</strong></span> - Execute a business rule task
									</li><li class="listitem">
										<span class="strong strong"><strong>Decision Task</strong></span> - Execute a DMN decision task
									</li><li class="listitem">
										<span class="strong strong"><strong>Email</strong></span> - Send email
									</li><li class="listitem">
										<span class="strong strong"><strong>JMSSendTask</strong></span> - Send JMS Message
									</li><li class="listitem">
										<span class="strong strong"><strong>Rest</strong></span> - Perform a Rest call
									</li><li class="listitem">
										<span class="strong strong"><strong>ServiceTask</strong></span> - Execute a service task
									</li><li class="listitem">
										<span class="strong strong"><strong>WebService</strong></span> - Perform a web service call
									</li></ul></div></li><li class="listitem"><p class="simpara">
								<span class="strong strong"><strong>Deployments</strong></span> - Deployments are divided in to the following categories:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<span class="strong strong"><strong>General Settings</strong></span> - <span class="strong strong"><strong>Runtime Strategy</strong></span>, <span class="strong strong"><strong>Persistence Unit Name</strong></span>, <span class="strong strong"><strong>Persistence Mode</strong></span>, <span class="strong strong"><strong>Audit Persistence Unit Name</strong></span>, and <span class="strong strong"><strong>Audit Mode</strong></span>
									</li><li class="listitem">
										<span class="strong strong"><strong>Marshalling strategies</strong></span>
									</li><li class="listitem">
										<span class="strong strong"><strong>Global</strong></span>
									</li><li class="listitem">
										<span class="strong strong"><strong>Event listeners</strong></span>
									</li><li class="listitem">
										<span class="strong strong"><strong>Required roles</strong></span>
									</li><li class="listitem">
										<span class="strong strong"><strong>Remoteable classes</strong></span>
									</li><li class="listitem">
										<span class="strong strong"><strong>Task event listeners</strong></span>
									</li><li class="listitem">
										<span class="strong strong"><strong>Configuration</strong></span>
									</li><li class="listitem">
										<span class="strong strong"><strong>Environment entries</strong></span>
									</li><li class="listitem">
										<span class="strong strong"><strong>Work item handlers</strong></span>
									</li></ul></div></li><li class="listitem"><p class="simpara">
								<span class="strong strong"><strong>Persistence</strong></span> - Persistence is divided in to the following categories:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<span class="strong strong"><strong>Persistence Unit</strong></span>
									</li><li class="listitem">
										<span class="strong strong"><strong>Persistence Provider</strong></span>
									</li><li class="listitem">
										<span class="strong strong"><strong>Data Source</strong></span>
									</li><li class="listitem"><p class="simpara">
										<span class="strong strong"><strong>Properties</strong></span> - Used to set values for the following properties and also to create new properties:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
												<span class="strong strong"><strong>hibernate.dialect</strong></span>
											</li><li class="listitem">
												<span class="strong strong"><strong>hibernate.max_fetch_depth</strong></span>
											</li><li class="listitem">
												<span class="strong strong"><strong>hibernate.hbm2ddl.auto</strong></span>
											</li><li class="listitem">
												<span class="strong strong"><strong>hibernate.show_sql</strong></span>
											</li><li class="listitem">
												<span class="strong strong"><strong>hibernate.id.new_generator_mappings</strong></span>
											</li><li class="listitem">
												<span class="strong strong"><strong>hibernate.transaction.jta.platform</strong></span>
											</li></ul></div></li><li class="listitem">
										<span class="strong strong"><strong>Project Persistable Data Objects</strong></span>
									</li></ul></div></li><li class="listitem">
								<span class="strong strong"><strong>Branch Management</strong></span> - Provides branch role access based on the branch name and assigned user roles.
							</li></ul></div></li><li class="listitem">
						Click <span class="strong strong"><strong>Save</strong></span>.
					</li></ol></div></section><section class="chapter" id="multiple-branches-con"><div class="titlepage"><div><div><h2 class="title">Chapter 12. Multiple branches in Business Central</h2></div></div></div><p>
				Multiple branches support in Business Central provides the ability to create a new branch based on an existing one, including all of its assets. All new, imported, and sample projects open in the default <span class="strong strong"><strong>master</strong></span> branch. You can create as many branches as you need and can work on multiple branches interchangeably without impacting the original project on the <span class="strong strong"><strong>master</strong></span> branch.
			</p><p>
				Red Hat Process Automation Manager 7.10 includes support for persisting branches, which means that Business Central remembers the last branch used and will open in that branch when you log back in.
			</p><section class="section" id="create-branches-proc"><div class="titlepage"><div><div><h2 class="title">12.1. Creating branches</h2></div></div></div><p>
					You can create new branches in Business Central and name them whatever you like. Initially, you will only have the default <span class="strong strong"><strong>master</strong></span> branch. When you create a new branch for a project, you are making a copy of the selected branch. You can make changes to the project on the new branch without impacting the original <span class="strong strong"><strong>master</strong></span> branch version.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
						</li><li class="listitem">
							Click the project to create the new branch, for example the <span class="strong strong"><strong>Mortgage_Process</strong></span> sample project.
						</li><li class="listitem"><p class="simpara">
							Click <span class="strong strong"><strong>master</strong></span> → <span class="strong strong"><strong>Add Branch</strong></span>.
						</p><div class="figure" id="idm140279516096704"><p class="title"><strong>Figure 12.1. Create the new branch menu</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/getting-started/new-branch.png" alt="Creating the new branch menu"/></div></div></div></li><li class="listitem">
							Type <code class="literal">testBranch1</code> in the <span class="strong strong"><strong>Name</strong></span> field and select <span class="strong strong"><strong>master</strong></span> from the <span class="strong strong"><strong>Add Branch</strong></span> window. Where <code class="literal">testBranch1</code> is any name that you want to name the new branch.
						</li><li class="listitem">
							Select the branch that will be the base for the new branch from the <span class="strong strong"><strong>Add Branch</strong></span> window. This can be any existing branch.
						</li><li class="listitem"><p class="simpara">
							Click <span class="strong strong"><strong>Add</strong></span>.
						</p><div class="figure" id="idm140279508480496"><p class="title"><strong>Figure 12.2. Add the new branch window</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/getting-started/test-branch.png" alt="Adding the new branch testBranch1"/></div></div></div></li></ol></div><p>
					After adding the new branch, you will be redirected to it, and it will contain all of the assets that you had in your project in the <span class="strong strong"><strong>master</strong></span> branch.
				</p></section><section class="section" id="select-branches-proc"><div class="titlepage"><div><div><h2 class="title">12.2. Selecting branches</h2></div></div></div><p>
					You can switch between branches to make modifications to project assets and test the revised functionality.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Click the current branch name and select the desired project branch from the drop-down list.
						</p><div class="figure" id="idm140279515989936"><p class="title"><strong>Figure 12.3. Select a branch menu</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/project-data/change-branch1.png" alt="Selecting a branch menu"/></div></div></div></li></ol></div><p>
					After selecting the branch, you are redirected to that branch containing the project and all of the assets that you had defined.
				</p></section><section class="section" id="delete-branches-proc"><div class="titlepage"><div><div><h2 class="title">12.3. Deleting branches</h2></div></div></div><p>
					You can delete any branch except for the <span class="strong strong"><strong>master</strong></span> branch. Business Central does not allow you to delete the <span class="strong strong"><strong>master</strong></span> branch to avoid corrupting your environment. You must be in any branch other than <span class="strong strong"><strong>master</strong></span> for the following procedure to work.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Click 
							<span class="inlinemediaobject"><img src="images/_images/project-data/dots.png" alt="dots"/></span>
							 in the upper-right corner of the screen and select <span class="strong strong"><strong>Delete Branch</strong></span>.
						</p><div class="figure" id="idm140279517806736"><p class="title"><strong>Figure 12.4. Delete a branch</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/getting-started/delete-branch.png" alt="Delete a branch"/></div></div></div></li><li class="listitem">
							In the <span class="strong strong"><strong>Delete Branch</strong></span> window, enter the name of the branch you want to delete.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Delete Branch</strong></span>. The branch is deleted and the project branch switches to the master branch.
						</li></ol></div></section><section class="section" id="build-deploy-branches-proc"><div class="titlepage"><div><div><h2 class="title">12.4. Building and deploying projects</h2></div></div></div><p>
					After your project is developed, you can build the project from the specified branch in Business Central and deploy it to the configured KIE Server.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span> and click the project name.
						</li><li class="listitem"><p class="simpara">
							In the upper-right corner, click <span class="strong strong"><strong>Deploy</strong></span> to build the project and deploy it to KIE Server.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								You can also select the <span class="strong strong"><strong>Build &amp; Install</strong></span> option to build the project and publish the KJAR file to the configured Maven repository without deploying to a KIE Server. In a development environment, you can click <span class="strong strong"><strong>Deploy</strong></span> to deploy the built KJAR file to a KIE Server without stopping any running instances (if applicable), or click <span class="strong strong"><strong>Redeploy</strong></span> to deploy the built KJAR file and replace all instances. The next time you deploy or redeploy the built KJAR, the previous deployment unit (KIE container) is automatically updated in the same target KIE Server. In a production environment, the <span class="strong strong"><strong>Redeploy</strong></span> option is disabled and you can click <span class="strong strong"><strong>Deploy</strong></span> only to deploy the built KJAR file to a new deployment unit (KIE container) on a KIE Server.
							</p><p>
								To configure the KIE Server environment mode, set the <code class="literal">org.kie.server.mode</code> system property to <code class="literal">org.kie.server.mode=development</code> or <code class="literal">org.kie.server.mode=production</code>. To configure the deployment behavior for a corresponding project in Business Central, go to project <span class="strong strong"><strong>Settings</strong></span> → <span class="strong strong"><strong>General Settings</strong></span> → <span class="strong strong"><strong>Version</strong></span> and toggle the <span class="strong strong"><strong>Development Mode</strong></span> option. By default, KIE Server and all new projects in Business Central are in development mode. You cannot deploy a project with <span class="strong strong"><strong>Development Mode</strong></span> turned on or with a manually added <code class="literal">SNAPSHOT</code> version suffix to a KIE Server that is in production mode.
							</p></div></div><p class="simpara">
							If the build fails, address any problems described in the <span class="strong strong"><strong>Alerts</strong></span> panel at the bottom of the screen.
						</p><p class="simpara">
							To review project deployment details, click <span class="strong strong"><strong>View deployment details</strong></span> in the deployment banner at the top of the screen or in the <span class="strong strong"><strong>Deploy</strong></span> drop-down menu. This option directs you to the <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Deploy</strong></span> → <span class="strong strong"><strong>Execution Servers</strong></span> page.
						</p><p class="simpara">
							For more information about project deployment options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_and_managing_red_hat_process_automation_manager_services#assembly-packaging-deploying"><span class="emphasis"><em>Packaging and deploying a Red Hat Process Automation Manager project</em></span></a>.
						</p></li></ol></div></section></section><section class="chapter" id="change-requests-con_managing-projects"><div class="titlepage"><div><div><h2 class="title">Chapter 13. Change requests in Business Central</h2></div></div></div><p>
				If you have more than one branch in a Business Central project and you make a change in a branch that you want to merge to another branch, you can create a change request. Any user with permission to view the target branch, usually the <span class="strong strong"><strong>master</strong></span> branch, can see the change request.
			</p><section class="section" id="creating-change-requests-proc_managing-projects"><div class="titlepage"><div><div><h2 class="title">13.1. Creating change requests</h2></div></div></div><p>
					You can create a change request in a Business Central project after you have made a change in your project, for example after you have added or deleted an attribute to an asset.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have more than one branch of a Business Central project.
						</li><li class="listitem">
							You made a change in one branch that you want to merge to another branch.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span> and select the space and project that contains the change that you want to merge.
						</li><li class="listitem"><p class="simpara">
							On the project page, select the branch that contains the change.
						</p><div class="figure" id="idm140279517753136"><p class="title"><strong>Figure 13.1. Select a branch menu</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/project-data/change-branch1.png" alt="Selecting a branch menu"/></div></div></div></li><li class="listitem"><p class="simpara">
							Do one of the following tasks to submit the change request:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Click 
									<span class="inlinemediaobject"><img src="images/_images/project-data/dots.png" alt="dots"/></span>
									 in the upper-right corner of the screen and select <span class="strong strong"><strong>Submit Change Request</strong></span>.
								</li><li class="listitem"><p class="simpara">
									Click the <span class="strong strong"><strong>Change Requests</strong></span> tab and then click <span class="strong strong"><strong>Submit Change Request</strong></span>.
								</p><p class="simpara">
									The <span class="strong strong"><strong>Submit Change Request</strong></span> window appears.
								</p></li></ul></div></li><li class="listitem">
							Enter a summary and a description, select the target branch, and click <span class="strong strong"><strong>Submit</strong></span>. The target branch is the branch where the change will be merged. After you click <span class="strong strong"><strong>Submit</strong></span>, the change request window appears.
						</li></ol></div></section><section class="section" id="reviewing-change-requests-proc_managing-projects"><div class="titlepage"><div><div><h2 class="title">13.2. Working with change requests</h2></div></div></div><p>
					You can view change requests for any branch that you have access to. You must have administrator permissions to accept a change request.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have more than one branch of a Business Central project.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span> and select a space and project.
						</li><li class="listitem"><p class="simpara">
							On the project page, verify that you are on the correct branch.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/_images/project-data/change-branch1.png" alt="Selecting a branch menu"/></div></div></li><li class="listitem">
							Click the <span class="strong strong"><strong>Change Requests</strong></span> tab. A list of pending change requests appears.
						</li><li class="listitem">
							To filter change requests, select <span class="strong strong"><strong>Open</strong></span>, <span class="strong strong"><strong>Closed</strong></span>, or <span class="strong strong"><strong>All</strong></span> to the left of the <span class="strong strong"><strong>Search</strong></span> box.
						</li><li class="listitem">
							To search for specific change requests, enter an ID or text in the <span class="strong strong"><strong>Search</strong></span> box and click the magnifying glass.
						</li><li class="listitem"><p class="simpara">
							To view the change request details, click the summary link. The change request window has two tabs:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Review the <span class="strong strong"><strong>Overview</strong></span> tab for general information about the change request.
								</li><li class="listitem">
									Click the <span class="strong strong"><strong>Changed Files</strong></span> tab and expand a file to review the proposed changes.
								</li></ol></div></li><li class="listitem"><p class="simpara">
							Click a button in the top right corner.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Click <span class="strong strong"><strong>Squash and Merge</strong></span> to squash all commits into a single commit and merge the commit to the target branch.
								</li><li class="listitem">
									Click <span class="strong strong"><strong>Merge</strong></span> to merge the changes into the target branch.
								</li><li class="listitem">
									Click <span class="strong strong"><strong>Reject</strong></span> to reject the changes and leave the target branch unchanged.
								</li><li class="listitem">
									Click <span class="strong strong"><strong>Close</strong></span> to close the change request without rejecting or accepting it. Note that only the user who created the submitted the change request can close it.
								</li><li class="listitem">
									Click <span class="strong strong"><strong>Cancel</strong></span> to return to the project window without making any changes.
								</li></ul></div></li></ol></div></section></section></div><div class="part" id="assembly-managing-assets"><div class="titlepage"><div><div><h1 class="title">Part III. Managing assets in Business Central</h1></div></div></div><div class="partintro" id="idm140279508168560"><div/><p>
				As a process administrator, you can use Business Central in Red Hat Process Automation Manager to manage assets, such as rules, business processes, and decision tables.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Red Hat JBoss Enterprise Application Platform 7.3 is installed. For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.3/html-single/installation_guide/"><span class="emphasis"><em>Red Hat JBoss Enterprise Application Platform 7.3 Installation Guide</em></span></a>.
					</li><li class="listitem">
						Red Hat Process Automation Manager is installed and configured with KIE Server. For more information see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-install-on-eap"><span class="emphasis"><em>Installing and configuring Red Hat Process Automation Manager on Red Hat JBoss EAP 7.3</em></span></a>.
					</li><li class="listitem">
						Red Hat Process Automation Manager is running and you can log in to Business Central with the <code class="literal">developer</code> role. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
					</li></ul></div><div class="toc"><p><strong>Table of Contents</strong></p><ul class="toc"><li><span class="chapter"><a href="#assets_con">14. Asset overview</a></span></li><li><span class="chapter"><a href="#assets_types_ref">15. Types of assets</a></span></li><li><span class="chapter"><a href="#creating_assets_proc_managing-assets">16. Creating assets</a></span></li><li><span class="chapter"><a href="#assets_renaming_proc">17. Renaming, copying, or deleting assets</a></span></li><li><span class="chapter"><a href="#assets_metadata_managing_proc">18. Managing asset metadata and version history</a></span></li><li><span class="chapter"><a href="#assets_filtering_proc">19. Filtering assets by tags</a></span></li><li><span class="chapter"><a href="#assets_unlocking_proc">20. Unlocking assets</a></span></li></ul></div></div><section class="chapter" id="assets_con"><div class="titlepage"><div><div><h2 class="title">Chapter 14. Asset overview</h2></div></div></div><p>
				Business rules, process definition files, and other assets and resources created in Business Central are stored in the Artifact repository (Knowledge Store) that is accessed by the KIE Server.
			</p><p>
				The Artifact repository is a centralized repository for your business knowledge. It connects multiple GIT repositories so that you can access them from a single environment while storing different kinds of knowledge and artifacts in different locations. GIT is a distributed version control system and it implements revisions as commit objects. Every time you save your changes to a repository this creates a new commit object in the GIT repository. Similarly, the user can also copy an existing repository. This copying process is typically called cloning and the resulting repository can be referred to as clone. Every clone contains the full history of the collection of files and a cloned repository has the same content as the original repository.
			</p><p>
				Business Central provides a web front-end that enables you to view and update the stored content. To access Artifact repository assets, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span> in Business Central and click the project name.
			</p></section><section class="chapter" id="assets_types_ref"><div class="titlepage"><div><div><h2 class="title">Chapter 15. Types of assets</h2></div></div></div><p>
				Anything that can be versioned in the Business Central repository is an asset. A project can contain rules, packages, business processes, decision tables, fact models, domain specific languages (DSLs) or any other assets that are specific to your project’s requirements.
			</p><p>
				The following image shows the available assets in Red Hat Process Automation Manager 7.10.
			</p><div class="informalfigure"><div class="mediaobject"><img src="images/_images/getting-started/types-of-assets-PAM.png" alt="types of assets PAM"/></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Case Management (Preview) and Case Definition asset types are only available in case projects.
				</p></div></div><p>
				The following sections describe each asset type in Red Hat Process Automation Manager 7.10.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Business Process
					</p><p class="simpara">
						Business Processes are diagrams that describe the steps necessary to achieve business goals (see the <a class="link" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_BRMS_Platform/5/html-single/BRMS_Business_Process_Management_Guide/index.html"><span class="emphasis"><em>Red Hat Process Automation Manager Business Process Management Guide</em></span></a> for more details).
					</p></li><li class="listitem"><p class="simpara">
						Case Management (Preview)
					</p><p class="simpara">
						Case management is an extension of Business Process Management (BPM) that enables you to manage adaptable business processes. Case management provides problem resolution for non-repeatable, unpredictable processes as opposed to the efficiency-oriented approach of BPM for routine, predictable tasks. It manages one-off situations when the process cannot be predicted in advance.
					</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							The business process application example includes features that are Technology Preview only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and are not recommended for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Case Definition
					</p><p class="simpara">
						Cases are designed using the Case definition process designer in Business Central. The case design is the basis of case management and sets out the specific goals and tasks for each case. The case flow can be modified dynamically during run time by adding dynamic tasks or processes.
					</p></li><li class="listitem"><p class="simpara">
						Data Object
					</p><p class="simpara">
						Data objects are the building blocks for the rule assets that you create. Data objects are custom data types implemented as Java objects in specified packages of your project. For example, you might create a Person object with data fields Name, Address, and Date of Birth to specify personal details for loan application rules. These custom data types determine what data your assets and your decision service are based on.
					</p></li><li class="listitem"><p class="simpara">
						Decision Table (Spreadsheet)
					</p><p class="simpara">
						Decision tables are collections of rules stored in either a spreadsheet or in the Red Hat Decision Manager user interface as guided decision tables. After you define your rules in an external XLS or XLSX file, you can upload the file as a decision table in your project in Business Central.
					</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							You should typically upload only one spreadsheet of decision tables, containing all necessary <code class="literal">RuleTable</code> definitions, per rule package in Business Central. You can upload separate decision table spreadsheets for separate packages, but uploading multiple spreadsheets in the same package can cause compilation errors from conflicting <code class="literal">RuleSet</code> or <code class="literal">RuleTable</code> attributes and is therefore not recommended.
						</p></div></div></li><li class="listitem"><p class="simpara">
						DMN
					</p><p class="simpara">
						Decision Model and Notation (DMN) creates a standardized bridge for the gap between the business decision design and decision implementation. You can use the DMN designer in Business Central to design DMN decision requirements diagrams (DRDs) and define decision logic for a complete and functional DMN decision model.
					</p></li><li class="listitem"><p class="simpara">
						DRL file
					</p><p class="simpara">
						A rule file is typically a file with a .drl extension. In a DRL file you can have multiple rules, queries and functions, as well as some resource declarations like imports, globals and attributes that are assigned and used by your rules and queries. However, you are also able to spread your rules across multiple rule files (in that case, the extension .rule is suggested, but not required) - spreading rules across files can help with managing large numbers of rules. A DRL file is simply a text file.
					</p></li><li class="listitem"><p class="simpara">
						DSL definition
					</p><p class="simpara">
						Domain Specific Languages (DSLs) are a way of creating a rule language that is dedicated to your problem domains. A set of DSL definitions consists of transformations from DSL "sentences" to DRL constructs, which lets you use of all the underlying rule language and decision engine features.
					</p></li><li class="listitem"><p class="simpara">
						Enumeration
					</p><p class="simpara">
						Data enumerations are an optional asset type that can be configured to provide drop-down lists for the guided designer. They are stored and edited just like any other asset, and apply to the package that they belong to.
					</p></li><li class="listitem"><p class="simpara">
						Form
					</p><p class="simpara">
						Forms are used for collecting user data for business process. Business Central provides the option to automatically generate forms, which can then be edited to meet specific business process requirements.
					</p></li><li class="listitem"><p class="simpara">
						Global Variable(s)
					</p><p class="simpara">
						Global variables are used to make application objects available to the rules. Typically, they are used to provide data or services that the rules use, especially application services used in rule consequences, and to return data from the rules, like logs or values added in rule consequences, or for the rules to interact with the application, doing callbacks.
					</p></li><li class="listitem"><p class="simpara">
						Guided Decision Table
					</p><p class="simpara">
						Decision tables are collections of rules stored in either a spreadsheet or in the Red Hat Decision Manager user interface as guided decision tables.
					</p></li><li class="listitem"><p class="simpara">
						Guided Decision Table Graph
					</p><p class="simpara">
						A Guided Decision Table Graph is a collection of related guided decision tables that are displayed within a single designer. You can use this designer to better visualize and work with various related decision tables in one location. Additionally, when a condition or an action in one table uses the same data type as a condition or an action in another table, the tables will be physically linked with a line in the table graph designer.
					</p><p class="simpara">
						For example, if one decision table determines a loan application rate and another table uses the application rate to determine some other action, then the two decision tables are linked in a guided decision table graph.
					</p></li><li class="listitem"><p class="simpara">
						Guided Rule
					</p><p class="simpara">
						Rules provide the logic for the decision engine to execute against. A rule includes a name, attributes, a <code class="literal">when</code> statement on the left hand side of the rule, and a <code class="literal">then</code> statement on the right hand side of the rule.
					</p></li><li class="listitem"><p class="simpara">
						Guided Rule Template
					</p><p class="simpara">
						Guided rule templates provide a reusable rule structure for multiple rules that are compiled into Drools Rule Language (DRL) and form the core of the decision service for your project.
					</p></li><li class="listitem"><p class="simpara">
						Package
					</p><p class="simpara">
						All assets are contained in packages in Business Central. A package is a folder for rules and also serves as a "namespace".
					</p></li><li class="listitem"><p class="simpara">
						Solver configuration
					</p><p class="simpara">
						A Solver configuration is created by the Solver designer and can be run in the Execution Solver or plain Java code after the KJAR is deployed. You can edit and create Solver configurations in Business Central.
					</p></li><li class="listitem"><p class="simpara">
						Test Scenario
					</p><p class="simpara">
						Test scenarios in Red Hat Process Automation Manager enable you to validate the functionality of rules, models, and events before deploying them into production. A test scenario uses data for conditions that resemble an instance of your fact or project model. This data is matched against a given set of rules and if the expected results match the actual results, the test is successful. If the expected results do not match the actual results, then the test fails.
					</p></li><li class="listitem"><p class="simpara">
						Test Scenario (Legacy)
					</p><p class="simpara">
						Red Hat Process Automation Manager 7.10 includes support for the legacy Test Scenario because the default Test Scenario asset is still in development.
					</p></li><li class="listitem"><p class="simpara">
						Work Item definition
					</p><p class="simpara">
						A work item definition defines how a custom task is presented. For example, the task name, icon, parameters, and similar attributes.
					</p></li></ul></div></section><section class="chapter" id="creating_assets_proc_managing-assets"><div class="titlepage"><div><div><h2 class="title">Chapter 16. Creating assets</h2></div></div></div><p>
				You can create business processes, rules, DRL files, and other assets in your Business Central projects.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Migrating business processes is an irreversible process.
				</p></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span> and click the project name. For example, <span class="strong strong"><strong>Evaluation</strong></span>.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Add Asset</strong></span> and select the asset type.
					</li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Create new <code class="literal"><span class="emphasis"><em>asset_type</em></span></code></strong></span> window, add the required information and click <span class="strong strong"><strong>Ok</strong></span>.
					</p><div class="figure" id="idm140279508878864"><p class="title"><strong>Figure 16.1. Define Asset</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/getting-started/3275.png" alt="A screenshot of Create new pop-up dialog"/></div></div></div></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If you have not created a project, you can either add a project, use a sample project, or import an existing project. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_and_managing_red_hat_process_automation_manager_services#assembly-managing-projects"><span class="emphasis"><em>Managing projects in Business Central</em></span></a>.
				</p></div></div></section><section class="chapter" id="assets_renaming_proc"><div class="titlepage"><div><div><h2 class="title">Chapter 17. Renaming, copying, or deleting assets</h2></div></div></div><p>
				After an asset has been created and defined, you can use the <span class="strong strong"><strong>Repository View</strong></span> of the <span class="strong strong"><strong>Project Explorer</strong></span> to copy, rename, delete, or archive assets as needed.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span> and click the project name.
					</li><li class="listitem">
						Click the asset name and expand the <span class="strong strong"><strong>Project Explorer</strong></span> by clicking 
						<span class="inlinemediaobject"><img src="images/_images/getting-started/expand-proj-explorer.png" alt="expand proj explorer"/></span>
						 on the upper-left corner.
					</li><li class="listitem">
						Click 
						<span class="inlinemediaobject"><img src="images/_images/admin-and-config/4766.png" alt="4766"/></span>
						 in the <span class="strong strong"><strong>Project Explorer</strong></span> toolbar and select <span class="strong strong"><strong>Repository View</strong></span> to display the folders and files that make up the asset.
					</li><li class="listitem"><p class="simpara">
						Use the icons next to each listed asset to copy, rename, delete, or archive the asset as needed. Some of these options may not be available for all assets.
					</p><div class="figure" id="idm140279515952720"><p class="title"><strong>Figure 17.1. Copy, rename, delete, or archive assets</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/admin-and-config/assets-renaming.png" alt="assets renaming"/></div></div></div></li><li class="listitem"><p class="simpara">
						Use the following toolbar buttons to copy, rename, or delete assets.
					</p><div class="figure" id="idm140279518012160"><p class="title"><strong>Figure 17.2. Toolbar options</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/admin-and-config/tools.png" alt="tools"/></div></div></div></li></ol></div></section><section class="chapter" id="assets_metadata_managing_proc"><div class="titlepage"><div><div><h2 class="title">Chapter 18. Managing asset metadata and version history</h2></div></div></div><p>
				Most assets within Business Central have metadata and version information associated with them to help you identify and organize them within your projects. You can manage asset metadata and version history from the asset designer in Business Central.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span> and click the project name.
					</li><li class="listitem">
						Select the asset from the list to open the asset designer.
					</li><li class="listitem"><p class="simpara">
						In the asset designer window, select <span class="strong strong"><strong>Overview</strong></span>. If an asset doesn’t have an <span class="strong strong"><strong>Overview</strong></span> tab, then no metadata is associated with that asset.
					</p><div class="informalfigure"><div class="mediaobject"><img src="images/_images/admin-and-config/6593.png" alt="6593"/></div></div></li><li class="listitem"><p class="simpara">
						Select the <span class="strong strong"><strong>Version History</strong></span> or <span class="strong strong"><strong>Metadata</strong></span> tab to edit and update version and metadata details.
					</p><div class="informalfigure"><div class="mediaobject"><img src="images/_images/admin-and-config/meta-data.png" alt="meta data"/></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Another way to update the working version of an asset is by clicking <span class="strong strong"><strong>Latest Version</strong></span> in the top-right corner of the asset designer.
						</p><div class="figure" id="idm140279515923568"><p class="title"><strong>Figure 18.1. Latest version of an asset</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/admin-and-config/6594.png" alt="Get latest version of asset"/></div></div></div></div></div></li><li class="listitem">
						Click <span class="strong strong"><strong>Save</strong></span> to save changes.
					</li></ol></div></section><section class="chapter" id="assets_filtering_proc"><div class="titlepage"><div><div><h2 class="title">Chapter 19. Filtering assets by tags</h2></div></div></div><p>
				You can apply tags in the metadata of each asset and then group assets by tags in the Project Explorer. This feature helps you quickly search through assets of a specific category.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span> and click the project name.
					</li><li class="listitem">
						Open the asset editor by clicking the asset name.
					</li><li class="listitem">
						In the asset editor window, go to <span class="strong strong"><strong>Overview → Metadata</strong></span>.
					</li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Tags</strong></span> field, enter the name of your new tag and click <span class="strong strong"><strong>Add new tag(s)</strong></span>. You can assign multiple tags to an asset by separating tag names with a space.
					</p><div class="figure" id="idm140279509173728"><p class="title"><strong>Figure 19.1. Creating tags</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/admin-and-config/Creating_Tags.png" alt="Creating Tags in Matadata view"/></div></div></div><p class="simpara">
						The assigned tags are displayed as buttons next to the <span class="strong strong"><strong>Tags</strong></span> field.
					</p><div class="figure" id="idm140279509168624"><p class="title"><strong>Figure 19.2. Tags in metadata view</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/admin-and-config/Created_Tags.png" alt="Tags created in Metadata View"/></div></div></div><p class="simpara">
						Click the trash icon on the tag button to delete the tag.
					</p><div class="figure" id="idm140279509164240"><p class="title"><strong>Figure 19.3. Deleting tags in metadata view</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/admin-and-config/delete-tag.png" alt="Deleting tags in Metadata View"/></div></div></div></li><li class="listitem">
						Click <span class="strong strong"><strong>Save</strong></span> to save your metadata changes.
					</li><li class="listitem">
						Expand the <span class="strong strong"><strong>Project Explorer</strong></span> by clicking 
						<span class="inlinemediaobject"><img src="images/_images/getting-started/expand-proj-explorer.png" alt="expand proj explorer"/></span>
						 on the upper-left corner.
					</li><li class="listitem"><p class="simpara">
						Click 
						<span class="inlinemediaobject"><img src="images/_images/admin-and-config/5461.png" alt="5461"/></span>
						 in the <span class="strong strong"><strong>Project Explorer</strong></span> toolbar and select <span class="strong strong"><strong>Enable Tag filtering</strong></span>.
					</p><div class="figure" id="idm140279517547744"><p class="title"><strong>Figure 19.4. Enable tag filtering</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/admin-and-config/Enable_Tag_Filtering.png" alt="Enable Tag Filtering in Customize View"/></div></div></div><p class="simpara">
						This displays a <span class="strong strong"><strong>Filter by Tag</strong></span> drop-down menu in the Project Explorer.
					</p><div class="figure" id="idm140279517542576"><p class="title"><strong>Figure 19.5. Filter by tag</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/admin-and-config/Filter_By_Tag.png" alt="Enable Tag Filtering in Customize View"/></div></div></div><p class="simpara">
						You can sort your assets through this filter to display all assets and service tasks that include the selected metadata tag.
					</p></li></ol></div></section><section class="chapter" id="assets_unlocking_proc"><div class="titlepage"><div><div><h2 class="title">Chapter 20. Unlocking assets</h2></div></div></div><p>
				By default, whenever you open and modify an asset in Business Central, that asset is automatically locked for your exclusive use in order to avoid conflicts in a multiuser setup. This lock is automatically released when your session ends or when you save or close the asset. This lock feature ensures that users do not overwrite each other’s changes.
			</p><p>
				However, you can force unlock an asset if you need to edit a file that is locked by another user.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In Business Central, go to <span class="strong strong"><strong>Menu</strong></span> → <span class="strong strong"><strong>Design</strong></span> → <span class="strong strong"><strong>Projects</strong></span> and click the project name.
					</li><li class="listitem">
						Select the asset from the list to open the asset designer.
					</li><li class="listitem"><p class="simpara">
						Go to <span class="strong strong"><strong>Overview → Metadata</strong></span> and view the <span class="strong strong"><strong>Lock Status</strong></span>.
					</p><div class="figure" id="idm140279506410912"><p class="title"><strong>Figure 20.1. Unlock metadata view</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/_images/admin-and-config/unlock-lock.png" alt="Unlock Metadata View"/></div></div></div><p class="simpara">
						If the asset is already being edited by another user, the following will be displayed in the <span class="strong strong"><strong>Lock status</strong></span> field:
					</p><p class="simpara">
						<code class="literal">Locked by &lt;user_name&gt;</code>
					</p></li><li class="listitem"><p class="simpara">
						Click <span class="strong strong"><strong>Force unclock asset</strong></span> to unlock.
					</p><p class="simpara">
						The following confirmation pop-up message is displayed:
					</p><p class="simpara">
						<code class="literal">Are you sure you want to release the lock of this asset? This might cause &lt;user_name&gt; to lose unsaved changes!</code>
					</p></li><li class="listitem"><p class="simpara">
						Click <span class="strong strong"><strong>Yes</strong></span> to confirm.
					</p><p class="simpara">
						The asset returns to an unlocked state and the lock icon option will appear next to the asset.
					</p></li></ol></div></section></div><div class="part" id="assembly-kie-apis"><div class="titlepage"><div><div><h1 class="title">Part IV. Interacting with Red Hat Process Automation Manager using KIE APIs</h1></div></div></div><div class="partintro" id="idm140279511221024"><div/><p>
				As a business rules developer or system administrator, you can use KIE APIs to interact with KIE Servers, KIE containers, and business assets in Red Hat Process Automation Manager. You can use the KIE Server REST API and Java client API to interact with KIE containers and business assets (such as business rules, processes, and solvers), the Process Automation Manager controller REST API and Java client API to interact with KIE Server templates and instances, and the Knowledge Store REST API to interact with spaces and projects in Business Central.
			</p><div class="admonition note"><div class="admonition_header">REST API endpoints for KIE Server and the Process Automation Manager controller</div><div><p>
					The lists of REST API endpoints for KIE Server and the Process Automation Manager controller are published separately from this document and maintained dynamically to ensure that endpoint options and data are as current as possible. Use this document to understand what the KIE Server and Process Automation Manager controller REST APIs enable you to do and how to use them, and use the separately maintained lists of REST API endpoints for specific endpoint details.
				</p><p>
					For the full list of KIE Server REST API endpoints and descriptions, use one of the following resources:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="http://jbpm.org/learn/documentation.html">Execution Server REST API</a> on the jBPM Documentation page (static)
						</li><li class="listitem">
							Swagger UI for the KIE Server REST API at <code class="literal">http://SERVER:PORT/kie-server/docs</code> (dynamic, requires running KIE Server)
						</li></ul></div><p>
					For the full list of Process Automation Manager controller REST API endpoints and descriptions, use one of the following resources:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="http://jbpm.org/learn/documentation.html">Controller REST API</a> on the jBPM Documentation page (static)
						</li><li class="listitem">
							Swagger UI for the Process Automation Manager controller REST API at <code class="literal">http://SERVER:PORT/CONTROLLER/docs</code> (dynamic, requires running Process Automation Manager controller)
						</li></ul></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Red Hat Process Automation Manager is installed and running. For installation and startup options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
					</li><li class="listitem"><p class="simpara">
						You have access to Red Hat Process Automation Manager with the following user roles:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<code class="literal">kie-server</code>: For access to KIE Server API capabilities, and access to headless Process Automation Manager controller API capabilities without Business Central (if applicable)
							</li><li class="listitem">
								<code class="literal">rest-all</code>: For access to Business Central API capabilities for the built-in Process Automation Manager controller and for the Business Central Knowledge Store
							</li><li class="listitem"><p class="simpara">
								<code class="literal">admin</code>: For full administrative access to Red Hat Process Automation Manager
							</p><p class="simpara">
								Although these user roles are not all required for every KIE API, consider acquiring all of them to ensure that you can access any KIE API without disruption. For more information about user roles, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
							</p></li></ul></div></li></ul></div><div class="toc"><p><strong>Table of Contents</strong></p><ul class="toc"><li><span class="chapter"><a href="#kie-server-rest-api-con_kie-apis">21. KIE Server REST API for KIE containers and business assets</a></span><ul><li><span class="section"><a href="#kie-server-rest-api-requests-proc_kie-apis">21.1. Sending requests with the KIE Server REST API using a REST client or curl utility</a></span></li><li><span class="section"><a href="#kie-server-rest-api-requests-swagger-proc_kie-apis">21.2. Sending requests with the KIE Server REST API using the Swagger interface</a></span></li><li><span class="section"><a href="#kie-server-rest-api-endpoints-ref_kie-apis">21.3. Supported KIE Server REST API endpoints</a></span></li></ul></li><li><span class="chapter"><a href="#kie-server-java-api-con_kie-apis">22. KIE Server Java client API for KIE containers and business assets</a></span><ul><li><span class="section"><a href="#kie-server-java-api-requests-proc_kie-apis">22.1. Sending requests with the KIE Server Java client API</a></span></li><li><span class="section"><a href="#kie-server-java-clients-ref_kie-apis">22.2. Supported KIE Server Java clients</a></span></li><li><span class="section"><a href="#kie-server-java-api-examples-ref_kie-apis">22.3. Example requests with the KIE Server Java client API</a></span></li></ul></li><li><span class="chapter"><a href="#kie-server-commands-con_kie-apis">23. KIE Server and KIE container commands in Red Hat Process Automation Manager</a></span><ul><li><span class="section"><a href="#kie-server-commands-samples-ref_kie-apis">23.1. Sample KIE Server and KIE container commands</a></span></li></ul></li><li><span class="chapter"><a href="#runtime-commands-con_kie-apis">24. Runtime commands in Red Hat Process Automation Manager</a></span><ul><li><span class="section"><a href="#runtime-commands-samples-ref_kie-apis">24.1. Sample runtime commands in Red Hat Process Automation Manager</a></span></li></ul></li><li><span class="chapter"><a href="#controller-rest-api-con_kie-apis">25. Process Automation Manager controller REST API for KIE Server templates and instances</a></span><ul><li><span class="section"><a href="#controller-rest-api-requests-proc_kie-apis">25.1. Sending requests with the Process Automation Manager controller REST API using a REST client or curl utility</a></span></li><li><span class="section"><a href="#controller-rest-api-requests-swagger-proc_kie-apis">25.2. Sending requests with the Process Automation Manager controller REST API using the Swagger interface</a></span></li><li><span class="section"><a href="#controller-rest-api-endpoints-ref_kie-apis">25.3. Supported Process Automation Manager controller REST API endpoints</a></span></li></ul></li><li><span class="chapter"><a href="#controller-java-api-con_kie-apis">26. Process Automation Manager controller Java client API for KIE Server templates and instances</a></span><ul><li><span class="section"><a href="#controller-java-api-requests-proc_kie-apis">26.1. Sending requests with the Process Automation Manager controller Java client API</a></span></li><li><span class="section"><a href="#controller-java-clients-ref_kie-apis">26.2. Supported Process Automation Manager controller Java clients</a></span></li><li><span class="section"><a href="#controller-java-api-examples-ref_kie-apis">26.3. Example requests with the Process Automation Manager controller Java client API</a></span></li></ul></li><li><span class="chapter"><a href="#bpmn-fluent-api-con_kie-apis">27. BPMN process fluent API for Business Central processes</a></span><ul><li><span class="section"><a href="#example_requests_with_the_bpmn_process_fluent_api">27.1. Example requests with the BPMN process fluent API</a></span></li><li><span class="section"><a href="#example_requests_to_execute_a_business_process">27.2. Example requests to execute a business process</a></span></li></ul></li><li><span class="chapter"><a href="#knowledge-store-rest-api-con_kie-apis">28. Knowledge Store REST API for Business Central spaces and projects</a></span><ul><li><span class="section"><a href="#knowledge-store-rest-api-requests-proc_kie-apis">28.1. Sending requests with the Knowledge Store REST API using a REST client or curl utility</a></span></li><li><span class="section"><a href="#knowledge-store-rest-api-endpoints-ref_kie-apis">28.2. Supported Knowledge Store REST API endpoints</a></span><ul><li><span class="section"><a href="#knowledge-store-rest-api-spaces-ref_kie-apis">28.2.1. Spaces</a></span></li><li><span class="section"><a href="#knowledge-store-rest-api-projects-ref_kie-apis">28.2.2. Projects</a></span></li><li><span class="section"><a href="#knowledge-store-rest-api-jobs-ref_kie-apis">28.2.3. Jobs (API requests)</a></span></li><li><span class="section"><a href="#knowledge-store-rest-api-branches-ref_kie-apis">28.2.4. Branches</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#security-management-rest-api-con_kie-apis">29. Security Management REST API for Business Central groups, roles, and users</a></span><ul><li><span class="section"><a href="#security-management-rest-api-requests-proc_kie-apis">29.1. Sending requests with the Security Management REST API using a REST client or curl utility</a></span></li><li><span class="section"><a href="#security-management-rest-api-endpoints-ref_kie-apis">29.2. Supported Security Management REST API endpoints</a></span><ul><li><span class="section"><a href="#security-management-rest-api-groups-ref_kie-apis">29.2.1. Groups</a></span></li><li><span class="section"><a href="#security-management-rest-api-roles-ref_kie-apis">29.2.2. Roles</a></span></li><li><span class="section"><a href="#security-management-rest-api-users-ref_kie-apis">29.2.3. Users</a></span></li><li><span class="section"><a href="#security-management-rest-api-permissions-ref_kie-apis">29.2.4. Permissions</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#ejb-api-con_kie-apis">30. EJB API for KIE sessions and task services</a></span><ul><li><span class="section"><a href="#ejb-api-services-ref_kie-apis">30.1. Supported EJB services</a></span></li><li><span class="section"><a href="#ejb-api-war-proc_kie-apis">30.2. Deploying an EJB services WAR file</a></span></li></ul></li><li><span class="chapter"><a href="#additional_resources_2">31. Additional resources</a></span></li></ul></div></div><section class="chapter" id="kie-server-rest-api-con_kie-apis"><div class="titlepage"><div><div><h2 class="title">Chapter 21. KIE Server REST API for KIE containers and business assets</h2></div></div></div><p>
				Red Hat Process Automation Manager provides a KIE Server REST API that you can use to interact with your KIE containers and business assets (such as business rules, processes, and solvers) in Red Hat Process Automation Manager without using the Business Central user interface. This API support enables you to maintain your Red Hat Process Automation Manager resources more efficiently and optimize your integration and development with Red Hat Process Automation Manager.
			</p><p>
				With the KIE Server REST API, you can perform the following actions:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Deploy or dispose KIE containers
					</li><li class="listitem">
						Retrieve and update KIE container information
					</li><li class="listitem">
						Return KIE Server status and basic information
					</li><li class="listitem">
						Retrieve and update business asset information
					</li><li class="listitem">
						Execute business assets (such as rules and processes)
					</li></ul></div><p>
				KIE Server REST API requests require the following components:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Authentication</span></dt><dd><p class="simpara">
							The KIE Server REST API requires HTTP Basic authentication or token-based authentication for the user role <code class="literal">kie-server</code>. To view configured user roles for your Red Hat Process Automation Manager distribution, navigate to <code class="literal">~/$SERVER_HOME/standalone/configuration/application-roles.properties</code> and <code class="literal">~/application-users.properties</code>.
						</p><p class="simpara">
							To add a user with the <code class="literal">kie-server</code> role, navigate to <code class="literal">~/$SERVER_HOME/bin</code> and run the following command:
						</p><pre class="programlisting language-bash">$ ./add-user.sh -a --user &lt;USERNAME&gt; --password &lt;PASSWORD&gt; --role kie-server</pre><p class="simpara">
							For more information about user roles and Red Hat Process Automation Manager installation options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
						</p></dd><dt><span class="term">HTTP headers</span></dt><dd><p class="simpara">
							The KIE Server REST API requires the following HTTP headers for API requests:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									<code class="literal">Accept</code>: Data format accepted by your requesting client:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">application/json</code> (JSON)
										</li><li class="listitem">
											<code class="literal">application/xml</code> (XML, for JAXB or XSTREAM)
										</li></ul></div></li><li class="listitem"><p class="simpara">
									<code class="literal">Content-Type</code>: Data format of your <code class="literal">POST</code> or <code class="literal">PUT</code> API request data:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">application/json</code> (JSON)
										</li><li class="listitem">
											<code class="literal">application/xml</code> (XML, for JAXB or XSTREAM)
										</li></ul></div></li><li class="listitem"><p class="simpara">
									<code class="literal">X-KIE-ContentType</code>: Required header for <code class="literal">application/xml</code> XSTREAM API requests and responses:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">XSTREAM</code>
										</li></ul></div></li></ul></div></dd><dt><span class="term">HTTP methods</span></dt><dd><p class="simpara">
							The KIE Server REST API supports the following HTTP methods for API requests:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">GET</code>: Retrieves specified information from a specified resource endpoint
								</li><li class="listitem">
									<code class="literal">POST</code>: Updates a resource or resource instance
								</li><li class="listitem">
									<code class="literal">PUT</code>: Updates or creates a resource or resource instance
								</li><li class="listitem">
									<code class="literal">DELETE</code>: Deletes a resource or resource instance
								</li></ul></div></dd><dt><span class="term">Base URL</span></dt><dd>
							The base URL for KIE Server REST API requests is <code class="literal">http://SERVER:PORT/kie-server/services/rest/</code>, such as <code class="literal">http://localhost:8080/kie-server/services/rest/</code>.
						</dd><dt><span class="term">Endpoints</span></dt><dd><p class="simpara">
							KIE Server REST API endpoints, such as <code class="literal">/server/containers/{containerId}</code> for a specified KIE container, are the URIs that you append to the KIE Server REST API base URL to access the corresponding resource or type of resource in Red Hat Process Automation Manager.
						</p><div class="formalpara"><p class="title"><strong>Example request URL for <code class="literal">/server/containers/{containerId}</code> endpoint</strong></p><p>
								<code class="literal">http://localhost:8080/kie-server/services/rest/server/containers/MyContainer</code>
							</p></div></dd><dt><span class="term">Request parameters and request data</span></dt><dd><p class="simpara">
							Many KIE Server REST API requests require specific parameters in the request URL path to identify or filter specific resources and to perform specific actions. You can append URL parameters to the endpoint in the format <code class="literal">?&lt;PARAM&gt;=&lt;VALUE&gt;&amp;&lt;PARAM&gt;=&lt;VALUE&gt;</code>.
						</p><div class="formalpara"><p class="title"><strong>Example GET request URL with parameters</strong></p><p>
								<code class="literal">http://localhost:8080/kie-server/services/rest/server/containers?groupId=com.redhat&amp;artifactId=Project1&amp;version=1.0&amp;status=STARTED</code>
							</p></div><p class="simpara">
							HTTP <code class="literal">POST</code> and <code class="literal">PUT</code> requests may additionally require a request body or file with data to accompany the request.
						</p><div class="formalpara"><p class="title"><strong>Example POST request URL and JSON request body data</strong></p><p>
								<code class="literal">http://localhost:8080/kie-server/services/rest/server/containers/MyContainer/release-id</code>
							</p></div><pre class="programlisting language-json">{
  "release-id": {
    "artifact-id": "Project1",
    "group-id": "com.redhat",
    "version": "1.1"
  }
}</pre></dd></dl></div><section class="section" id="kie-server-rest-api-requests-proc_kie-apis"><div class="titlepage"><div><div><h2 class="title">21.1. Sending requests with the KIE Server REST API using a REST client or curl utility</h2></div></div></div><p>
					The KIE Server REST API enables you to interact with your KIE containers and business assets (such as business rules, processes, and solvers) in Red Hat Process Automation Manager without using the Business Central user interface. You can send KIE Server REST API requests using any REST client or curl utility.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server is installed and running.
						</li><li class="listitem">
							You have <code class="literal">kie-server</code> user role access to KIE Server.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Identify the relevant <a class="link" href="#kie-server-rest-api-endpoints-ref_kie-apis" title="21.3. Supported KIE Server REST API endpoints">API endpoint</a> to which you want to send a request, such as <code class="literal">[GET] /server/containers</code> to retrieve KIE containers from KIE Server.
						</li><li class="listitem"><p class="simpara">
							In a REST client or curl utility, enter the following components for a <code class="literal">GET</code> request to <code class="literal">/server/containers</code>. Adjust any request details according to your use case.
						</p><p class="simpara">
							For REST client:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Authentication</strong></span>: Enter the user name and password of the KIE Server user with the <code class="literal">kie-server</code> role.
								</li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>HTTP Headers</strong></span>: Set the following header:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">Accept</code>: <code class="literal">application/json</code>
										</li></ul></div></li><li class="listitem">
									<span class="strong strong"><strong>HTTP method</strong></span>: Set to <code class="literal">GET</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>URL</strong></span>: Enter the KIE Server REST API base URL and endpoint, such as <code class="literal">http://localhost:8080/kie-server/services/rest/server/containers</code>.
								</li></ul></div><p class="simpara">
							For curl utility:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">-u</code>: Enter the user name and password of the KIE Server user with the <code class="literal">kie-server</code> role.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">-H</code>: Set the following header:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">accept</code>: <code class="literal">application/json</code>
										</li></ul></div></li><li class="listitem">
									<code class="literal">-X</code>: Set to <code class="literal">GET</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>URL</strong></span>: Enter the KIE Server REST API base URL and endpoint, such as <code class="literal">http://localhost:8080/kie-server/services/rest/server/containers</code>.
								</li></ul></div><pre class="screen">curl -u 'baAdmin:password@1' -H "accept: application/json" -X GET "http://localhost:8080/kie-server/services/rest/server/containers"</pre></li><li class="listitem"><p class="simpara">
							Execute the request and review the KIE Server response.
						</p><p class="simpara">
							Example server response (JSON):
						</p><pre class="programlisting language-json">{
  "type": "SUCCESS",
  "msg": "List of created containers",
  "result": {
    "kie-containers": {
      "kie-container": [
        {
          "container-id": "itorders_1.0.0-SNAPSHOT",
          "release-id": {
            "group-id": "itorders",
            "artifact-id": "itorders",
            "version": "1.0.0-SNAPSHOT"
          },
          "resolved-release-id": {
            "group-id": "itorders",
            "artifact-id": "itorders",
            "version": "1.0.0-SNAPSHOT"
          },
          "status": "STARTED",
          "scanner": {
            "status": "DISPOSED",
            "poll-interval": null
          },
          "config-items": [],
          "container-alias": "itorders"
        }
      ]
    }
  }
}</pre></li><li class="listitem">
							For this example, copy or note the project <code class="literal">group-id</code>, <code class="literal">artifact-id</code>, and <code class="literal">version</code> (GAV) data from one of the deployed KIE containers returned in the response.
						</li><li class="listitem"><p class="simpara">
							In your REST client or curl utility, send another API request with the following components for a <code class="literal">PUT</code> request to <code class="literal">/server/containers/{containerId}</code> to deploy a new KIE container with the copied project GAV data. Adjust any request details according to your use case.
						</p><p class="simpara">
							For REST client:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Authentication</strong></span>: Enter the user name and password of the KIE Server user with the <code class="literal">kie-server</code> role.
								</li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>HTTP Headers</strong></span>: Set the following headers:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">Accept</code>: <code class="literal">application/json</code>
										</li><li class="listitem">
											<code class="literal">Content-Type</code>: <code class="literal">application/json</code>
										</li></ul></div></li><li class="listitem">
									<span class="strong strong"><strong>HTTP method</strong></span>: Set to <code class="literal">PUT</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>URL</strong></span>: Enter the KIE Server REST API base URL and endpoint, such as <code class="literal">http://localhost:8080/kie-server/services/rest/server/containers/MyContainer</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>Request body</strong></span>: Add a JSON request body with the configuration items for the new KIE container:
								</li></ul></div><pre class="programlisting language-json">{
  "config-items": [
    {
      "itemName": "RuntimeStrategy",
      "itemValue": "SINGLETON",
      "itemType": "java.lang.String"
    },
    {
      "itemName": "MergeMode",
      "itemValue": "MERGE_COLLECTIONS",
      "itemType": "java.lang.String"
    },
    {
      "itemName": "KBase",
      "itemValue": "",
      "itemType": "java.lang.String"
    },
    {
      "itemName": "KSession",
      "itemValue": "",
      "itemType": "java.lang.String"
    }
  ],
  "release-id": {
    "group-id": "itorders",
    "artifact-id": "itorders",
    "version": "1.0.0-SNAPSHOT"
  },
  "scanner": {
    "poll-interval": "5000",
    "status": "STARTED"
  }
}</pre><p class="simpara">
							For curl utility:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">-u</code>: Enter the user name and password of the KIE Server user with the <code class="literal">kie-server</code> role.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">-H</code>: Set the following headers:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">accept</code>: <code class="literal">application/json</code>
										</li><li class="listitem">
											<code class="literal">content-type</code>: <code class="literal">application/json</code>
										</li></ul></div></li><li class="listitem">
									<code class="literal">-X</code>: Set to <code class="literal">PUT</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>URL</strong></span>: Enter the KIE Server REST API base URL and endpoint, such as <code class="literal">http://localhost:8080/kie-server/services/rest/server/containers/MyContainer</code>.
								</li><li class="listitem">
									<code class="literal">-d</code>: Add a JSON request body or file (<code class="literal">@file.json</code>) with the configuration items for the new KIE container:
								</li></ul></div><pre class="screen">curl -u 'baAdmin:password@1' -H "accept: application/json" -H "content-type: application/json" -X PUT "http://localhost:8080/kie-server/services/rest/server/containers/MyContainer" -d "{ \"config-items\": [ { \"itemName\": \"RuntimeStrategy\", \"itemValue\": \"SINGLETON\", \"itemType\": \"java.lang.String\" }, { \"itemName\": \"MergeMode\", \"itemValue\": \"MERGE_COLLECTIONS\", \"itemType\": \"java.lang.String\" }, { \"itemName\": \"KBase\", \"itemValue\": \"\", \"itemType\": \"java.lang.String\" }, { \"itemName\": \"KSession\", \"itemValue\": \"\", \"itemType\": \"java.lang.String\" } ], \"release-id\": { \"group-id\": \"itorders\", \"artifact-id\": \"itorders\", \"version\": \"1.0.0-SNAPSHOT\" }, \"scanner\": { \"poll-interval\": \"5000\", \"status\": \"STARTED\" }}"</pre><pre class="screen">curl -u 'baAdmin:password@1' -H "accept: application/json" -H "content-type: application/json" -X PUT "http://localhost:8080/kie-server/services/rest/server/containers/MyContainer" -d @my-container-configs.json</pre></li><li class="listitem"><p class="simpara">
							Execute the request and review the KIE Server response.
						</p><p class="simpara">
							Example server response (JSON):
						</p><pre class="programlisting language-json">{
  "type": "SUCCESS",
  "msg": "Container MyContainer successfully deployed with module itorders:itorders:1.0.0-SNAPSHOT.",
  "result": {
    "kie-container": {
      "container-id": "MyContainer",
      "release-id": {
        "group-id": "itorders",
        "artifact-id": "itorders",
        "version": "1.0.0-SNAPSHOT"
      },
      "resolved-release-id": {
        "group-id": "itorders",
        "artifact-id": "itorders",
        "version": "1.0.0-SNAPSHOT"
      },
      "status": "STARTED",
      "scanner": {
        "status": "STARTED",
        "poll-interval": 5000
      },
      "config-items": [],
      "messages": [
        {
          "severity": "INFO",
          "timestamp": {
            "java.util.Date": 1540584717937
          },
          "content": [
            "Container MyContainer successfully created with module itorders:itorders:1.0.0-SNAPSHOT."
          ]
        }
      ],
      "container-alias": null
    }
  }
}</pre><p class="simpara">
							If you encounter request errors, review the returned error code messages and adjust your request accordingly.
						</p><div class="admonition note"><div class="admonition_header">REST API requests for process instances</div><div><p>
								For REST API requests that send complex data objects to the process instance endpoint <code class="literal">/server/containers/{containerId}/processes/{processId}/instances</code>, ensure that you include either the fully qualified class name (such as <code class="literal">com.myspace.Person</code>) or the simple class name (such as <code class="literal">Person</code>) in the request body. The class name is required for the request body to be mapped to the correct business object in Red Hat Process Automation Manager. If you exclude the class name from the request, KIE Server does not unmarshall the object to the expected type.
							</p><div class="formalpara"><p class="title"><strong>Correct request body for process instance</strong></p><p>
									
<pre class="programlisting language-json">{
  "id": 4,
  "lease": {
    "com.myspace.restcall.LeaseModel": {
      "annualRent": 109608,
      "isAutoApproved": false
    }
  }
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Incorrect request body for process instance</strong></p><p>
									
<pre class="programlisting language-json">{
  "id": 4,
  "lease": {
    "annualRent": 109608,
    "isAutoApproved": false
  }
}</pre>
								</p></div></div></div></li></ol></div></section><section class="section" id="kie-server-rest-api-requests-swagger-proc_kie-apis"><div class="titlepage"><div><div><h2 class="title">21.2. Sending requests with the KIE Server REST API using the Swagger interface</h2></div></div></div><p>
					The KIE Server REST API supports a Swagger web interface that you can use instead of a standalone REST client or curl utility to interact with your KIE containers and business assets (such as business rules, processes, and solvers) in Red Hat Process Automation Manager without using the Business Central user interface.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						By default, the Swagger web interface for KIE Server is enabled by the <code class="literal">org.kie.swagger.server.ext.disabled=false</code> system property. To disable the Swagger web interface in KIE Server, set this system property to <code class="literal">true</code>.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server is installed and running.
						</li><li class="listitem">
							You have <code class="literal">kie-server</code> user role access to KIE Server.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In a web browser, navigate to <code class="literal">http://SERVER:PORT/kie-server/docs</code>, such as <code class="literal">http://localhost:8080/kie-server/docs</code>, and log in with the user name and password of the KIE Server user with the <code class="literal">kie-server</code> role.
						</li><li class="listitem">
							In the Swagger page, select the relevant API endpoint to which you want to send a request, such as <span class="strong strong"><strong>KIE Server and KIE containers</strong></span> → <span class="strong strong"><strong>[GET] /server/containers</strong></span> to retrieve KIE containers from KIE Server.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Try it out</strong></span> and provide any optional parameters by which you want to filter results, if needed.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Response content type</strong></span> drop-down menu, select the desired format of the server response, such as <span class="strong strong"><strong>application/json</strong></span> for JSON format.
						</li><li class="listitem"><p class="simpara">
							Click <span class="strong strong"><strong>Execute</strong></span> and review the KIE Server response.
						</p><p class="simpara">
							Example server response (JSON):
						</p><pre class="programlisting language-json">{
  "type": "SUCCESS",
  "msg": "List of created containers",
  "result": {
    "kie-containers": {
      "kie-container": [
        {
          "container-id": "itorders_1.0.0-SNAPSHOT",
          "release-id": {
            "group-id": "itorders",
            "artifact-id": "itorders",
            "version": "1.0.0-SNAPSHOT"
          },
          "resolved-release-id": {
            "group-id": "itorders",
            "artifact-id": "itorders",
            "version": "1.0.0-SNAPSHOT"
          },
          "status": "STARTED",
          "scanner": {
            "status": "DISPOSED",
            "poll-interval": null
          },
          "config-items": [],
          "container-alias": "itorders"
        }
      ]
    }
  }
}</pre></li><li class="listitem">
							For this example, copy or note the project <code class="literal">group-id</code>, <code class="literal">artifact-id</code>, and <code class="literal">version</code> (GAV) data from one of the deployed KIE containers returned in the response.
						</li><li class="listitem">
							In the Swagger page, navigate to the <span class="strong strong"><strong>KIE Server and KIE containers</strong></span> → <span class="strong strong"><strong>[PUT] /server/containers/{containerId}</strong></span> endpoint to send another request to deploy a new KIE container with the copied project GAV data. Adjust any request details according to your use case.
						</li><li class="listitem"><p class="simpara">
							Click <span class="strong strong"><strong>Try it out</strong></span> and enter the following components for the request:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>containerId</strong></span>: Enter the ID of the new KIE container, such as <code class="literal">MyContainer</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>body</strong></span>: Set the <span class="strong strong"><strong>Parameter content type</strong></span> to the desired request body format, such as <span class="strong strong"><strong>application/json</strong></span> for JSON format, and add a request body with the configuration items for the new KIE container:
								</li></ul></div><pre class="programlisting language-json">{
  "config-items": [
    {
      "itemName": "RuntimeStrategy",
      "itemValue": "SINGLETON",
      "itemType": "java.lang.String"
    },
    {
      "itemName": "MergeMode",
      "itemValue": "MERGE_COLLECTIONS",
      "itemType": "java.lang.String"
    },
    {
      "itemName": "KBase",
      "itemValue": "",
      "itemType": "java.lang.String"
    },
    {
      "itemName": "KSession",
      "itemValue": "",
      "itemType": "java.lang.String"
    }
  ],
  "release-id": {
    "group-id": "itorders",
    "artifact-id": "itorders",
    "version": "1.0.0-SNAPSHOT"
  },
  "scanner": {
    "poll-interval": "5000",
    "status": "STARTED"
  }
}</pre></li><li class="listitem">
							In the <span class="strong strong"><strong>Response content type</strong></span> drop-down menu, select the desired format of the server response, such as <span class="strong strong"><strong>application/json</strong></span> for JSON format.
						</li><li class="listitem"><p class="simpara">
							Click <span class="strong strong"><strong>Execute</strong></span> and review the KIE Server response.
						</p><p class="simpara">
							Example server response (JSON):
						</p><pre class="programlisting language-json">{
  "type": "SUCCESS",
  "msg": "Container MyContainer successfully deployed with module itorders:itorders:1.0.0-SNAPSHOT.",
  "result": {
    "kie-container": {
      "container-id": "MyContainer",
      "release-id": {
        "group-id": "itorders",
        "artifact-id": "itorders",
        "version": "1.0.0-SNAPSHOT"
      },
      "resolved-release-id": {
        "group-id": "itorders",
        "artifact-id": "itorders",
        "version": "1.0.0-SNAPSHOT"
      },
      "status": "STARTED",
      "scanner": {
        "status": "STARTED",
        "poll-interval": 5000
      },
      "config-items": [],
      "messages": [
        {
          "severity": "INFO",
          "timestamp": {
            "java.util.Date": 1540584717937
          },
          "content": [
            "Container MyContainer successfully created with module itorders:itorders:1.0.0-SNAPSHOT."
          ]
        }
      ],
      "container-alias": null
    }
  }
}</pre><p class="simpara">
							If you encounter request errors, review the returned error code messages and adjust your request accordingly.
						</p><div class="admonition note"><div class="admonition_header">REST API requests for process instances</div><div><p>
								For REST API requests that send complex data objects to the process instance endpoint <code class="literal">/server/containers/{containerId}/processes/{processId}/instances</code>, ensure that you include either the fully qualified class name (such as <code class="literal">com.myspace.Person</code>) or the simple class name (such as <code class="literal">Person</code>) in the request body. The class name is required for the request body to be mapped to the correct business object in Red Hat Process Automation Manager. If you exclude the class name from the request, KIE Server does not unmarshall the object to the expected type.
							</p><div class="formalpara"><p class="title"><strong>Correct request body for process instance</strong></p><p>
									
<pre class="programlisting language-json">{
  "id": 4,
  "lease": {
    "com.myspace.restcall.LeaseModel": {
      "annualRent": 109608,
      "isAutoApproved": false
    }
  }
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Incorrect request body for process instance</strong></p><p>
									
<pre class="programlisting language-json">{
  "id": 4,
  "lease": {
    "annualRent": 109608,
    "isAutoApproved": false
  }
}</pre>
								</p></div></div></div></li></ol></div></section><section class="section" id="kie-server-rest-api-endpoints-ref_kie-apis"><div class="titlepage"><div><div><h2 class="title">21.3. Supported KIE Server REST API endpoints</h2></div></div></div><p>
					The KIE Server REST API provides endpoints for the following types of resources in Red Hat Process Automation Manager:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server and KIE containers
						</li><li class="listitem">
							KIE session assets (for runtime commands)
						</li><li class="listitem">
							DMN assets
						</li><li class="listitem">
							Planning solvers
						</li><li class="listitem">
							Processes
						</li><li class="listitem">
							Process images
						</li><li class="listitem">
							Process and task forms
						</li><li class="listitem">
							Tasks
						</li><li class="listitem">
							Cases
						</li><li class="listitem">
							Documents
						</li><li class="listitem">
							Jobs
						</li><li class="listitem">
							Queries for processes, tasks, and cases
						</li><li class="listitem">
							Custom queries
						</li></ul></div><p>
					The KIE Server REST API base URL is <code class="literal">http://SERVER:PORT/kie-server/services/rest/</code>. All requests require HTTP Basic authentication or token-based authentication for the <code class="literal">kie-server</code> user role.
				</p><p>
					For the full list of KIE Server REST API endpoints and descriptions, use one of the following resources:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="http://jbpm.org/learn/documentation.html">Execution Server REST API</a> on the jBPM Documentation page (static)
						</li><li class="listitem"><p class="simpara">
							Swagger UI for the KIE Server REST API at <code class="literal">http://SERVER:PORT/kie-server/docs</code> (dynamic, requires running KIE Server)
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								By default, the Swagger web interface for KIE Server is enabled by the <code class="literal">org.kie.swagger.server.ext.disabled=false</code> system property. To disable the Swagger web interface in KIE Server, set this system property to <code class="literal">true</code>.
							</p></div></div></li></ul></div><h4 id="endpoint_requirements">Endpoint requirements</h4><p>
					Note the following requirements for some of the KIE Server REST API endpoints:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<span class="strong strong"><strong>Process images:</strong></span> For API access to process images, the system property <code class="literal">&lt;storesvgonsave enabled="true"/&gt;</code> must be configured for your Red Hat Process Automation Manager project in <code class="literal">$SERVER_HOME/standalone/deployments/business-central.war/org.kie.workbench.KIEWebapp/profiles/jbpm.xml</code>. If this property is not set or set to <code class="literal">false</code>, set it to <code class="literal">true</code>, restart your KIE Server, modify the relevant process and save it, and then build and deploy your project. This property enables SVG images to be stored so that they can be retrieved by the KIE Server REST API.
						</li><li class="listitem"><p class="simpara">
							<span class="strong strong"><strong>Custom queries:</strong></span> Some custom query requests with the KIE Server REST API require a query <code class="literal">mapper</code> definition to map the query results to concrete objects. You can implement your own query result mappers or use the mappers provided with Red Hat Process Automation Manager. The query mappers in Red Hat Process Automation Manager are similar to other object-relational mapping (ORM) providers, such as Hibernate, which maps tables to entities. For example, you can use the <code class="literal">org.jbpm.kie.services.impl.query.mapper.ProcessInstanceQueryMapper</code>, also registered as <code class="literal">ProcessInstances</code>, in custom query endpoints for returning process instance data.
						</p><p class="simpara">
							Example POST endpoint with <code class="literal">ProcessInstances</code> mapper parameter:
						</p><pre class="screen">http://localhost:8080/kie-server/services/rest/server/queries/definitions/jbpmProcessInstances?mapper=ProcessInstances</pre><p class="simpara">
							For a list of available query mappers in Red Hat Process Automation Manager, download and extract the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10 Source Distribution</strong></span> from the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Red Hat Customer Portal</a> and navigate to <code class="literal">~/jbpm-$VERSION/jbpm-services/jbpm-kie-services/src/main/java/org/jbpm/kie/services/impl/query/mapper</code>.
						</p></li></ul></div></section></section><section class="chapter" id="kie-server-java-api-con_kie-apis"><div class="titlepage"><div><div><h2 class="title">Chapter 22. KIE Server Java client API for KIE containers and business assets</h2></div></div></div><p>
				Red Hat Process Automation Manager provides a KIE Server Java client API that enables you to connect to KIE Server using REST protocol from your Java client application. You can use the KIE Server Java client API as an alternative to the KIE Server REST API to interact with your KIE containers and business assets (such as business rules, processes, and solvers) in Red Hat Process Automation Manager without using the Business Central user interface. This API support enables you to maintain your Red Hat Process Automation Manager resources more efficiently and optimize your integration and development with Red Hat Process Automation Manager.
			</p><p>
				With the KIE Server Java client API, you can perform the following actions also supported by the KIE Server REST API:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Deploy or dispose KIE containers
					</li><li class="listitem">
						Retrieve and update KIE container information
					</li><li class="listitem">
						Return KIE Server status and basic information
					</li><li class="listitem">
						Retrieve and update business asset information
					</li><li class="listitem">
						Execute business assets (such as rules and processes)
					</li></ul></div><p>
				KIE Server Java client API requests require the following components:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Authentication</span></dt><dd><p class="simpara">
							The KIE Server Java client API requires HTTP Basic authentication for the user role <code class="literal">kie-server</code>. To view configured user roles for your Red Hat Process Automation Manager distribution, navigate to <code class="literal">~/$SERVER_HOME/standalone/configuration/application-roles.properties</code> and <code class="literal">~/application-users.properties</code>.
						</p><p class="simpara">
							To add a user with the <code class="literal">kie-server</code> role, navigate to <code class="literal">~/$SERVER_HOME/bin</code> and run the following command:
						</p><pre class="programlisting language-bash">$ ./add-user.sh -a --user &lt;USERNAME&gt; --password &lt;PASSWORD&gt; --role kie-server</pre><p class="simpara">
							For more information about user roles and Red Hat Process Automation Manager installation options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
						</p></dd><dt><span class="term">Project dependencies</span></dt><dd><p class="simpara">
							The KIE Server Java client API requires the following dependencies on the relevant classpath of your Java project:
						</p><pre class="programlisting language-xml">&lt;!-- For remote execution on KIE Server --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.kie.server&lt;/groupId&gt;
  &lt;artifactId&gt;kie-server-client&lt;/artifactId&gt;
  &lt;version&gt;${rhpam.version}&lt;/version&gt;
&lt;/dependency&gt;

&lt;!-- For runtime commands --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;
  &lt;scope&gt;runtime&lt;/scope&gt;
  &lt;version&gt;${rhpam.version}&lt;/version&gt;
&lt;/dependency&gt;

&lt;!-- For debug logging (optional) --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
  &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
  &lt;version&gt;${logback.version}&lt;/version&gt;
&lt;/dependency&gt;</pre><p class="simpara">
							The <code class="literal">&lt;version&gt;</code> for Red Hat Process Automation Manager dependencies is the Maven artifact version for Red Hat Process Automation Manager currently used in your project (for example, 7.48.0.Final-redhat-00002).
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Instead of specifying a Red Hat Process Automation Manager <code class="literal">&lt;version&gt;</code> for individual dependencies, consider adding the Red Hat Business Automation bill of materials (BOM) dependency to your project <code class="literal">pom.xml</code> file. The Red Hat Business Automation BOM applies to both Red Hat Decision Manager and Red Hat Process Automation Manager. When you add the BOM files, the correct versions of transitive dependencies from the provided Maven repositories are included in the project.
							</p><p>
								Example BOM dependency:
							</p><pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.redhat.ba&lt;/groupId&gt;
  &lt;artifactId&gt;ba-platform-bom&lt;/artifactId&gt;
  &lt;version&gt;7.10.0.redhat-00002&lt;/version&gt;
  &lt;scope&gt;import&lt;/scope&gt;
  &lt;type&gt;pom&lt;/type&gt;
&lt;/dependency&gt;</pre><p>
								For more information about the Red Hat Business Automation BOM, see <a class="link" href="https://access.redhat.com/solutions/3405361">What is the mapping between RHPAM product and maven library version?</a>.
							</p></div></div></dd><dt><span class="term">Client request configuration</span></dt><dd><p class="simpara">
							All Java client requests with the KIE Server Java client API must define at least the following server communication components:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Credentials of the <code class="literal">kie-server</code> user
								</li><li class="listitem">
									KIE Server location, such as <code class="literal">http://localhost:8080/kie-server/services/rest/server</code>
								</li><li class="listitem">
									Marshalling format for API requests and responses (JSON, JAXB, or XSTREAM)
								</li><li class="listitem">
									A <code class="literal">KieServicesConfiguration</code> object and a <code class="literal">KieServicesClient</code> object, which serve as the entry point for starting the server communication using the Java client API
								</li><li class="listitem">
									A <code class="literal">KieServicesFactory</code> object defining REST protocol and user access
								</li><li class="listitem">
									Any other client services used, such as <code class="literal">RuleServicesClient</code>, <code class="literal">ProcessServicesClient</code>, or <code class="literal">QueryServicesClient</code>
								</li></ul></div><p class="simpara">
							The following are examples of basic and advanced client configurations with these components:
						</p><div class="formalpara"><p class="title"><strong>Basic client configuration example</strong></p><p>
								
<pre class="programlisting language-java">import org.kie.server.api.marshalling.MarshallingFormat;
import org.kie.server.client.KieServicesClient;
import org.kie.server.client.KieServicesConfiguration;
import org.kie.server.client.KieServicesFactory;

public class MyConfigurationObject {

  private static final String URL = "http://localhost:8080/kie-server/services/rest/server";
  private static final String USER = "baAdmin";
  private static final String PASSWORD = "password@1";

  private static final MarshallingFormat FORMAT = MarshallingFormat.JSON;

  private static KieServicesConfiguration conf;
  private static KieServicesClient kieServicesClient;

  public static void initialize() {
    conf = KieServicesFactory.newRestConfiguration(URL, USER, PASSWORD);

    //If you use custom classes, such as Obj.class, add them to the configuration.
    Set&lt;Class&lt;?&gt;&gt; extraClassList = new HashSet&lt;Class&lt;?&gt;&gt;();
    extraClassList.add(Obj.class);
    conf.addExtraClasses(extraClassList);

    conf.setMarshallingFormat(FORMAT);
    kieServicesClient = KieServicesFactory.newKieServicesClient(conf);
  }
}</pre>
							</p></div><div class="formalpara"><p class="title"><strong>Advanced client configuration example with additional client services</strong></p><p>
								
<pre class="programlisting language-java">import org.kie.server.api.marshalling.MarshallingFormat;
import org.kie.server.client.CaseServicesClient;
import org.kie.server.client.DMNServicesClient;
import org.kie.server.client.DocumentServicesClient;
import org.kie.server.client.JobServicesClient;
import org.kie.server.client.KieServicesClient;
import org.kie.server.client.KieServicesConfiguration;
import org.kie.server.client.KieServicesFactory;
import org.kie.server.client.ProcessServicesClient;
import org.kie.server.client.QueryServicesClient;
import org.kie.server.client.RuleServicesClient;
import org.kie.server.client.SolverServicesClient;
import org.kie.server.client.UIServicesClient;
import org.kie.server.client.UserTaskServicesClient;
import org.kie.server.api.model.instance.ProcessInstance;
import org.kie.server.api.model.KieContainerResource;
import org.kie.server.api.model.ReleaseId;

public class MyAdvancedConfigurationObject {

    // REST API base URL, credentials, and marshalling format
    private static final String URL = "http://localhost:8080/kie-server/services/rest/server";
    private static final String USER = "baAdmin";
    private static final String PASSWORD = "password@1";;

    private static final MarshallingFormat FORMAT = MarshallingFormat.JSON;

    private static KieServicesConfiguration conf;

    // KIE client for common operations
    private static KieServicesClient kieServicesClient;

    // Rules client
    private static RuleServicesClient ruleClient;

    // Process automation clients
    private static CaseServicesClient caseClient;
    private static DocumentServicesClient documentClient;
    private static JobServicesClient jobClient;
    private static ProcessServicesClient processClient;
    private static QueryServicesClient queryClient;
    private static UIServicesClient uiClient;
    private static UserTaskServicesClient userTaskClient;

    // DMN client
    private static DMNServicesClient dmnClient;

    // Planning client
    private static SolverServicesClient solverClient;

    public static void main(String[] args) {
        initializeKieServerClient();
        initializeDroolsServiceClients();
        initializeJbpmServiceClients();
        initializeSolverServiceClients();
    }

    public static void initializeKieServerClient() {
        conf = KieServicesFactory.newRestConfiguration(URL, USER, PASSWORD);
        conf.setMarshallingFormat(FORMAT);
        kieServicesClient = KieServicesFactory.newKieServicesClient(conf);
    }

    public static void initializeDroolsServiceClients() {
        ruleClient = kieServicesClient.getServicesClient(RuleServicesClient.class);
        dmnClient = kieServicesClient.getServicesClient(DMNServicesClient.class);
    }

    public static void initializeJbpmServiceClients() {
        caseClient = kieServicesClient.getServicesClient(CaseServicesClient.class);
        documentClient = kieServicesClient.getServicesClient(DocumentServicesClient.class);
        jobClient = kieServicesClient.getServicesClient(JobServicesClient.class);
        processClient = kieServicesClient.getServicesClient(ProcessServicesClient.class);
        queryClient = kieServicesClient.getServicesClient(QueryServicesClient.class);
        uiClient = kieServicesClient.getServicesClient(UIServicesClient.class);
        userTaskClient = kieServicesClient.getServicesClient(UserTaskServicesClient.class);
    }

    public static void initializeSolverServiceClients() {
        solverClient = kieServicesClient.getServicesClient(SolverServicesClient.class);
    }
}</pre>
							</p></div></dd></dl></div><section class="section" id="kie-server-java-api-requests-proc_kie-apis"><div class="titlepage"><div><div><h2 class="title">22.1. Sending requests with the KIE Server Java client API</h2></div></div></div><p>
					The KIE Server Java client API enables you to connect to KIE Server using REST protocol from your Java client application. You can use the KIE Server Java client API as an alternative to the KIE Server REST API to interact with your KIE containers and business assets (such as business rules, processes, and solvers) in Red Hat Process Automation Manager without using the Business Central user interface.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server is installed and running.
						</li><li class="listitem">
							You have <code class="literal">kie-server</code> user role access to KIE Server.
						</li><li class="listitem">
							You have a Java project with Red Hat Process Automation Manager resources.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In your client application, ensure that the following dependencies have been added to the relevant classpath of your Java project:
						</p><pre class="programlisting language-xml">&lt;!-- For remote execution on KIE Server --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.kie.server&lt;/groupId&gt;
  &lt;artifactId&gt;kie-server-client&lt;/artifactId&gt;
  &lt;version&gt;${rhpam.version}&lt;/version&gt;
&lt;/dependency&gt;

&lt;!-- For runtime commands --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.drools&lt;/groupId&gt;
  &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;
  &lt;scope&gt;runtime&lt;/scope&gt;
  &lt;version&gt;${rhpam.version}&lt;/version&gt;
&lt;/dependency&gt;

&lt;!-- For debug logging (optional) --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
  &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
  &lt;version&gt;${logback.version}&lt;/version&gt;
&lt;/dependency&gt;</pre></li><li class="listitem">
							Download the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Source Distribution</strong></span> from the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Red Hat Customer Portal</a> and navigate to <code class="literal">~/rhpam-7.10.0-sources/src/droolsjbpm-integration-$VERSION/kie-server-parent/kie-server-remote/kie-server-client/src/main/java/org/kie/server/client</code> to access the KIE Server Java clients.
						</li><li class="listitem">
							In the <code class="literal">~/kie/server/client</code> folder , identify the relevant Java client for the request you want to send, such as <code class="literal">KieServicesClient</code> to access client services for KIE containers and other assets in KIE Server.
						</li><li class="listitem"><p class="simpara">
							In your client application, create a <code class="literal">.java</code> class for the API request. The class must contain the necessary imports, KIE Server location and user credentials, a <code class="literal">KieServicesClient</code> object, and the client method to execute, such as <code class="literal">createContainer</code> and <code class="literal">disposeContainer</code> from the <code class="literal">KieServicesClient</code> client. Adjust any configuration details according to your use case.
						</p><div class="formalpara"><p class="title"><strong>Creating and disposing a container</strong></p><p>
								
<pre class="programlisting language-java">import org.kie.server.api.marshalling.MarshallingFormat;
import org.kie.server.client.KieServicesClient;
import org.kie.server.client.KieServicesConfiguration;
import org.kie.server.client.KieServicesFactory;
import org.kie.server.api.model.KieContainerResource;
import org.kie.server.api.model.ServiceResponse;

public class MyConfigurationObject {

  private static final String URL = "http://localhost:8080/kie-server/services/rest/server";
  private static final String USER = "baAdmin";
  private static final String PASSWORD = "password@1";

  private static final MarshallingFormat FORMAT = MarshallingFormat.JSON;

  private static KieServicesConfiguration conf;
  private static KieServicesClient kieServicesClient;

  public static void initialize() {
    conf = KieServicesFactory.newRestConfiguration(URL, USER, PASSWORD);

  public void disposeAndCreateContainer() {
      System.out.println("== Disposing and creating containers ==");

      // Retrieve list of KIE containers
      List&lt;KieContainerResource&gt; kieContainers = kieServicesClient.listContainers().getResult().getContainers();
      if (kieContainers.size() == 0) {
          System.out.println("No containers available...");
          return;
      }

      // Dispose KIE container
      KieContainerResource container = kieContainers.get(0);
      String containerId = container.getContainerId();
      ServiceResponse&lt;Void&gt; responseDispose = kieServicesClient.disposeContainer(containerId);
      if (responseDispose.getType() == ResponseType.FAILURE) {
          System.out.println("Error disposing " + containerId + ". Message: ");
          System.out.println(responseDispose.getMsg());
          return;
      }
      System.out.println("Success Disposing container " + containerId);
      System.out.println("Trying to recreate the container...");

      // Re-create KIE container
      ServiceResponse&lt;KieContainerResource&gt; createResponse = kieServicesClient.createContainer(containerId, container);
      if(createResponse.getType() == ResponseType.FAILURE) {
          System.out.println("Error creating " + containerId + ". Message: ");
          System.out.println(responseDispose.getMsg());
          return;
      }
      System.out.println("Container recreated with success!");
      }
  }
}</pre>
							</p></div><p class="simpara">
							You define service responses using the <code class="literal">org.kie.server.api.model.ServiceResponse&lt;T&gt;</code> object, where <code class="literal">T</code> represents the type of returned response. The <code class="literal">ServiceResponse</code> object has the following attributes:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">String <span class="emphasis"><em>message</em></span></code>: Returns the response message
								</li><li class="listitem">
									<code class="literal">ResponseType <span class="emphasis"><em>type</em></span></code>: Returns either <code class="literal">SUCCESS</code> or <code class="literal">FAILURE</code>
								</li><li class="listitem">
									<code class="literal">T <span class="emphasis"><em>result</em></span></code>: Returns the requested object
								</li></ul></div><p class="simpara">
							In this example, when you dispose a container, the <code class="literal">ServiceResponse</code> returns a <code class="literal">Void</code> response. When you create a container, the <code class="literal">ServiceResponse</code> returns a <code class="literal">KieContainerResource</code> object.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								A conversation between a client and a specific KIE Server container in a clustered environment is secured by a unique <code class="literal">conversationID</code>. The <code class="literal">conversationID</code> is transferred using the <code class="literal">X-KIE-ConversationId</code> REST header. If you update the container, unset the previous <code class="literal">conversationID</code>. Use <code class="literal">KieServiesClient.completeConversation()</code> to unset the <code class="literal">conversationID</code> for Java API.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Run the configured <code class="literal">.java</code> class from your project directory to execute the request, and review the KIE Server response.
						</p><p class="simpara">
							If you enabled debug logging, KIE Server responds with a detailed response according to your configured marshalling format, such as JSON.
						</p><p class="simpara">
							Example server response for a new KIE container (log):
						</p><pre class="screen">10:23:35.194 [main] INFO  o.k.s.a.m.MarshallerFactory - Marshaller extensions init
10:23:35.396 [main] DEBUG o.k.s.client.balancer.LoadBalancer - Load balancer RoundRobinBalancerStrategy{availableEndpoints=[http://localhost:8080/kie-server/services/rest/server]} selected url 'http://localhost:8080/kie-server/services/rest/server'
10:23:35.398 [main] DEBUG o.k.s.c.i.AbstractKieServicesClientImpl - About to send GET request to 'http://localhost:8080/kie-server/services/rest/server'
10:23:35.440 [main] DEBUG o.k.s.c.i.AbstractKieServicesClientImpl - About to deserialize content:
 '{
  "type" : "SUCCESS",
  "msg" : "Kie Server info",
  "result" : {
    "kie-server-info" : {
      "id" : "default-kieserver",
      "version" : "7.11.0.Final-redhat-00003",
      "name" : "default-kieserver",
      "location" : "http://localhost:8080/kie-server/services/rest/server",
      "capabilities" : [ "KieServer", "BRM", "BPM", "CaseMgmt", "BPM-UI", "BRP", "DMN", "Swagger" ],
      "messages" : [ {
        "severity" : "INFO",
        "timestamp" : {
  "java.util.Date" : 1540814906533
},
        "content" : [ "Server KieServerInfo{serverId='default-kieserver', version='7.11.0.Final-redhat-00003', name='default-kieserver', location='http://localhost:8080/kie-server/services/rest/server', capabilities=[KieServer, BRM, BPM, CaseMgmt, BPM-UI, BRP, DMN, Swagger], messages=null}started successfully at Mon Oct 29 08:08:26 EDT 2018" ]
      } ]
    }
  }
}'
 into type: 'class org.kie.server.api.model.ServiceResponse'
10:23:35.653 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - KieServicesClient connected to: default-kieserver version 7.11.0.Final-redhat-00003
10:23:35.653 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Supported capabilities by the server: [KieServer, BRM, BPM, CaseMgmt, BPM-UI, BRP, DMN, Swagger]
10:23:35.653 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Building services client for server capability KieServer
10:23:35.653 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - No builder found for 'KieServer' capability
10:23:35.654 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Building services client for server capability BRM
10:23:35.654 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Builder 'org.kie.server.client.helper.DroolsServicesClientBuilder@6b927fb' for capability 'BRM'
10:23:35.655 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Capability implemented by {interface org.kie.server.client.RuleServicesClient=org.kie.server.client.impl.RuleServicesClientImpl@4a94ee4}
10:23:35.655 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Building services client for server capability BPM
10:23:35.656 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Builder 'org.kie.server.client.helper.JBPMServicesClientBuilder@4cc451f2' for capability 'BPM'
10:23:35.672 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Capability implemented by {interface org.kie.server.client.JobServicesClient=org.kie.server.client.impl.JobServicesClientImpl@1189dd52, interface org.kie.server.client.admin.ProcessAdminServicesClient=org.kie.server.client.admin.impl.ProcessAdminServicesClientImpl@36bc55de, interface org.kie.server.client.DocumentServicesClient=org.kie.server.client.impl.DocumentServicesClientImpl@564fabc8, interface org.kie.server.client.admin.UserTaskAdminServicesClient=org.kie.server.client.admin.impl.UserTaskAdminServicesClientImpl@16d04d3d, interface org.kie.server.client.QueryServicesClient=org.kie.server.client.impl.QueryServicesClientImpl@49ec71f8, interface org.kie.server.client.ProcessServicesClient=org.kie.server.client.impl.ProcessServicesClientImpl@1d2adfbe, interface org.kie.server.client.UserTaskServicesClient=org.kie.server.client.impl.UserTaskServicesClientImpl@36902638}
10:23:35.672 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Building services client for server capability CaseMgmt
10:23:35.672 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Builder 'org.kie.server.client.helper.CaseServicesClientBuilder@223d2c72' for capability 'CaseMgmt'
10:23:35.676 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Capability implemented by {interface org.kie.server.client.admin.CaseAdminServicesClient=org.kie.server.client.admin.impl.CaseAdminServicesClientImpl@2b662a77, interface org.kie.server.client.CaseServicesClient=org.kie.server.client.impl.CaseServicesClientImpl@7f0eb4b4}
10:23:35.676 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Building services client for server capability BPM-UI
10:23:35.676 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Builder 'org.kie.server.client.helper.JBPMUIServicesClientBuilder@5c33f1a9' for capability 'BPM-UI'
10:23:35.677 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Capability implemented by {interface org.kie.server.client.UIServicesClient=org.kie.server.client.impl.UIServicesClientImpl@223191a6}
10:23:35.678 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Building services client for server capability BRP
10:23:35.678 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Builder 'org.kie.server.client.helper.OptaplannerServicesClientBuilder@49139829' for capability 'BRP'
10:23:35.679 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Capability implemented by {interface org.kie.server.client.SolverServicesClient=org.kie.server.client.impl.SolverServicesClientImpl@77fbd92c}
10:23:35.679 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Building services client for server capability DMN
10:23:35.679 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Builder 'org.kie.server.client.helper.DMNServicesClientBuilder@67c27493' for capability 'DMN'
10:23:35.680 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Capability implemented by {interface org.kie.server.client.DMNServicesClient=org.kie.server.client.impl.DMNServicesClientImpl@35e2d654}
10:23:35.680 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - Building services client for server capability Swagger
10:23:35.680 [main] DEBUG o.k.s.c.impl.KieServicesClientImpl - No builder found for 'Swagger' capability
10:23:35.681 [main] DEBUG o.k.s.client.balancer.LoadBalancer - Load balancer RoundRobinBalancerStrategy{availableEndpoints=[http://localhost:8080/kie-server/services/rest/server]} selected url 'http://localhost:8080/kie-server/services/rest/server'
10:23:35.701 [main] DEBUG o.k.s.c.i.AbstractKieServicesClientImpl - About to send PUT request to 'http://localhost:8080/kie-server/services/rest/server/containers/employee-rostering3' with payload '{
  "container-id" : null,
  "release-id" : {
    "group-id" : "employeerostering",
    "artifact-id" : "employeerostering",
    "version" : "1.0.0-SNAPSHOT"
  },
  "resolved-release-id" : null,
  "status" : null,
  "scanner" : null,
  "config-items" : [ ],
  "messages" : [ ],
  "container-alias" : null
}'
10:23:38.071 [main] DEBUG o.k.s.c.i.AbstractKieServicesClientImpl - About to deserialize content:
 '{
  "type" : "SUCCESS",
  "msg" : "Container employee-rostering3 successfully deployed with module employeerostering:employeerostering:1.0.0-SNAPSHOT.",
  "result" : {
    "kie-container" : {
      "container-id" : "employee-rostering3",
      "release-id" : {
        "group-id" : "employeerostering",
        "artifact-id" : "employeerostering",
        "version" : "1.0.0-SNAPSHOT"
      },
      "resolved-release-id" : {
        "group-id" : "employeerostering",
        "artifact-id" : "employeerostering",
        "version" : "1.0.0-SNAPSHOT"
      },
      "status" : "STARTED",
      "scanner" : {
        "status" : "DISPOSED",
        "poll-interval" : null
      },
      "config-items" : [ ],
      "messages" : [ {
        "severity" : "INFO",
        "timestamp" : {
  "java.util.Date" : 1540909418069
},
        "content" : [ "Container employee-rostering3 successfully created with module employeerostering:employeerostering:1.0.0-SNAPSHOT." ]
      } ],
      "container-alias" : null
    }
  }
}'
 into type: 'class org.kie.server.api.model.ServiceResponse'</pre><p class="simpara">
							If you encounter request errors, review the returned error code messages and adjust your Java configurations accordingly.
						</p></li></ol></div></section><section class="section" id="kie-server-java-clients-ref_kie-apis"><div class="titlepage"><div><div><h2 class="title">22.2. Supported KIE Server Java clients</h2></div></div></div><p>
					The following are some of the Java client services available in the <code class="literal">org.kie.server.client</code> package of your Red Hat Process Automation Manager distribution. You can use these services to interact with related resources in KIE Server similarly to the KIE Server REST API.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">KieServicesClient</code>: Used as the entry point for other KIE Server Java clients, and used to interact with KIE containers
						</li><li class="listitem">
							<code class="literal">JobServicesClient</code>: Used to schedule, cancel, re-queue, and get job requests
						</li><li class="listitem">
							<code class="literal">RuleServicesClient</code>: Used to send commands to the server to perform rule-related operations, such as executing rules or inserting objects into the KIE session
						</li><li class="listitem">
							<code class="literal">SolverServicesClient</code>: Used to perform all Red Hat Business Optimizer operations, such as getting the solver state and the best solution, or disposing a solver
						</li><li class="listitem">
							<code class="literal">ProcessServicesClient</code>: Used to start, signal, and abort processes or work items
						</li><li class="listitem">
							<code class="literal">QueryServicesClient</code>: Used to query processes, process nodes, and process variables
						</li><li class="listitem">
							<code class="literal">UserTaskServicesClient</code>: Used to perform all user-task operations, such as starting, claiming, or canceling a task, and to query tasks by a specified field, such as by user or by process instances ID
						</li><li class="listitem">
							<code class="literal">UIServicesClient</code>: Used to get String representation of forms (XML or JSON) and of a process image (SVG)
						</li><li class="listitem">
							<code class="literal">ProcessAdminServicesClient</code>: Provides an interface for operations with process instances (found in <code class="literal">~/org/kie/server/client/admin</code>)
						</li><li class="listitem">
							<code class="literal">UserTaskAdminServicesClient</code>: Provides an interface for operations with user tasks (found in <code class="literal">~/org/kie/server/client/admin</code>)
						</li></ul></div><p>
					The <code class="literal">getServicesClient</code> method provides access to any of these clients:
				</p><pre class="programlisting language-java">RuleServicesClient rulesClient = kieServicesClient.getServicesClient(RuleServicesClient.class);</pre><p>
					For the full list of available KIE Server Java clients, download the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Source Distribution</strong></span> from the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Red Hat Customer Portal</a> and navigate to <code class="literal">~/rhpam-7.10.0-sources/src/droolsjbpm-integration-$VERSION/kie-server-parent/kie-server-remote/kie-server-client/src/main/java/org/kie/server/client</code>.
				</p></section><section class="section" id="kie-server-java-api-examples-ref_kie-apis"><div class="titlepage"><div><div><h2 class="title">22.3. Example requests with the KIE Server Java client API</h2></div></div></div><p>
					The following are examples of KIE Server Java client API requests for basic interactions with KIE Server. For the full list of available KIE Server Java clients, download the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Source Distribution</strong></span> from the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Red Hat Customer Portal</a> and navigate to <code class="literal">~/rhpam-7.10.0-sources/src/droolsjbpm-integration-$VERSION/kie-server-parent/kie-server-remote/kie-server-client/src/main/java/org/kie/server/client</code>.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Listing KIE Server capabilities</span></dt><dd><p class="simpara">
								You can use the <code class="literal">org.kie.server.api.model.KieServerInfo</code> object to identify server capabilities. The <code class="literal">KieServicesClient</code> client requires the server capability information to correctly produce service clients. You can specify the capabilities globally in <code class="literal">KieServicesConfiguration</code>; otherwise they are automatically retrieved from KIE Server.
							</p><div class="formalpara"><p class="title"><strong>Example request to return KIE Server capabilities</strong></p><p>
									
<pre class="programlisting language-java">public void listCapabilities() {

  KieServerInfo serverInfo = kieServicesClient.getServerInfo().getResult();
  System.out.print("Server capabilities:");

  for (String capability : serverInfo.getCapabilities()) {
    System.out.print(" " + capability);
  }

  System.out.println();
}</pre>
								</p></div></dd><dt><span class="term">Listing KIE containers in KIE Server</span></dt><dd><p class="simpara">
								KIE containers are represented by the <code class="literal">org.kie.server.api.model.KieContainerResource</code> object. The list of resources is represented by the <code class="literal">org.kie.server.api.model.KieContainerResourceList</code> object.
							</p><div class="formalpara"><p class="title"><strong>Example request to return KIE containers from KIE Server</strong></p><p>
									
<pre class="programlisting language-java">public void listContainers() {
    KieContainerResourceList containersList = kieServicesClient.listContainers().getResult();
    List&lt;KieContainerResource&gt; kieContainers = containersList.getContainers();
    System.out.println("Available containers: ");
    for (KieContainerResource container : kieContainers) {
        System.out.println("\t" + container.getContainerId() + " (" + container.getReleaseId() + ")");
    }
}</pre>
								</p></div><p class="simpara">
								You can optionally filter the KIE container results using an instance of the <code class="literal">org.kie.server.api.model.KieContainerResourceFilter</code> class, which is passed to the <code class="literal">org.kie.server.client.KieServicesClient.listContainers()</code> method.
							</p><div class="formalpara"><p class="title"><strong>Example request to return KIE containers by release ID and status</strong></p><p>
									
<pre class="programlisting language-java">public void listContainersWithFilter() {

    // Filter containers by releaseId "org.example:container:1.0.0.Final" and status FAILED
    KieContainerResourceFilter filter = new KieContainerResourceFilter.Builder()
            .releaseId("org.example", "container", "1.0.0.Final")
            .status(KieContainerStatus.FAILED)
            .build();

    // Using previously created KieServicesClient
    KieContainerResourceList containersList = kieServicesClient.listContainers(filter).getResult();
    List&lt;KieContainerResource&gt; kieContainers = containersList.getContainers();

    System.out.println("Available containers: ");

    for (KieContainerResource container : kieContainers) {
        System.out.println("\t" + container.getContainerId() + " (" + container.getReleaseId() + ")");
    }
}</pre>
								</p></div></dd><dt><span class="term">Creating and disposing KIE containers in KIE Server</span></dt><dd><p class="simpara">
								You can use the <code class="literal">createContainer</code> and <code class="literal">disposeContainer</code> methods in the <code class="literal">KieServicesClient</code> client to dispose and create KIE containers. In this example, when you dispose a container, the <code class="literal">ServiceResponse</code> returns a <code class="literal">Void</code> response. When you create a container, the <code class="literal">ServiceResponse</code> returns a <code class="literal">KieContainerResource</code> object.
							</p><div class="formalpara"><p class="title"><strong>Example request to dispose and re-create a KIE container</strong></p><p>
									
<pre class="programlisting language-java">public void disposeAndCreateContainer() {
    System.out.println("== Disposing and creating containers ==");

    // Retrieve list of KIE containers
    List&lt;KieContainerResource&gt; kieContainers = kieServicesClient.listContainers().getResult().getContainers();
    if (kieContainers.size() == 0) {
        System.out.println("No containers available...");
        return;
    }

    // Dispose KIE container
    KieContainerResource container = kieContainers.get(0);
    String containerId = container.getContainerId();
    ServiceResponse&lt;Void&gt; responseDispose = kieServicesClient.disposeContainer(containerId);
    if (responseDispose.getType() == ResponseType.FAILURE) {
        System.out.println("Error disposing " + containerId + ". Message: ");
        System.out.println(responseDispose.getMsg());
        return;
    }
    System.out.println("Success Disposing container " + containerId);
    System.out.println("Trying to recreate the container...");

    // Re-create KIE container
    ServiceResponse&lt;KieContainerResource&gt; createResponse = kieServicesClient.createContainer(containerId, container);
    if(createResponse.getType() == ResponseType.FAILURE) {
        System.out.println("Error creating " + containerId + ". Message: ");
        System.out.println(responseDispose.getMsg());
        return;
    }
    System.out.println("Container recreated with success!");
}</pre>
								</p></div></dd><dt><span class="term">Executing runtime commands in KIE Server</span></dt><dd><p class="simpara">
								Red Hat Process Automation Manager supports runtime commands that you can send to KIE Server for asset-related operations, such as inserting or retracting objects in a KIE session or firing all rules. The full list of supported runtime commands is located in the <code class="literal">org.drools.core.command.runtime</code> package in your Red Hat Process Automation Manager instance.
							</p><p class="simpara">
								You can use the <code class="literal">org.kie.api.command.KieCommands</code> class to insert commands, and use <code class="literal">org.kie.api.KieServices.get().getCommands()</code> to instantiate the <code class="literal">KieCommands</code> class. If you want to add multiple commands, use the <code class="literal">BatchExecutionCommand</code> wrapper.
							</p><div class="formalpara"><p class="title"><strong>Example request to insert an object and fire all rules</strong></p><p>
									
<pre class="programlisting language-java">import org.kie.api.command.Command;
import org.kie.api.command.KieCommands;
import org.kie.server.api.model.ServiceResponse;
import org.kie.server.client.RuleServicesClient;
import org.kie.server.client.KieServicesClient;
import org.kie.api.KieServices;

import java.util.Arrays;

...

public void executeCommands() {

  String containerId = "hello";
  System.out.println("== Sending commands to the server ==");
  RuleServicesClient rulesClient = kieServicesClient.getServicesClient(RuleServicesClient.class);
  KieCommands commandsFactory = KieServices.Factory.get().getCommands();

  Command&lt;?&gt; insert = commandsFactory.newInsert("Some String OBJ");
  Command&lt;?&gt; fireAllRules = commandsFactory.newFireAllRules();
  Command&lt;?&gt; batchCommand = commandsFactory.newBatchExecution(Arrays.asList(insert, fireAllRules));

  ServiceResponse&lt;String&gt; executeResponse = rulesClient.executeCommands(containerId, batchCommand);

  if(executeResponse.getType() == ResponseType.SUCCESS) {
    System.out.println("Commands executed with success! Response: ");
    System.out.println(executeResponse.getResult());
  } else {
    System.out.println("Error executing rules. Message: ");
    System.out.println(executeResponse.getMsg());
  }
}</pre>
								</p></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									A conversation between a client and a specific KIE Server container in a clustered environment is secured by a unique <code class="literal">conversationID</code>. The <code class="literal">conversationID</code> is transferred using the <code class="literal">X-KIE-ConversationId</code> REST header. If you update the container, unset the previous <code class="literal">conversationID</code>. Use <code class="literal">KieServiesClient.completeConversation()</code> to unset the <code class="literal">conversationID</code> for Java API.
								</p></div></div></dd><dt><span class="term">Listing available business processes in a KIE container</span></dt><dd><p class="simpara">
								You can use the <code class="literal">QueryServicesClient</code> client to list available process definitions. The <code class="literal">QueryServicesClient</code> methods use pagination, so in addition to the query you make, you must provide the current page and the number of results per page. In this example, the query starts on page <code class="literal">0</code> and lists the first <code class="literal">1000</code> results.
							</p><div class="formalpara"><p class="title"><strong>Example request to list business processes in KIE Server</strong></p><p>
									
<pre class="programlisting language-java">public void listProcesses() {
    System.out.println("== Listing Business Processes ==");
    QueryServicesClient queryClient = kieServicesClient.getServicesClient(QueryServicesClient.class);
    List&lt;ProcessDefinition&gt; findProcessesByContainerId = queryClient.findProcessesByContainerId("rewards", 0, 1000);
    for (ProcessDefinition def : findProcessesByContainerId) {
        System.out.println(def.getName() + " - " + def.getId() + " v" + def.getVersion());
    }
}</pre>
								</p></div></dd><dt><span class="term">Starting a business process in a KIE container</span></dt><dd><p class="simpara">
								You can use the <code class="literal">ProcessServicesClient</code> client to start a business process. Ensure that any custom classes that you require for your process are added into the <code class="literal">KieServicesConfiguration</code> object, using the <code class="literal">addExtraClasses()</code> method.
							</p><div class="formalpara"><p class="title"><strong>Example request to start a business process</strong></p><p>
									
<pre class="programlisting language-java">import java.util.HashMap;
import java.util.HashSet;
import java.util.Map;
import java.util.Set;

import javax.xml.bind.JAXBContext;
import javax.xml.bind.JAXBException;
import javax.xml.bind.Marshaller;

import org.kie.server.api.marshalling.MarshallingFormat;
import org.kie.server.client.KieServicesClient;
import org.kie.server.client.KieServicesConfiguration;
import org.kie.server.client.KieServicesFactory;
import org.kie.server.client.ProcessServicesClient;
...

public static void startProcess() {

  //Client configuration setup
  KieServicesConfiguration config = KieServicesFactory.newRestConfiguration(SERVER_URL, LOGIN, PASSWORD);

  //Add custom classes, such as Obj.class, to the configuration
  Set&lt;Class&lt;?&gt;&gt; extraClassList = new HashSet&lt;Class&lt;?&gt;&gt;();
  extraClassList.add(Obj.class);
  config.addExtraClasses(extraClassList);
  config.setMarshallingFormat(MarshallingFormat.JSON);

  // ProcessServicesClient setup
  KieServicesClient client = KieServicesFactory.newKieServicesClient(config);
  ProcessServicesClient processServicesClient = client.getServicesClient(ProcessServicesClient.class);

  // Create an instance of the custom class
  Obj obj = new Obj();
  obj.setOk("ok");

  Map&lt;String, Object&gt; variables = new HashMap&lt;String, Object&gt;();
  variables.put("test", obj);

  // Start the process with custom class
  processServicesClient.startProcess(CONTAINER, processId, variables);
}</pre>
								</p></div></dd><dt><span class="term">Running a custom query</span></dt><dd><p class="simpara">
								You can use the <code class="literal">QueryDefinition</code> object of the <code class="literal">QueryServicesClient</code> client to register and execute custom queries in KIE Server.
							</p><div class="formalpara"><p class="title"><strong>Example request to register and execute a custom query in KIE Server</strong></p><p>
									
<pre class="programlisting language-java">// Client setup
KieServicesConfiguration conf = KieServicesFactory.newRestConfiguration(SERVER_URL, LOGIN, PASSWORD);
KieServicesClient client = KieServicesFactory.newKieServicesClient(conf);

// Get the QueryServicesClient
QueryServicesClient queryClient = client.getServicesClient(QueryServicesClient.class);

// Build the query
QueryDefinition queryDefinition = QueryDefinition.builder().name(QUERY_NAME)
        .expression("select * from Task t")
        .source("java:jboss/datasources/ExampleDS")
        .target("TASK").build();

// Specify that two queries cannot have the same name
queryClient.unregisterQuery(QUERY_NAME);

// Register the query
queryClient.registerQuery(queryDefinition);

// Execute the query with parameters: query name, mapping type (to map the fields to an object), page number, page size, and return type
List&lt;TaskInstance&gt; query = queryClient.query(QUERY_NAME, QueryServicesClient.QUERY_MAP_TASK, 0, 100, TaskInstance.class);

// Read the result
for (TaskInstance taskInstance : query) {
    System.out.println(taskInstance);
}</pre>
								</p></div><p class="simpara">
								In this example, the <code class="literal">target</code> instructs the query service to apply default filters. Alternatively, you can set filter parameters manually. The <code class="literal">Target</code> class supports the following values:
							</p><pre class="programlisting language-java">public enum Target {
    PROCESS,
    TASK,
    BA_TASK,
    PO_TASK,
    JOBS,
    CUSTOM;
}</pre></dd></dl></div></section></section><section class="chapter" id="kie-server-commands-con_kie-apis"><div class="titlepage"><div><div><h2 class="title">Chapter 23. KIE Server and KIE container commands in Red Hat Process Automation Manager</h2></div></div></div><p>
				Red Hat Process Automation Manager supports server commands that you can send to KIE Server for server-related or container-related operations, such as retrieving server information or creating or deleting a container. The full list of supported KIE Server configuration commands is located in the <code class="literal">org.kie.server.api.commands</code> package in your Red Hat Process Automation Manager instance.
			</p><p>
				In the KIE Server REST API, you use the <code class="literal">org.kie.server.api.commands</code> commands as the request body for <code class="literal">POST</code> requests to <code class="literal">http://SERVER:PORT/kie-server/services/rest/server/config</code>. For more information about using the KIE Server REST API, see <a class="xref" href="#kie-server-rest-api-con_kie-apis" title="Chapter 21. KIE Server REST API for KIE containers and business assets">Chapter 21, <em>KIE Server REST API for KIE containers and business assets</em></a>.
			</p><p>
				In the KIE Server Java client API, you use the corresponding method in the parent <code class="literal">KieServicesClient</code> Java client as an embedded API request in your Java application. All KIE Server commands are executed by methods provided in the Java client API, so you do not need to embed the actual KIE Server commands in your Java application. For more information about using the KIE Server Java client API, see <a class="xref" href="#kie-server-java-api-con_kie-apis" title="Chapter 22. KIE Server Java client API for KIE containers and business assets">Chapter 22, <em>KIE Server Java client API for KIE containers and business assets</em></a>.
			</p><section class="section" id="kie-server-commands-samples-ref_kie-apis"><div class="titlepage"><div><div><h2 class="title">23.1. Sample KIE Server and KIE container commands</h2></div></div></div><p>
					The following are sample KIE Server commands that you can use with the KIE Server REST API or Java client API for server-related or container-related operations in KIE Server:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">GetServerInfoCommand</code>
						</li><li class="listitem">
							<code class="literal">GetServerStateCommand</code>
						</li><li class="listitem">
							<code class="literal">CreateContainerCommand</code>
						</li><li class="listitem">
							<code class="literal">GetContainerInfoCommand</code>
						</li><li class="listitem">
							<code class="literal">ListContainersCommand</code>
						</li><li class="listitem">
							<code class="literal">CallContainerCommand</code>
						</li><li class="listitem">
							<code class="literal">DisposeContainerCommand</code>
						</li><li class="listitem">
							<code class="literal">GetScannerInfoCommand</code>
						</li><li class="listitem">
							<code class="literal">UpdateScannerCommand</code>
						</li><li class="listitem">
							<code class="literal">UpdateReleaseIdCommand</code>
						</li></ul></div><p>
					For the full list of supported KIE Server configuration and management commands, see the <code class="literal">org.kie.server.api.commands</code> package in your Red Hat Process Automation Manager instance.
				</p><p>
					You can run KIE Server commands individually or together as a batch REST API request or batch Java API request:
				</p><div class="formalpara"><p class="title"><strong>Batch REST API request to create, call, and dispose a KIE container (JSON)</strong></p><p>
						
<pre class="programlisting language-json">{
  "commands": [
    {
      "create-container": {
        "container": {
          "status": "STARTED",
          "container-id": "command-script-container",
          "release-id": {
            "version": "1.0",
            "group-id": "com.redhat",
            "artifact-id": "Project1"
          }
        }
      }
    },
    {
      "call-container": {
        "payload": "{\n  \"commands\" : [ {\n    \"fire-all-rules\" : {\n      \"max\" : -1,\n      \"out-identifier\" : null\n    }\n  } ]\n}",
        "container-id": "command-script-container"
      }
    },
    {
      "dispose-container": {
        "container-id": "command-script-container"
      }
    }
  ]
}</pre>
					</p></div><div class="formalpara"><p class="title"><strong>Batch Java API request to retrieve, dispose, and re-create a KIE container</strong></p><p>
						
<pre class="programlisting language-java">public void disposeAndCreateContainer() {
    System.out.println("== Disposing and creating containers ==");

    // Retrieve list of KIE containers
    List&lt;KieContainerResource&gt; kieContainers = kieServicesClient.listContainers().getResult().getContainers();
    if (kieContainers.size() == 0) {
        System.out.println("No containers available...");
        return;
    }

    // Dispose KIE container
    KieContainerResource container = kieContainers.get(0);
    String containerId = container.getContainerId();
    ServiceResponse&lt;Void&gt; responseDispose = kieServicesClient.disposeContainer(containerId);
    if (responseDispose.getType() == ResponseType.FAILURE) {
        System.out.println("Error disposing " + containerId + ". Message: ");
        System.out.println(responseDispose.getMsg());
        return;
    }
    System.out.println("Success Disposing container " + containerId);
    System.out.println("Trying to recreate the container...");

    // Re-create KIE container
    ServiceResponse&lt;KieContainerResource&gt; createResponse = kieServicesClient.createContainer(containerId, container);
    if(createResponse.getType() == ResponseType.FAILURE) {
        System.out.println("Error creating " + containerId + ". Message: ");
        System.out.println(responseDispose.getMsg());
        return;
    }
    System.out.println("Container recreated with success!");
}</pre>
					</p></div><p>
					Each command in this section includes a REST request body example (JSON) for the KIE Server REST API and an embedded method example from the <code class="literal">KieServicesClient</code> Java client for the KIE Server Java client API.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">GetServerInfoCommand</span></dt><dd><p class="simpara">
								Returns information about the KIE Server.
							</p><div class="formalpara"><p class="title"><strong>Example REST request body (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands" : [ {
    "get-server-info" : { }
  } ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java client method</strong></p><p>
									
<pre class="programlisting language-java">KieServerInfo serverInfo = kieServicesClient.getServerInfo();</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Kie Server info",
      "result": {
        "kie-server-info": {
          "id": "default-kieserver",
          "version": "7.11.0.Final-redhat-00001",
          "name": "default-kieserver",
          "location": "http://localhost:8080/kie-server/services/rest/server",
          "capabilities": [
            "KieServer",
            "BRM",
            "BPM",
            "CaseMgmt",
            "BPM-UI",
            "BRP",
            "DMN",
            "Swagger"
          ],
          "messages": [
            {
              "severity": "INFO",
              "timestamp": {
                "java.util.Date": 1538502533321
              },
              "content": [
                "Server KieServerInfo{serverId='default-kieserver', version='7.11.0.Final-redhat-00001', name='default-kieserver', location='http://localhost:8080/kie-server/services/rest/server', capabilities=[KieServer, BRM, BPM, CaseMgmt, BPM-UI, BRP, DMN, Swagger], messages=null}started successfully at Tue Oct 02 13:48:53 EDT 2018"
              ]
            }
          ]
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">GetServerStateCommand</span></dt><dd><p class="simpara">
								Returns information about the current state and configurations of the KIE Server.
							</p><div class="formalpara"><p class="title"><strong>Example REST request body (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands" : [ {
    "get-server-state" : { }
  } ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java client method</strong></p><p>
									
<pre class="programlisting language-java">KieServerStateInfo serverStateInfo = kieServicesClient.getServerState();</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Successfully loaded server state for server id default-kieserver",
      "result": {
        "kie-server-state-info": {
          "controller": [
            "http://localhost:8080/business-central/rest/controller"
          ],
          "config": {
            "config-items": [
              {
                "itemName": "org.kie.server.location",
                "itemValue": "http://localhost:8080/kie-server/services/rest/server",
                "itemType": "java.lang.String"
              },
              {
                "itemName": "org.kie.server.controller.user",
                "itemValue": "controllerUser",
                "itemType": "java.lang.String"
              },
              {
                "itemName": "org.kie.server.controller",
                "itemValue": "http://localhost:8080/business-central/rest/controller",
                "itemType": "java.lang.String"
              }
            ]
          },
          "containers": [
            {
              "container-id": "employee-rostering",
              "release-id": {
                "group-id": "employeerostering",
                "artifact-id": "employeerostering",
                "version": "1.0.0-SNAPSHOT"
              },
              "resolved-release-id": null,
              "status": "STARTED",
              "scanner": {
                "status": "STOPPED",
                "poll-interval": null
              },
              "config-items": [
                {
                  "itemName": "KBase",
                  "itemValue": "",
                  "itemType": "BPM"
                },
                {
                  "itemName": "KSession",
                  "itemValue": "",
                  "itemType": "BPM"
                },
                {
                  "itemName": "MergeMode",
                  "itemValue": "MERGE_COLLECTIONS",
                  "itemType": "BPM"
                },
                {
                  "itemName": "RuntimeStrategy",
                  "itemValue": "SINGLETON",
                  "itemType": "BPM"
                }
              ],
              "messages": [],
              "container-alias": "employeerostering"
            }
          ]
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">CreateContainerCommand</span></dt><dd><p class="simpara">
								Creates a KIE container in the KIE Server.
							</p><div class="table" id="idm140279509784016"><p class="title"><strong>Table 23.1. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279509778368" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279509777280" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279509776192" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279509778368">
											<p>
												<code class="literal">container</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509777280">
											<p>
												Map containing the <code class="literal">container-id</code>, <code class="literal">release-id</code> data (group ID, artifact ID, version), <code class="literal">status</code>, and any other components of the new KIE container
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509776192">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example REST request body (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands" : [ {
    "create-container" : {
      "container" : {
        "status" : null,
        "messages" : [ ],
        "container-id" : "command-script-container",
        "release-id" : {
          "version" : "1.0",
          "group-id" : "com.redhat",
          "artifact-id" : "Project1"
        },
        "config-items" : [ ]
      }
    }
  } ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java client method</strong></p><p>
									
<pre class="programlisting language-java">ServiceResponse&lt;KieContainerResource&gt; response = kieServicesClient.createContainer("command-script-container", resource);</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Container command-script-container successfully deployed with module com.redhat:Project1:1.0.",
      "result": {
        "kie-container": {
          "container-id": "command-script-container",
          "release-id": {
            "version" : "1.0",
            "group-id" : "com.redhat",
            "artifact-id" : "Project1"
          },
          "resolved-release-id": {
            "version" : "1.0",
            "group-id" : "com.redhat",
            "artifact-id" : "Project1"
          },
          "status": "STARTED",
          "scanner": {
            "status": "DISPOSED",
            "poll-interval": null
          },
          "config-items": [],
          "messages": [
            {
              "severity": "INFO",
              "timestamp": {
                "java.util.Date": 1538762455510
              },
              "content": [
                "Container command-script-container successfully created with module com.redhat:Project1:1.0."
              ]
            }
          ],
          "container-alias": null
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">GetContainerInfoCommand</span></dt><dd><p class="simpara">
								Returns information about a specified KIE container in KIE Server.
							</p><div class="table" id="idm140279507460096"><p class="title"><strong>Table 23.2. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279506733184" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279506732096" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279506731008" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279506733184">
											<p>
												<code class="literal">container-id</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279506732096">
											<p>
												ID of the KIE container
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279506731008">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example REST request body (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands" : [ {
    "get-container-info" : {
      "container-id" : "command-script-container"
    }
  } ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java client method</strong></p><p>
									
<pre class="programlisting language-java">ServiceResponse&lt;KieContainerResource&gt; response = kieServicesClient.getContainerInfo("command-script-container");</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Info for container command-script-container",
      "result": {
        "kie-container": {
          "container-id": "command-script-container",
          "release-id": {
            "group-id": "com.redhat",
            "artifact-id": "Project1",
            "version": "1.0"
          },
          "resolved-release-id": {
            "group-id": "com.redhat",
            "artifact-id": "Project1",
            "version": "1.0"
          },
          "status": "STARTED",
          "scanner": {
            "status": "DISPOSED",
            "poll-interval": null
          },
          "config-items": [

          ],
          "container-alias": null
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">ListContainersCommand</span></dt><dd><p class="simpara">
								Returns a list of KIE containers that have been created in the KIE Server.
							</p><div class="table" id="idm140279510916944"><p class="title"><strong>Table 23.3. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279510911184" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279510910096" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279510909008" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510911184">
											<p>
												<code class="literal">kie-container-filter</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279510910096">
											<p>
												Optional map containing <code class="literal">release-id-filter</code>, <code class="literal">container-status-filter</code>, and any other KIE container properties by which you want to filter results
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279510909008">
											<p>
												Optional
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example REST request body (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands" : [ {
    "list-containers" : {
      "kie-container-filter" : {
        "release-id-filter" : { },
        "container-status-filter" : {
          "accepted-status" : ["FAILED"]
        }
      }
    }
  } ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java client method</strong></p><p>
									
<pre class="programlisting language-java">KieContainerResourceFilter filter = new KieContainerResourceFilter.Builder()
        .status(KieContainerStatus.FAILED)
        .build();

KieContainerResourceList containersList = kieServicesClient.listContainers(filter);</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "List of created containers",
      "result": {
        "kie-containers": {
          "kie-container": [
            {
              "container-id": "command-script-container",
              "release-id": {
                "group-id": "com.redhat",
                "artifact-id": "Project1",
                "version": "1.0"
              },
              "resolved-release-id": {
                "group-id": "com.redhat",
                "artifact-id": "Project1",
                "version": "1.0"
              },
              "status": "STARTED",
              "scanner": {
                "status": "STARTED",
                "poll-interval": 5000
              },
              "config-items": [
                {
                  "itemName": "RuntimeStrategy",
                  "itemValue": "SINGLETON",
                  "itemType": "java.lang.String"
                },
                {
                  "itemName": "MergeMode",
                  "itemValue": "MERGE_COLLECTIONS",
                  "itemType": "java.lang.String"
                },
                {
                  "itemName": "KBase",
                  "itemValue": "",
                  "itemType": "java.lang.String"
                },
                {
                  "itemName": "KSession",
                  "itemValue": "",
                  "itemType": "java.lang.String"
                }
              ],
              "messages": [
                {
                  "severity": "INFO",
                  "timestamp": {
                    "java.util.Date": 1538504619749
                  },
                  "content": [
                    "Container command-script-container successfully created with module com.redhat:Project1:1.0."
                  ]
                }
              ],
              "container-alias": null
            }
          ]
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">CallContainerCommand</span></dt><dd><p class="simpara">
								Calls a KIE container and executes one or more runtime commands. For information about Red Hat Process Automation Manager runtime commands, see <a class="xref" href="#runtime-commands-con_kie-apis" title="Chapter 24. Runtime commands in Red Hat Process Automation Manager">Chapter 24, <em>Runtime commands in Red Hat Process Automation Manager</em></a>.
							</p><div class="table" id="idm140279507494224"><p class="title"><strong>Table 23.4. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279507488464" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279507487376" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279506713792" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507488464">
											<p>
												<code class="literal">container-id</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507487376">
											<p>
												ID of the KIE container to be called
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279506713792">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507488464">
											<p>
												<code class="literal">payload</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507487376">
											<p>
												One or more commands in a <code class="literal">BatchExecutionCommand</code> wrapper to be executed on the KIE container
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279506713792">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example REST request body (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands" : [ {
    "call-container" : {
      "payload" : "{\n  \"lookup\" : \"defaultKieSession\",\n  \"commands\" : [ {\n    \"fire-all-rules\" : {\n      \"max\" : -1,\n      \"out-identifier\" : null\n    }\n  } ]\n}",
      "container-id" : "command-script-container"
    }
  } ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java client method</strong></p><p>
									
<pre class="programlisting language-java">List&lt;Command&lt;?&gt;&gt; commands = new ArrayList&lt;Command&lt;?&gt;&gt;();
      BatchExecutionCommand batchExecution1 = commandsFactory.newBatchExecution(commands, "defaultKieSession");
      commands.add(commandsFactory.newFireAllRules());

      ServiceResponse&lt;ExecutionResults&gt; response1 = ruleClient.executeCommandsWithResults("command-script-container", batchExecution1);</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Container command-script-container successfully called.",
      "result": "{\n  \"results\" : [ ],\n  \"facts\" : [ ]\n}"
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">DisposeContainerCommand</span></dt><dd><p class="simpara">
								Disposes a specified KIE container in the KIE Server.
							</p><div class="table" id="idm140279510112352"><p class="title"><strong>Table 23.5. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279510106592" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279510105504" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279510104416" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510106592">
											<p>
												<code class="literal">container-id</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279510105504">
											<p>
												ID of the KIE container to be disposed
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279510104416">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example REST request body (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands" : [ {
    "dispose-container" : {
      "container-id" : "command-script-container"
    }
  } ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java client method</strong></p><p>
									
<pre class="programlisting language-java">ServiceResponse&lt;Void&gt; response = kieServicesClient.disposeContainer("command-script-container");</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Container command-script-container successfully disposed.",
      "result": null
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">GetScannerInfoCommand</span></dt><dd><p class="simpara">
								Returns information about the KIE scanner used for automatic updates in a specified KIE container, if applicable.
							</p><div class="table" id="idm140279508530000"><p class="title"><strong>Table 23.6. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279508524240" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279508523152" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279508522064" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508524240">
											<p>
												<code class="literal">container-id</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508523152">
											<p>
												ID of the KIE container where the KIE scanner is used
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508522064">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example REST request body (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands" : [ {
    "get-scanner-info" : {
      "container-id" : "command-script-container"
    }
  } ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java client method</strong></p><p>
									
<pre class="programlisting language-java">ServiceResponse&lt;KieScannerResource&gt; response = kieServicesClient.getScannerInfo("command-script-container");</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Scanner info successfully retrieved",
      "result": {
        "kie-scanner": {
          "status": "DISPOSED",
          "poll-interval": null
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">UpdateScannerCommand</span></dt><dd><p class="simpara">
								Starts or stops a KIE scanner that controls polling for updated KIE container deployments.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									Avoid using a KIE scanner with business processes. Using a KIE scanner with processes can lead to unforeseen updates that can then cause errors in long-running processes when changes are not compatible with running process instances.
								</p></div></div><div class="table" id="idm140279510783552"><p class="title"><strong>Table 23.7. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279510777792" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279510776704" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279509388128" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510777792">
											<p>
												<code class="literal">container-id</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279510776704">
											<p>
												ID of the KIE container where the KIE scanner is used
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509388128">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510777792">
											<p>
												<code class="literal">status</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279510776704">
											<p>
												Status to be set on the KIE scanner (<code class="literal">STARTED</code>, <code class="literal">STOPPED</code>)
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509388128">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510777792">
											<p>
												<code class="literal">poll-interval</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279510776704">
											<p>
												Permitted polling duration in milliseconds
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509388128">
											<p>
												Required only when starting scanner
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example REST request body (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands" : [ {
    "update-scanner" : {
      "scanner" : {
        "status" : "STARTED",
        "poll-interval" : 10000
      },
      "container-id" : "command-script-container"
    }
  } ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java client method</strong></p><p>
									
<pre class="programlisting language-java">KieScannerResource scannerResource = new KieScannerResource();
scannerResource.setPollInterval(10000);
scannerResource.setStatus(KieScannerStatus. STARTED);

ServiceResponse&lt;KieScannerResource&gt; response = kieServicesClient.updateScanner("command-script-container", scannerResource);</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Kie scanner successfully created.",
      "result": {
        "kie-scanner": {
          "status": "STARTED",
          "poll-interval": 10000
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">UpdateReleaseIdCommand</span></dt><dd><p class="simpara">
								Updates the release ID data (group ID, artifact ID, version) for a specified KIE container.
							</p><div class="table" id="idm140279510338992"><p class="title"><strong>Table 23.8. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279510333232" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279510332144" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279510331056" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510333232">
											<p>
												<code class="literal">container-id</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279510332144">
											<p>
												ID of the KIE container to be updated
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279510331056">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510333232">
											<p>
												<code class="literal">releaseId</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279510332144">
											<p>
												Updated GAV (group ID, artifact ID, version) data to be applied to the KIE container
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279510331056">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example REST request body (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands" : [ {
    "update-release-id" : {
      "releaseId" : {
        "version" : "1.1",
        "group-id" : "com.redhat",
        "artifact-id" : "Project1"
      },
      "container-id" : "command-script-container"
    }
  } ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java client method</strong></p><p>
									
<pre class="programlisting language-java">ServiceResponse&lt;ReleaseId&gt; response = kieServicesClient.updateReleaseId("command-script-container", "com.redhat:Project1:1.1");</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Release id successfully updated",
      "result": {
        "release-id": {
          "group-id": "com.redhat",
          "artifact-id": "Project1",
          "version": "1.1"
        }
      }
    }
  ]
}</pre>
								</p></div></dd></dl></div></section></section><section class="chapter" id="runtime-commands-con_kie-apis"><div class="titlepage"><div><div><h2 class="title">Chapter 24. Runtime commands in Red Hat Process Automation Manager</h2></div></div></div><p>
				Red Hat Process Automation Manager supports runtime commands that you can send to KIE Server for asset-related operations, such as executing all rules or inserting or retracting objects in a KIE session. The full list of supported runtime commands is located in the <code class="literal">org.drools.core.command.runtime</code> package in your Red Hat Process Automation Manager instance.
			</p><p>
				In the KIE Server REST API, you use the global <code class="literal">org.drools.core.command.runtime</code> commands or the rule-specific <code class="literal">org.drools.core.command.runtime.rule</code> commands as the request body for <code class="literal">POST</code> requests to <code class="literal">http://SERVER:PORT/kie-server/services/rest/server/containers/instances/{containerId}</code>. For more information about using the KIE Server REST API, see <a class="xref" href="#kie-server-rest-api-con_kie-apis" title="Chapter 21. KIE Server REST API for KIE containers and business assets">Chapter 21, <em>KIE Server REST API for KIE containers and business assets</em></a>.
			</p><p>
				In the KIE Server Java client API, you can embed these commands in your Java application along with the relevant Java client. For example, for rule-related commands, you use the <code class="literal">RuleServicesClient</code> Java client with the embedded commands. For more information about using the KIE Server Java client API, see <a class="xref" href="#kie-server-java-api-con_kie-apis" title="Chapter 22. KIE Server Java client API for KIE containers and business assets">Chapter 22, <em>KIE Server Java client API for KIE containers and business assets</em></a>.
			</p><section class="section" id="runtime-commands-samples-ref_kie-apis"><div class="titlepage"><div><div><h2 class="title">24.1. Sample runtime commands in Red Hat Process Automation Manager</h2></div></div></div><p>
					The following are sample runtime commands that you can use with the KIE Server REST API or Java client API for asset-related operations in KIE Server:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">BatchExecutionCommand</code>
						</li><li class="listitem">
							<code class="literal">InsertObjectCommand</code>
						</li><li class="listitem">
							<code class="literal">RetractCommand</code>
						</li><li class="listitem">
							<code class="literal">ModifyCommand</code>
						</li><li class="listitem">
							<code class="literal">GetObjectCommand</code>
						</li><li class="listitem">
							<code class="literal">GetObjectsCommand</code>
						</li><li class="listitem">
							<code class="literal">InsertElementsCommand</code>
						</li><li class="listitem">
							<code class="literal">FireAllRulesCommand</code>
						</li><li class="listitem">
							<code class="literal">StartProcessCommand</code>
						</li><li class="listitem">
							<code class="literal">SignalEventCommand</code>
						</li><li class="listitem">
							<code class="literal">CompleteWorkItemCommand</code>
						</li><li class="listitem">
							<code class="literal">AbortWorkItemCommand</code>
						</li><li class="listitem">
							<code class="literal">QueryCommand</code>
						</li><li class="listitem">
							<code class="literal">SetGlobalCommand</code>
						</li><li class="listitem">
							<code class="literal">GetGlobalCommand</code>
						</li></ul></div><p>
					For the full list of supported runtime commands, see the <code class="literal">org.drools.core.command.runtime</code> package in your Red Hat Process Automation Manager instance.
				</p><p>
					Each command in this section includes a REST request body example (JSON) for the KIE Server REST API and an embedded Java command example for the KIE Server Java client API. The Java examples use an object <code class="literal">org.drools.compiler.test.Person</code> with the fields <code class="literal">name</code> (String) and <code class="literal">age</code> (Integer).
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">BatchExecutionCommand</span></dt><dd><p class="simpara">
								Contains multiple commands to be executed together.
							</p><div class="table" id="idm140279507372864"><p class="title"><strong>Table 24.1. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279507367104" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279507366016" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279507364928" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507367104">
											<p>
												<code class="literal">commands</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507366016">
											<p>
												List of commands to be executed.
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507364928">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507367104">
											<p>
												<code class="literal">lookup</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507366016">
											<p>
												Sets the KIE session ID on which the commands will be executed. For stateless KIE sessions, this attribute is required. For stateful KIE sessions, this attribute is optional and if not specified, the default KIE session is used.
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507364928">
											<p>
												Required for stateless KIE session, optional for stateful KIE session
											</p>
											</td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									KIE session IDs are in the <code class="literal">kmodule.xml</code> file of your Red Hat Process Automation Manager project. To view or add a KIE session ID in Business Central to use with the <code class="literal">lookup</code> command attribute, navigate to the relevant project in Business Central and go to project <span class="strong strong"><strong>Settings</strong></span> → <span class="strong strong"><strong>KIE bases</strong></span> → <span class="strong strong"><strong>KIE sessions</strong></span>. If no KIE bases exist, click <span class="strong strong"><strong>Add KIE base</strong></span> → <span class="strong strong"><strong>KIE sessions</strong></span> to define the new KIE base and KIE sessions.
								</p></div></div><div class="formalpara"><p class="title"><strong>Example JSON request body</strong></p><p>
									
<pre class="programlisting language-json">{
  "lookup": "ksession1",
  "commands": [ {
      "insert": {
        "object": {
          "org.drools.compiler.test.Person": {
            "name": "john",
            "age": 25
          }
        }
      }
    },
    {
      "fire-all-rules": {
        "max": 10,
        "out-identifier": "firedActivations"
      }
    }
  ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java command</strong></p><p>
									
<pre class="programlisting language-java">BatchExecutionCommand command = new BatchExecutionCommand();
command.setLookup("ksession1");

InsertObjectCommand insertObjectCommand = new InsertObjectCommand(new Person("john", 25));
FireAllRulesCommand fireAllRulesCommand = new FireAllRulesCommand();

command.getCommands().add(insertObjectCommand);
command.getCommands().add(fireAllRulesCommand);

ksession.execute(command);</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Container command-script-container successfully called.",
      "result": {
        "execution-results": {
          "results": [
            {
              "value": 0,
              "key": "firedActivations"
            }
          ],
          "facts": []
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">InsertObjectCommand</span></dt><dd><p class="simpara">
								Inserts an object into the KIE session.
							</p><div class="table" id="idm140279508556896"><p class="title"><strong>Table 24.2. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279508551136" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279508550048" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279508548960" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508551136">
											<p>
												<code class="literal">object</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508550048">
											<p>
												The object to be inserted
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508548960">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508551136">
											<p>
												<code class="literal">out-identifier</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508550048">
											<p>
												ID of the <code class="literal">FactHandle</code> created from the object insertion and added to the execution results
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508548960">
											<p>
												Optional
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508551136">
											<p>
												<code class="literal">return-object</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508550048">
											<p>
												Boolean to determine whether the object must be returned in the execution results (default: <code class="literal">true</code>)
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508548960">
											<p>
												Optional
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508551136">
											<p>
												<code class="literal">entry-point</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508550048">
											<p>
												Entry point for the insertion
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508548960">
											<p>
												Optional
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example JSON request body</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands": [ {
      "insert": {
        "entry-point": "my stream",
        "object": {
          "org.drools.compiler.test.Person": {
            "age": 25,
            "name": "john"
          }
        },
        "out-identifier": "john",
        "return-object": false
      }
    }
  ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java command</strong></p><p>
									
<pre class="programlisting language-java">Command insertObjectCommand =
  CommandFactory.newInsert(new Person("john", 25), "john", false, null);

ksession.execute(insertObjectCommand);</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Container command-script-container successfully called.",
      "result": {
        "execution-results": {
          "results": [],
          "facts": [
            {
              "value": {
                "org.drools.core.common.DefaultFactHandle": {
                  "external-form": "0:4:436792766:-2127720265:4:DEFAULT:NON_TRAIT:java.util.LinkedHashMap"
                }
              },
              "key": "john"
            }
          ]
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">RetractCommand</span></dt><dd><p class="simpara">
								Retracts an object from the KIE session.
							</p><div class="table" id="idm140279508513664"><p class="title"><strong>Table 24.3. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279508507904" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279508506816" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279508505728" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508507904">
											<p>
												<code class="literal">fact-handle</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508506816">
											<p>
												The <code class="literal">FactHandle</code> associated with the object to be retracted
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508505728">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example JSON request body</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands": [ {
      "retract": {
        "fact-handle": "0:4:436792766:-2127720265:4:DEFAULT:NON_TRAIT:java.util.LinkedHashMap"
      }
    }
  ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java command: Use <code class="literal">FactHandleFromString</code></strong></p><p>
									
<pre class="programlisting language-java">RetractCommand retractCommand = new RetractCommand();
retractCommand.setFactHandleFromString("123:234:345:456:567");</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java command: Use <code class="literal">FactHandle</code> from inserted object</strong></p><p>
									
<pre class="programlisting language-java">RetractCommand retractCommand = new RetractCommand(factHandle);</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Container employee-rostering successfully called.",
      "result": {
        "execution-results": {
          "results": [],
          "facts": []
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">ModifyCommand</span></dt><dd><p class="simpara">
								Modifies a previously inserted object in the KIE session.
							</p><div class="table" id="idm140279512669680"><p class="title"><strong>Table 24.4. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279512663920" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279512662832" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279512661744" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279512663920">
											<p>
												<code class="literal">fact-handle</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279512662832">
											<p>
												The <code class="literal">FactHandle</code> associated with the object to be modified
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279512661744">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279512663920">
											<p>
												<code class="literal">setters</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279512662832">
											<p>
												List of setters for object modifications
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279512661744">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example JSON request body</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands": [ {
      "modify": {
        "fact-handle": "0:4:436792766:-2127720265:4:DEFAULT:NON_TRAIT:java.util.LinkedHashMap",
        "setters": {
          "accessor": "age",
          "value": 25
        }
      }
    }
  ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java command</strong></p><p>
									
<pre class="programlisting language-java">ModifyCommand modifyCommand = new ModifyCommand(factHandle);

List&lt;Setter&gt; setters = new ArrayList&lt;Setter&gt;();
setters.add(new SetterImpl("age", "25"));

modifyCommand.setSetters(setters);</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Container employee-rostering successfully called.",
      "result": {
        "execution-results": {
          "results": [],
          "facts": []
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">GetObjectCommand</span></dt><dd><p class="simpara">
								Retrieves an object from a KIE session.
							</p><div class="table" id="idm140279507439296"><p class="title"><strong>Table 24.5. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279509815520" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279509814432" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279509813344" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279509815520">
											<p>
												<code class="literal">fact-handle</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509814432">
											<p>
												The <code class="literal">FactHandle</code> associated with the object to be retrieved
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509813344">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279509815520">
											<p>
												<code class="literal">out-identifier</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509814432">
											<p>
												ID of the <code class="literal">FactHandle</code> created from the object insertion and added to the execution results
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509813344">
											<p>
												Optional
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example JSON request body</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands": [ {
      "get-object": {
        "fact-handle": "0:4:436792766:-2127720265:4:DEFAULT:NON_TRAIT:java.util.LinkedHashMap",
        "out-identifier": "john"
      }
    }
  ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java command</strong></p><p>
									
<pre class="programlisting language-java">GetObjectCommand getObjectCommand = new GetObjectCommand();
getObjectCommand.setFactHandleFromString("123:234:345:456:567");
getObjectCommand.setOutIdentifier("john");</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Container command-script-container successfully called.",
      "result": {
        "execution-results": {
          "results": [
            {
              "value": null,
              "key": "john"
            }
          ],
          "facts": []
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">GetObjectsCommand</span></dt><dd><p class="simpara">
								Retrieves all objects from the KIE session as a collection.
							</p><div class="table" id="idm140279509452896"><p class="title"><strong>Table 24.6. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279509447136" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279509446048" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279509444960" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279509447136">
											<p>
												<code class="literal">object-filter</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509446048">
											<p>
												Filter for the objects returned from the KIE session
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509444960">
											<p>
												Optional
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279509447136">
											<p>
												<code class="literal">out-identifier</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509446048">
											<p>
												Identifier to be used in the execution results
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509444960">
											<p>
												Optional
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example JSON request body</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands": [ {
      "get-objects": {
        "out-identifier": "objects"
      }
    }
  ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java command</strong></p><p>
									
<pre class="programlisting language-java">GetObjectsCommand getObjectsCommand = new GetObjectsCommand();
getObjectsCommand.setOutIdentifier("objects");</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Container command-script-container successfully called.",
      "result": {
        "execution-results": {
          "results": [
            {
              "value": [
                {
                  "org.apache.xerces.dom.ElementNSImpl": "&lt;?xml version=\"1.0\" encoding=\"UTF-16\"?&gt;\n&lt;object xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type=\"person\"&gt;&lt;age&gt;25&lt;/age&gt;&lt;name&gt;john&lt;/name&gt;\n &lt;\/object&gt;"
                },
                {
                  "org.drools.compiler.test.Person": {
                    "name": "john",
                    "age": 25
                  }
                }
              ],
              "key": "objects"
            }
          ],
          "facts": []
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">InsertElementsCommand</span></dt><dd><p class="simpara">
								Inserts a list of objects into the KIE session.
							</p><div class="table" id="idm140279507556736"><p class="title"><strong>Table 24.7. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279507550976" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279507549888" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279507548800" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507550976">
											<p>
												<code class="literal">objects</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507549888">
											<p>
												The list of objects to be inserted into the KIE session
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507548800">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507550976">
											<p>
												<code class="literal">out-identifier</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507549888">
											<p>
												ID of the <code class="literal">FactHandle</code> created from the object insertion and added to the execution results
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507548800">
											<p>
												Optional
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507550976">
											<p>
												<code class="literal">return-object</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507549888">
											<p>
												Boolean to determine whether the object must be returned in the execution results. Default value: <code class="literal">true</code>.
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507548800">
											<p>
												Optional
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507550976">
											<p>
												<code class="literal">entry-point</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507549888">
											<p>
												Entry point for the insertion
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507548800">
											<p>
												Optional
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example JSON request body</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands": [ {
    "insert-elements": {
        "objects": [
            {
                "containedObject": {
                    "@class": "org.drools.compiler.test.Person",
                    "age": 25,
                    "name": "john"
                }
            },
            {
                "containedObject": {
                    "@class": "Person",
                    "age": 35,
                    "name": "sarah"
                }
            }
        ]
    }
  }
]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java command</strong></p><p>
									
<pre class="programlisting language-java">List&lt;Object&gt; objects = new ArrayList&lt;Object&gt;();
objects.add(new Person("john", 25));
objects.add(new Person("sarah", 35));

Command insertElementsCommand = CommandFactory.newInsertElements(objects);</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Container command-script-container successfully called.",
      "result": {
        "execution-results": {
          "results": [],
          "facts": [
            {
              "value": {
                "org.drools.core.common.DefaultFactHandle": {
                  "external-form": "0:4:436792766:-2127720265:4:DEFAULT:NON_TRAIT:java.util.LinkedHashMap"
                }
              },
              "key": "john"
            },
            {
              "value": {
                "org.drools.core.common.DefaultFactHandle": {
                  "external-form": "0:4:436792766:-2127720266:4:DEFAULT:NON_TRAIT:java.util.LinkedHashMap"
                }
              },
              "key": "sarah"
            }
          ]
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">FireAllRulesCommand</span></dt><dd><p class="simpara">
								Executes all rules in the KIE session.
							</p><div class="table" id="idm140279508849344"><p class="title"><strong>Table 24.8. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279508843584" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279508842496" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279508841408" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508843584">
											<p>
												<code class="literal">max</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508842496">
											<p>
												Maximum number of rules to be executed. The default is <code class="literal">-1</code> and does not put any restriction on execution.
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508841408">
											<p>
												Optional
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508843584">
											<p>
												<code class="literal">out-identifier</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508842496">
											<p>
												ID to be used for retrieving the number of fired rules in execution results.
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508841408">
											<p>
												Optional
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508843584">
											<p>
												<code class="literal">agenda-filter</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508842496">
											<p>
												Agenda Filter to be used for rule execution.
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508841408">
											<p>
												Optional
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example JSON request body</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands" : [ {
    "fire-all-rules": {
        "max": 10,
        "out-identifier": "firedActivations"
    }
  } ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java command</strong></p><p>
									
<pre class="programlisting language-java">FireAllRulesCommand fireAllRulesCommand = new FireAllRulesCommand();
fireAllRulesCommand.setMax(10);
fireAllRulesCommand.setOutIdentifier("firedActivations");</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Container command-script-container successfully called.",
      "result": {
        "execution-results": {
          "results": [
            {
              "value": 0,
              "key": "firedActivations"
            }
          ],
          "facts": []
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">StartProcessCommand</span></dt><dd><p class="simpara">
								Starts a process using the process ID. You can also pass parameters and initial data to be inserted.
							</p><div class="table" id="idm140279510993152"><p class="title"><strong>Table 24.9. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279510987392" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279510986304" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279508730992" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510987392">
											<p>
												<code class="literal">processId</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279510986304">
											<p>
												ID of the process to be started
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508730992">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510987392">
											<p>
												<code class="literal">parameters</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279510986304">
											<p>
												A <code class="literal">Map &lt;String,Object&gt;</code> argument to pass parameters in the process startup
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508730992">
											<p>
												Optional
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510987392">
											<p>
												<code class="literal">data</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279510986304">
											<p>
												List of objects to be inserted into the KIE session before the process startup
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279508730992">
											<p>
												Optional
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example JSON request body</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands": [
    {
      "start-process": {
        "processId": "myProject.myProcess",
        "data": null,
        "parameter": [],
        "out-identifier": null
      }
    }
  ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java command</strong></p><p>
									
<pre class="programlisting language-java">StartProcessCommand startProcessCommand = new StartProcessCommand();
startProcessCommand.setProcessId("org.drools.task.processOne");</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "type": "SUCCESS",
  "msg": "Container stateful-session successfully called.",
  "result": {
    "execution-results": {
      "results": [],
      "facts": []
    }
  }
}</pre>
								</p></div></dd><dt><span class="term">SignalEventCommand</span></dt><dd><p class="simpara">
								Sends a signal event to the KIE session.
							</p><div class="table" id="idm140279512648944"><p class="title"><strong>Table 24.10. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279512643184" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279512642096" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279512641008" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279512643184">
											<p>
												<code class="literal">event-type</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279512642096">
											<p>
												Type of the incoming event
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279512641008">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279512643184">
											<p>
												<code class="literal">process-instance-id</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279512642096">
											<p>
												ID of the process instance to be signalled
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279512641008">
											<p>
												Optional
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279512643184">
											<p>
												<code class="literal">event</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279512642096">
											<p>
												Data of the incoming event
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279512641008">
											<p>
												Optional
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example JSON request body</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands": [
    {
      "signal-event": {
        "process-instance-id": 1001,
        "correlation-key": null,
        "event-type": "start",
        "event": {
          "org.kie.server.testing.Person": {
            "fullname": "john",
            "age": 25
          }
        }
      }
    }
  ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java command</strong></p><p>
									
<pre class="programlisting language-java">SignalEventCommand signalEventCommand = new SignalEventCommand();
signalEventCommand.setProcessInstanceId(1001);
signalEventCommand.setEventType("start");
signalEventCommand.setEvent(new Person("john", 25));</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "type": "SUCCESS",
  "msg": "Container stateful-session successfully called.",
  "result": {
    "execution-results": {
      "results": [],
      "facts": []
    }
  }
}</pre>
								</p></div></dd><dt><span class="term">CompleteWorkItemCommand</span></dt><dd><p class="simpara">
								Completes a work item in the KIE session.
							</p><div class="table" id="idm140279506629296"><p class="title"><strong>Table 24.11. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279506623536" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279506622448" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279506621360" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279506623536">
											<p>
												<code class="literal">workItemId</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279506622448">
											<p>
												ID of the work item to be completed
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279506621360">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279506623536">
											<p>
												<code class="literal">results</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279506622448">
											<p>
												Result of the work item
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279506621360">
											<p>
												Optional
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example JSON request body</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands": [ {
    "complete-work-item": {
        "id": 1001
    }
  }
]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java command</strong></p><p>
									
<pre class="programlisting language-java">CompleteWorkItemCommand completeWorkItemCommand = new CompleteWorkItemCommand();
completeWorkItemCommand.setWorkItemId(1001);</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Container employee-rostering successfully called.",
      "result": {
        "execution-results": {
          "results": [],
          "facts": []
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">AbortWorkItemCommand</span></dt><dd><p class="simpara">
								Aborts a work item in the KIE session in the same way as <code class="literal">ksession.getWorkItemManager().abortWorkItem(workItemId)</code>.
							</p><div class="table" id="idm140279511272240"><p class="title"><strong>Table 24.12. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279511266480" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279511265392" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279511167328" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279511266480">
											<p>
												<code class="literal">workItemId</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279511265392">
											<p>
												ID of the work item to be aborted
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279511167328">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example JSON request body</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands": [ {
      "abort-work-item": {
        "id": 1001
      }
    }
  ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java command</strong></p><p>
									
<pre class="programlisting language-java">AbortWorkItemCommand abortWorkItemCommand = new AbortWorkItemCommand();
abortWorkItemCommand.setWorkItemId(1001);</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Container employee-rostering successfully called.",
      "result": {
        "execution-results": {
          "results": [],
          "facts": []
        }
      }
    }
  ]
}</pre>
								</p></div></dd><dt><span class="term">QueryCommand</span></dt><dd><p class="simpara">
								Executes a query defined in the KIE base.
							</p><div class="table" id="idm140279511149424"><p class="title"><strong>Table 24.13. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279511143664" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279511142576" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279511141488" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279511143664">
											<p>
												<code class="literal">name</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279511142576">
											<p>
												Query name.
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279511141488">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279511143664">
											<p>
												<code class="literal">out-identifier</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279511142576">
											<p>
												ID of the query results. The query results are added in the execution results with this identifier.
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279511141488">
											<p>
												Optional
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279511143664">
											<p>
												<code class="literal">arguments</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279511142576">
											<p>
												List of objects to be passed as a query parameter.
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279511141488">
											<p>
												Optional
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example JSON request body</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands": [
    {
      "query": {
        "name": "persons",
        "arguments": [],
        "out-identifier": "persons"
      }
    }
  ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java command</strong></p><p>
									
<pre class="programlisting language-java">QueryCommand queryCommand = new QueryCommand();
queryCommand.setName("persons");
queryCommand.setOutIdentifier("persons");</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "type": "SUCCESS",
  "msg": "Container stateful-session successfully called.",
  "result": {
    "execution-results": {
      "results": [
        {
          "value": {
            "org.drools.core.runtime.rule.impl.FlatQueryResults": {
              "idFactHandleMaps": {
                "type": "LIST",
                "componentType": null,
                "element": [
                  {
                    "type": "MAP",
                    "componentType": null,
                    "element": [
                      {
                        "value": {
                          "org.drools.core.common.DisconnectedFactHandle": {
                            "id": 1,
                            "identityHashCode": 1809949690,
                            "objectHashCode": 1809949690,
                            "recency": 1,
                            "object": {
                              "org.kie.server.testing.Person": {
                                "fullname": "John Doe",
                                "age": 47
                              }
                            },
                            "entryPointId": "DEFAULT",
                            "traitType": "NON_TRAIT",
                            "external-form": "0:1:1809949690:1809949690:1:DEFAULT:NON_TRAIT:org.kie.server.testing.Person"
                          }
                        },
                        "key": "$person"
                      }
                    ]
                  }
                ]
              },
              "idResultMaps": {
                "type": "LIST",
                "componentType": null,
                "element": [
                  {
                    "type": "MAP",
                    "componentType": null,
                    "element": [
                      {
                        "value": {
                          "org.kie.server.testing.Person": {
                            "fullname": "John Doe",
                            "age": 47
                          }
                        },
                        "key": "$person"
                      }
                    ]
                  }
                ]
              },
              "identifiers": {
                "type": "SET",
                "componentType": null,
                "element": [
                  "$person"
                ]
              }
            }
          },
          "key": "persons"
        }
      ],
      "facts": []
    }
  }
}</pre>
								</p></div></dd><dt><span class="term">SetGlobalCommand</span></dt><dd><p class="simpara">
								Sets an object to a global state.
							</p><div class="table" id="idm140279507785920"><p class="title"><strong>Table 24.14. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279507780160" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279507779072" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279507777984" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507780160">
											<p>
												<code class="literal">identifier</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507779072">
											<p>
												ID of the global variable defined in the KIE base
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507777984">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507780160">
											<p>
												<code class="literal">object</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507779072">
											<p>
												Object to be set into the global variable
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507777984">
											<p>
												Optional
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507780160">
											<p>
												<code class="literal">out</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507779072">
											<p>
												Boolean to exclude the global variable you set from the execution results
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507777984">
											<p>
												Optional
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507780160">
											<p>
												<code class="literal">out-identifier</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507779072">
											<p>
												ID of the global execution result
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279507777984">
											<p>
												Optional
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example JSON request body</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands": [
    {
      "set-global": {
        "identifier": "helper",
        "object": {
          "org.kie.server.testing.Person": {
            "fullname": "kyle",
            "age": 30
          }
        },
        "out-identifier": "output"
      }
    }
  ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java command</strong></p><p>
									
<pre class="programlisting language-java">SetGlobalCommand setGlobalCommand = new SetGlobalCommand();
setGlobalCommand.setIdentifier("helper");
setGlobalCommand.setObject(new Person("kyle", 30));
setGlobalCommand.setOut(true);
setGlobalCommand.setOutIdentifier("output");</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "type": "SUCCESS",
  "msg": "Container stateful-session successfully called.",
  "result": {
    "execution-results": {
      "results": [
        {
          "value": {
            "org.kie.server.testing.Person": {
              "fullname": "kyle",
              "age": 30
            }
          },
          "key": "output"
        }
      ],
      "facts": []
    }
  }
}</pre>
								</p></div></dd><dt><span class="term">GetGlobalCommand</span></dt><dd><p class="simpara">
								Retrieves a previously defined global object.
							</p><div class="table" id="idm140279509743600"><p class="title"><strong>Table 24.15. Command attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 50%; " class="col_2"/><col style="width: 20%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279509737840" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279509736752" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279509735664" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279509737840">
											<p>
												<code class="literal">identifier</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509736752">
											<p>
												ID of the global variable defined in the KIE base
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509735664">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279509737840">
											<p>
												<code class="literal">out-identifier</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509736752">
											<p>
												ID to be used in the execution results
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm140279509735664">
											<p>
												Optional
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example JSON request body</strong></p><p>
									
<pre class="programlisting language-json">{
  "commands": [ {
      "get-global": {
        "identifier": "helper",
        "out-identifier": "helperOutput"
      }
    }
  ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example Java command</strong></p><p>
									
<pre class="programlisting language-java">GetGlobalCommand getGlobalCommand = new GetGlobalCommand();
getGlobalCommand.setIdentifier("helper");
getGlobalCommand.setOutIdentifier("helperOutput");</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "response": [
    {
      "type": "SUCCESS",
      "msg": "Container command-script-container successfully called.",
      "result": {
        "execution-results": {
          "results": [
            {
              "value": null,
              "key": "helperOutput"
            }
          ],
          "facts": []
        }
      }
    }
  ]
}</pre>
								</p></div></dd></dl></div></section></section><section class="chapter" id="controller-rest-api-con_kie-apis"><div class="titlepage"><div><div><h2 class="title">Chapter 25. Process Automation Manager controller REST API for KIE Server templates and instances</h2></div></div></div><p>
				Red Hat Process Automation Manager provides a Process Automation Manager controller REST API that you can use to interact with your KIE Server templates (configurations), KIE Server instances (remote servers), and associated KIE containers (deployment units) in Red Hat Process Automation Manager without using the Business Central user interface. This API support enables you to maintain your Red Hat Process Automation Manager servers and resources more efficiently and optimize your integration and development with Red Hat Process Automation Manager.
			</p><p>
				With the Process Automation Manager controller REST API, you can perform the following actions:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Retrieve information about KIE Server templates, instances, and associated KIE containers
					</li><li class="listitem">
						Update, start, or stop KIE containers associated with KIE Server templates and instances
					</li><li class="listitem">
						Create, update, or delete KIE Server templates
					</li><li class="listitem">
						Create, update, or delete KIE Server instances
					</li></ul></div><p>
				Requests to the Process Automation Manager controller REST API require the following components:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Authentication</span></dt><dd><p class="simpara">
							The Process Automation Manager controller REST API requires HTTP Basic authentication or token-based authentication for the following user roles, depending on controller type:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">rest-all</code> user role if you installed Business Central and you want to use the built-in Process Automation Manager controller
								</li><li class="listitem">
									<code class="literal">kie-server</code> user role if you installed the headless Process Automation Manager controller separately from Business Central
								</li></ul></div><p class="simpara">
							To view configured user roles for your Red Hat Process Automation Manager distribution, navigate to <code class="literal">~/$SERVER_HOME/standalone/configuration/application-roles.properties</code> and <code class="literal">~/application-users.properties</code>.
						</p><p class="simpara">
							To add a user with the <code class="literal">kie-server</code> role or the <code class="literal">rest-all</code> role or both, navigate to <code class="literal">~/$SERVER_HOME/bin</code> and run the following command with the role or roles specified:
						</p><pre class="programlisting language-bash">$ ./add-user.sh -a --user &lt;USERNAME&gt; --password &lt;PASSWORD&gt; --role kie-server,rest-all</pre><p class="simpara">
							To configure the <code class="literal">kie-server</code> or <code class="literal">rest-all</code> user with Process Automation Manager controller access, navigate to <code class="literal">~/$SERVER_HOME/standalone/configuration/standalone-full.xml</code>, uncomment the <code class="literal">org.kie.server</code> properties (if applicable), and add the controller user login credentials and controller location (if needed):
						</p><pre class="programlisting language-xml">&lt;property name="org.kie.server.location" value="http://localhost:8080/kie-server/services/rest/server"/&gt;
&lt;property name="org.kie.server.controller" value="http://localhost:8080/business-central/rest/controller"/&gt;
&lt;property name="org.kie.server.controller.user" value="baAdmin"/&gt;
&lt;property name="org.kie.server.controller.pwd" value="password@1"/&gt;
&lt;property name="org.kie.server.id" value="default-kieserver"/&gt;</pre><p class="simpara">
							For more information about user roles and Red Hat Process Automation Manager installation options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
						</p></dd><dt><span class="term">HTTP headers</span></dt><dd><p class="simpara">
							The Process Automation Manager controller REST API requires the following HTTP headers for API requests:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									<code class="literal">Accept</code>: Data format accepted by your requesting client:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">application/json</code> (JSON)
										</li><li class="listitem">
											<code class="literal">application/xml</code> (XML, for JAXB)
										</li></ul></div></li><li class="listitem"><p class="simpara">
									<code class="literal">Content-Type</code>: Data format of your <code class="literal">POST</code> or <code class="literal">PUT</code> API request data:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">application/json</code> (JSON)
										</li><li class="listitem">
											<code class="literal">application/xml</code> (XML, for JAXB)
										</li></ul></div></li></ul></div></dd><dt><span class="term">HTTP methods</span></dt><dd><p class="simpara">
							The Process Automation Manager controller REST API supports the following HTTP methods for API requests:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">GET</code>: Retrieves specified information from a specified resource endpoint
								</li><li class="listitem">
									<code class="literal">POST</code>: Updates a resource or resource instance
								</li><li class="listitem">
									<code class="literal">PUT</code>: Creates a resource or resource instance
								</li><li class="listitem">
									<code class="literal">DELETE</code>: Deletes a resource or resource instance
								</li></ul></div></dd><dt><span class="term">Base URL</span></dt><dd>
							The base URL for Process Automation Manager controller REST API requests is <code class="literal">http://SERVER:PORT/CONTROLLER/rest/</code>, such as <code class="literal">http://localhost:8080/business-central/rest/</code> if you are using the Process Automation Manager controller built in to Business Central.
						</dd><dt><span class="term">Endpoints</span></dt><dd><p class="simpara">
							Process Automation Manager controller REST API endpoints, such as <code class="literal">/controller/management/servers/{serverTemplateId}</code> for a specified KIE Server template, are the URIs that you append to the Process Automation Manager controller REST API base URL to access the corresponding server resource or type of server resource in Red Hat Process Automation Manager.
						</p><div class="formalpara"><p class="title"><strong>Example request URL for <code class="literal">/controller/management/servers/{serverTemplateId}</code> endpoint</strong></p><p>
								<code class="literal">http://localhost:8080/business-central/rest/controller/management/servers/default-kieserver</code>
							</p></div></dd><dt><span class="term">Request parameters and request data</span></dt><dd><p class="simpara">
							Some Process Automation Manager controller REST API requests require specific parameters in the request URL path to identify or filter specific resources and to perform specific actions. You can append URL parameters to the endpoint in the format <code class="literal">?&lt;PARAM&gt;=&lt;VALUE&gt;&amp;&lt;PARAM&gt;=&lt;VALUE&gt;</code>.
						</p><div class="formalpara"><p class="title"><strong>Example DELETE request URL with parameters</strong></p><p>
								<code class="literal">http://localhost:8080/business-central/rest/controller/server/new-kieserver-instance?location=http://localhost:8080/kie-server/services/rest/server</code>
							</p></div><p class="simpara">
							HTTP <code class="literal">POST</code> and <code class="literal">PUT</code> requests may additionally require a request body or file with data to accompany the request.
						</p><div class="formalpara"><p class="title"><strong>Example PUT request URL and JSON request body data</strong></p><p>
								<code class="literal">http://localhost:8080/business-central/rest/controller/management/servers/new-kieserver</code>
							</p></div><pre class="programlisting language-json">{
  "server-id": "new-kieserver",
  "server-name": "new-kieserver",
  "container-specs": [],
  "server-config": {},
  "capabilities": [
    "RULE",
    "PROCESS",
    "PLANNING"
  ]
}</pre></dd></dl></div><section class="section" id="controller-rest-api-requests-proc_kie-apis"><div class="titlepage"><div><div><h2 class="title">25.1. Sending requests with the Process Automation Manager controller REST API using a REST client or curl utility</h2></div></div></div><p>
					The Process Automation Manager controller REST API enables you to interact with your KIE Server templates (configurations), KIE Server instances (remote servers), and associated KIE containers (deployment units) in Red Hat Process Automation Manager without using the Business Central user interface. You can send Process Automation Manager controller REST API requests using any REST client or curl utility.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server is installed and running.
						</li><li class="listitem">
							The Process Automation Manager controller or headless Process Automation Manager controller is installed and running.
						</li><li class="listitem">
							You have <code class="literal">rest-all</code> user role access to the Process Automation Manager controller if you installed Business Central, or <code class="literal">kie-server</code> user role access to the headless Process Automation Manager controller installed separately from Business Central.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Identify the relevant <a class="link" href="#controller-rest-api-endpoints-ref_kie-apis" title="25.3. Supported Process Automation Manager controller REST API endpoints">API endpoint</a> to which you want to send a request, such as <code class="literal">[GET] /controller/management/servers</code> to retrieve KIE Server templates from the Process Automation Manager controller.
						</li><li class="listitem"><p class="simpara">
							In a REST client or curl utility, enter the following components for a <code class="literal">GET</code> request to <code class="literal">controller/management/servers</code>. Adjust any request details according to your use case.
						</p><p class="simpara">
							For REST client:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Authentication</strong></span>: Enter the user name and password of the Process Automation Manager controller user with the <code class="literal">rest-all</code> role or the headless Process Automation Manager controller user with the <code class="literal">kie-server</code> role.
								</li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>HTTP Headers</strong></span>: Set the following header:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">Accept</code>: <code class="literal">application/json</code>
										</li></ul></div></li><li class="listitem">
									<span class="strong strong"><strong>HTTP method</strong></span>: Set to <code class="literal">GET</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>URL</strong></span>: Enter the Process Automation Manager controller REST API base URL and endpoint, such as <code class="literal">http://localhost:8080/business-central/rest/controller/management/servers</code>.
								</li></ul></div><p class="simpara">
							For curl utility:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">-u</code>: Enter the user name and password of the Process Automation Manager controller user with the <code class="literal">rest-all</code> role or the headless Process Automation Manager controller user with the <code class="literal">kie-server</code> role.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">-H</code>: Set the following header:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">accept</code>: <code class="literal">application/json</code>
										</li></ul></div></li><li class="listitem">
									<code class="literal">-X</code>: Set to <code class="literal">GET</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>URL</strong></span>: Enter the Process Automation Manager controller REST API base URL and endpoint, such as <code class="literal">http://localhost:8080/business-central/rest/controller/management/servers</code>.
								</li></ul></div><pre class="screen">curl -u 'baAdmin:password@1' -H "accept: application/json" -X GET "http://localhost:8080/business-central/rest/controller/management/servers"</pre></li><li class="listitem"><p class="simpara">
							Execute the request and review the Process Automation Manager controller response.
						</p><p class="simpara">
							Example server response (JSON):
						</p><pre class="programlisting language-json">{
  "server-template": [
    {
      "server-id": "default-kieserver",
      "server-name": "default-kieserver",
      "container-specs": [
        {
          "container-id": "employeerostering_1.0.0-SNAPSHOT",
          "container-name": "employeerostering",
          "server-template-key": {
            "server-id": "default-kieserver",
            "server-name": "default-kieserver"
          },
          "release-id": {
            "group-id": "employeerostering",
            "artifact-id": "employeerostering",
            "version": "1.0.0-SNAPSHOT"
          },
          "configuration": {
            "RULE": {
              "org.kie.server.controller.api.model.spec.RuleConfig": {
                "pollInterval": null,
                "scannerStatus": "STOPPED"
              }
            },
            "PROCESS": {
              "org.kie.server.controller.api.model.spec.ProcessConfig": {
                "runtimeStrategy": "SINGLETON",
                "kbase": "",
                "ksession": "",
                "mergeMode": "MERGE_COLLECTIONS"
              }
            }
          },
          "status": "STARTED"
        },
        {
          "container-id": "mortgage-process_1.0.0-SNAPSHOT",
          "container-name": "mortgage-process",
          "server-template-key": {
            "server-id": "default-kieserver",
            "server-name": "default-kieserver"
          },
          "release-id": {
            "group-id": "mortgage-process",
            "artifact-id": "mortgage-process",
            "version": "1.0.0-SNAPSHOT"
          },
          "configuration": {
            "RULE": {
              "org.kie.server.controller.api.model.spec.RuleConfig": {
                "pollInterval": null,
                "scannerStatus": "STOPPED"
              }
            },
            "PROCESS": {
              "org.kie.server.controller.api.model.spec.ProcessConfig": {
                "runtimeStrategy": "PER_PROCESS_INSTANCE",
                "kbase": "",
                "ksession": "",
                "mergeMode": "MERGE_COLLECTIONS"
              }
            }
          },
          "status": "STARTED"
        }
      ],
      "server-config": {},
      "server-instances": [
        {
          "server-instance-id": "default-kieserver-instance@localhost:8080",
          "server-name": "default-kieserver-instance@localhost:8080",
          "server-template-id": "default-kieserver",
          "server-url": "http://localhost:8080/kie-server/services/rest/server"
        }
      ],
      "capabilities": [
        "RULE",
        "PROCESS",
        "PLANNING"
      ]
    }
  ]
}</pre></li><li class="listitem"><p class="simpara">
							In your REST client or curl utility, send another API request with the following components for a <code class="literal">PUT</code> request to <code class="literal">/controller/management/servers/{serverTemplateId}</code> to create a new KIE Server template. Adjust any request details according to your use case.
						</p><p class="simpara">
							For REST client:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Authentication</strong></span>: Enter the user name and password of the Process Automation Manager controller user with the <code class="literal">rest-all</code> role or the headless Process Automation Manager controller user with the <code class="literal">kie-server</code> role.
								</li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>HTTP Headers</strong></span>: Set the following headers:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">Accept</code>: <code class="literal">application/json</code>
										</li><li class="listitem">
											<code class="literal">Content-Type</code>: <code class="literal">application/json</code>
										</li></ul></div></li><li class="listitem">
									<span class="strong strong"><strong>HTTP method</strong></span>: Set to <code class="literal">PUT</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>URL</strong></span>: Enter the Process Automation Manager controller REST API base URL and endpoint, such as <code class="literal">http://localhost:8080/business-central/rest/controller/management/servers/new-kieserver</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>Request body</strong></span>: Add a JSON request body with the configurations for the new KIE Server template:
								</li></ul></div><pre class="programlisting language-json">{
  "server-id": "new-kieserver",
  "server-name": "new-kieserver",
  "container-specs": [],
  "server-config": {},
  "capabilities": [
    "RULE",
    "PROCESS",
    "PLANNING"
  ]
}</pre><p class="simpara">
							For curl utility:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">-u</code>: Enter the user name and password of the Process Automation Manager controller user with the <code class="literal">rest-all</code> role or the headless Process Automation Manager controller user with the <code class="literal">kie-server</code> role.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">-H</code>: Set the following headers:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">accept</code>: <code class="literal">application/json</code>
										</li><li class="listitem">
											<code class="literal">content-type</code>: <code class="literal">application/json</code>
										</li></ul></div></li><li class="listitem">
									<code class="literal">-X</code>: Set to <code class="literal">PUT</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>URL</strong></span>: Enter the Process Automation Manager controller REST API base URL and endpoint, such as <code class="literal">http://localhost:8080/business-central/rest/controller/management/servers/new-kieserver</code>.
								</li><li class="listitem">
									<code class="literal">-d</code>: Add a JSON request body or file (<code class="literal">@file.json</code>) with the configurations for the new KIE Server template:
								</li></ul></div><pre class="screen">curl -u 'baAdmin:password@1' -H "accept: application/json" -H "content-type: application/json" -X PUT "http://localhost:8080/business-central/rest/controller/management/servers/new-kieserver" -d "{ \"server-id\": \"new-kieserver\", \"server-name\": \"new-kieserver\", \"container-specs\": [], \"server-config\": {}, \"capabilities\": [ \"RULE\", \"PROCESS\", \"PLANNING\" ]}"</pre><pre class="screen">curl -u 'baAdmin:password@1' -H "accept: application/json" -H "content-type: application/json" -X PUT "http://localhost:8080/business-central/rest/controller/management/servers/new-kieserver" -d @my-server-template-configs.json</pre></li><li class="listitem"><p class="simpara">
							Execute the request and confirm the successful Process Automation Manager controller response.
						</p><p class="simpara">
							If you encounter request errors, review the returned error code messages and adjust your request accordingly.
						</p></li></ol></div></section><section class="section" id="controller-rest-api-requests-swagger-proc_kie-apis"><div class="titlepage"><div><div><h2 class="title">25.2. Sending requests with the Process Automation Manager controller REST API using the Swagger interface</h2></div></div></div><p>
					The Process Automation Manager controller REST API supports a Swagger web interface that you can use instead of a standalone REST client or curl utility to interact with your KIE Server templates, instances, and associated KIE containers in Red Hat Process Automation Manager without using the Business Central user interface.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						By default, the Swagger web interface for the Process Automation Manager controller is enabled by the <code class="literal">org.kie.workbench.swagger.disabled=false</code> system property. To disable the Swagger web interface for the Process Automation Manager controller, set this system property to <code class="literal">true</code>.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The Process Automation Manager controller is installed and running.
						</li><li class="listitem">
							You have <code class="literal">rest-all</code> user role access to the Process Automation Manager controller if you installed Business Central, or <code class="literal">kie-server</code> user role access to the headless Process Automation Manager controller installed separately from Business Central.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In a web browser, navigate to <code class="literal">http://SERVER:PORT/CONTROLLER/docs</code>, such as <code class="literal">http://localhost:8080/business-central/docs</code>, and log in with the user name and password of the Process Automation Manager controller user with the <code class="literal">rest-all</code> role or the headless Process Automation Manager controller user with the <code class="literal">kie-server</code> role.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								If you are using the Process Automation Manager controller built in to Business Central, the Swagger page associated with the Process Automation Manager controller is identified as the "Business Central API" for Business Central REST services. If you are using the headless Process Automation Manager controller without Business Central, the Swagger page associated with the headless Process Automation Manager controller is identified as the "Controller API". In both cases, the Process Automation Manager controller REST API endpoints are the same.
							</p></div></div></li><li class="listitem">
							In the Swagger page, select the relevant API endpoint to which you want to send a request, such as <span class="strong strong"><strong>Controller :: KIE Server templates and KIE containers</strong></span> → <span class="strong strong"><strong>[GET] /controller/management/servers</strong></span> to retrieve KIE Server templates from the Process Automation Manager controller.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Try it out</strong></span> and provide any optional parameters by which you want to filter results, if applicable.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Response content type</strong></span> drop-down menu, select the desired format of the server response, such as <span class="strong strong"><strong>application/json</strong></span> for JSON format.
						</li><li class="listitem"><p class="simpara">
							Click <span class="strong strong"><strong>Execute</strong></span> and review the KIE Server response.
						</p><p class="simpara">
							Example server response (JSON):
						</p><pre class="programlisting language-json">{
  "server-template": [
    {
      "server-id": "default-kieserver",
      "server-name": "default-kieserver",
      "container-specs": [
        {
          "container-id": "employeerostering_1.0.0-SNAPSHOT",
          "container-name": "employeerostering",
          "server-template-key": {
            "server-id": "default-kieserver",
            "server-name": "default-kieserver"
          },
          "release-id": {
            "group-id": "employeerostering",
            "artifact-id": "employeerostering",
            "version": "1.0.0-SNAPSHOT"
          },
          "configuration": {
            "RULE": {
              "org.kie.server.controller.api.model.spec.RuleConfig": {
                "pollInterval": null,
                "scannerStatus": "STOPPED"
              }
            },
            "PROCESS": {
              "org.kie.server.controller.api.model.spec.ProcessConfig": {
                "runtimeStrategy": "SINGLETON",
                "kbase": "",
                "ksession": "",
                "mergeMode": "MERGE_COLLECTIONS"
              }
            }
          },
          "status": "STARTED"
        },
        {
          "container-id": "mortgage-process_1.0.0-SNAPSHOT",
          "container-name": "mortgage-process",
          "server-template-key": {
            "server-id": "default-kieserver",
            "server-name": "default-kieserver"
          },
          "release-id": {
            "group-id": "mortgage-process",
            "artifact-id": "mortgage-process",
            "version": "1.0.0-SNAPSHOT"
          },
          "configuration": {
            "RULE": {
              "org.kie.server.controller.api.model.spec.RuleConfig": {
                "pollInterval": null,
                "scannerStatus": "STOPPED"
              }
            },
            "PROCESS": {
              "org.kie.server.controller.api.model.spec.ProcessConfig": {
                "runtimeStrategy": "PER_PROCESS_INSTANCE",
                "kbase": "",
                "ksession": "",
                "mergeMode": "MERGE_COLLECTIONS"
              }
            }
          },
          "status": "STARTED"
        }
      ],
      "server-config": {},
      "server-instances": [
        {
          "server-instance-id": "default-kieserver-instance@localhost:8080",
          "server-name": "default-kieserver-instance@localhost:8080",
          "server-template-id": "default-kieserver",
          "server-url": "http://localhost:8080/kie-server/services/rest/server"
        }
      ],
      "capabilities": [
        "RULE",
        "PROCESS",
        "PLANNING"
      ]
    }
  ]
}</pre></li><li class="listitem">
							In the Swagger page, navigate to the <span class="strong strong"><strong>Controller :: KIE Server templates and KIE containers</strong></span> → <span class="strong strong"><strong>[GET] /controller/management/servers/{serverTemplateId}</strong></span> endpoint to send another request to create a new KIE Server template. Adjust any request details according to your use case.
						</li><li class="listitem"><p class="simpara">
							Click <span class="strong strong"><strong>Try it out</strong></span> and enter the following components for the request:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>serverTemplateId</strong></span>: Enter the ID of the new KIE Server template, such as <code class="literal">new-kieserver</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>body</strong></span>: Set the <span class="strong strong"><strong>Parameter content type</strong></span> to the desired request body format, such as <span class="strong strong"><strong>application/json</strong></span> for JSON format, and add a request body with the configurations for the new KIE Server template:
								</li></ul></div><pre class="programlisting language-json">{
  "server-id": "new-kieserver",
  "server-name": "new-kieserver",
  "container-specs": [],
  "server-config": {},
  "capabilities": [
    "RULE",
    "PROCESS",
    "PLANNING"
  ]
}</pre></li><li class="listitem">
							In the <span class="strong strong"><strong>Response content type</strong></span> drop-down menu, select the desired format of the server response, such as <span class="strong strong"><strong>application/json</strong></span> for JSON format.
						</li><li class="listitem"><p class="simpara">
							Click <span class="strong strong"><strong>Execute</strong></span> and confirm the successful Process Automation Manager controller response.
						</p><p class="simpara">
							If you encounter request errors, review the returned error code messages and adjust your request accordingly.
						</p></li></ol></div></section><section class="section" id="controller-rest-api-endpoints-ref_kie-apis"><div class="titlepage"><div><div><h2 class="title">25.3. Supported Process Automation Manager controller REST API endpoints</h2></div></div></div><p>
					The Process Automation Manager controller REST API provides endpoints for interacting with KIE Server templates (configurations), KIE Server instances (remote servers), and associated KIE containers (deployment units). The Process Automation Manager controller REST API base URL is <code class="literal">http://SERVER:PORT/CONTROLLER/rest/</code>. All requests require HTTP Basic authentication or token-based authentication for the <code class="literal">rest-all</code> user role if you installed Business Central and you want to use the built-in Process Automation Manager controller, or the <code class="literal">kie-server</code> user role if you installed the headless Process Automation Manager controller separately from Business Central.
				</p><p>
					For the full list of Process Automation Manager controller REST API endpoints and descriptions, use one of the following resources:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="http://jbpm.org/learn/documentation.html">Controller REST API</a> on the jBPM Documentation page (static)
						</li><li class="listitem"><p class="simpara">
							Swagger UI for the Process Automation Manager controller REST API at <code class="literal">http://SERVER:PORT/CONTROLLER/docs</code> (dynamic, requires running Process Automation Manager controller)
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								By default, the Swagger web interface for the Process Automation Manager controller is enabled by the <code class="literal">org.kie.workbench.swagger.disabled=false</code> system property. To disable the Swagger web interface for the Process Automation Manager controller, set this system property to <code class="literal">true</code>.
							</p><p>
								If you are using the Process Automation Manager controller built in to Business Central, the Swagger page associated with the Process Automation Manager controller is identified as the "Business Central API" for Business Central REST services. If you are using the headless Process Automation Manager controller without Business Central, the Swagger page associated with the headless Process Automation Manager controller is identified as the "Controller API". In both cases, the Process Automation Manager controller REST API endpoints are the same.
							</p></div></div></li></ul></div></section></section><section class="chapter" id="controller-java-api-con_kie-apis"><div class="titlepage"><div><div><h2 class="title">Chapter 26. Process Automation Manager controller Java client API for KIE Server templates and instances</h2></div></div></div><p>
				Red Hat Process Automation Manager provides a Process Automation Manager controller Java client API that enables you to connect to the Process Automation Manager controller using REST or WebSocket protocol from your Java client application. You can use the Process Automation Manager controller Java client API as an alternative to the Process Automation Manager controller REST API to interact with your KIE Server templates (configurations), KIE Server instances (remote servers), and associated KIE containers (deployment units) in Red Hat Process Automation Manager without using the Business Central user interface. This API support enables you to maintain your Red Hat Process Automation Manager servers and resources more efficiently and optimize your integration and development with Red Hat Process Automation Manager.
			</p><p>
				With the Process Automation Manager controller Java client API, you can perform the following actions also supported by the Process Automation Manager controller REST API:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Retrieve information about KIE Server templates, instances, and associated KIE containers
					</li><li class="listitem">
						Update, start, or stop KIE containers associated with KIE Server templates and instances
					</li><li class="listitem">
						Create, update, or delete KIE Server templates
					</li><li class="listitem">
						Create, update, or delete KIE Server instances
					</li></ul></div><p>
				Process Automation Manager controller Java client API requests require the following components:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Authentication</span></dt><dd><p class="simpara">
							The Process Automation Manager controller Java client API requires HTTP Basic authentication for the following user roles, depending on controller type:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">rest-all</code> user role if you installed Business Central and you want to use the built-in Process Automation Manager controller
								</li><li class="listitem">
									<code class="literal">kie-server</code> user role if you installed the headless Process Automation Manager controller separately from Business Central
								</li></ul></div><p class="simpara">
							To view configured user roles for your Red Hat Process Automation Manager distribution, navigate to <code class="literal">~/$SERVER_HOME/standalone/configuration/application-roles.properties</code> and <code class="literal">~/application-users.properties</code>.
						</p><p class="simpara">
							To add a user with the <code class="literal">kie-server</code> role or the <code class="literal">rest-all</code> role or both (assuming a Keystore is already set), navigate to <code class="literal">~/$SERVER_HOME/bin</code> and run the following command with the role or roles specified:
						</p><pre class="programlisting language-bash">$ ./add-user.sh -a --user &lt;USERNAME&gt; --password &lt;PASSWORD&gt; --role kie-server,rest-all</pre><p class="simpara">
							In case the Keystore is not set, then execute the following command to create a Keystore:
						</p><pre class="programlisting language-bash">$ keytool -importpassword -keystore $SERVER_HOME/standalone/configuration/kie_keystore.jceks -keypass &lt;SECRETKEYPASSWORD&gt; -alias kieserver -storepass &lt;SECRETSTOREPASSWORD&gt; -storetype JCEKS</pre><p class="simpara">
							Also, add the following properties to <code class="literal">~/$SERVER_HOME/standalone/configuration/standalone-full.xml</code>:
						</p><pre class="programlisting language-xml">    &lt;property name="kie.keystore.keyStoreURL" value="file:///data/jboss/rhpam780/standalone/configuration/kie_keystore.jceks"/&gt;
    &lt;property name="kie.keystore.keyStorePwd" value="&lt;SECRETSTOREPASSWORD&gt;"/&gt;
    &lt;property name="kie.keystore.key.server.alias" value="kieserver"/&gt;
    &lt;property name="kie.keystore.key.server.pwd" value="&lt;SECRETKEYPASSWORD&gt;"/&gt;
    &lt;property name="kie.keystore.key.ctrl.alias" value="kieserver"/&gt;
    &lt;property name="kie.keystore.key.ctrl.pwd" value="&lt;SECRETKEYPASSWORD&gt;"/&gt;</pre><p class="simpara">
							To configure the <code class="literal">kie-server</code> or <code class="literal">rest-all</code> user with Process Automation Manager controller access, navigate to <code class="literal">~/$SERVER_HOME/standalone/configuration/standalone-full.xml</code>, uncomment the <code class="literal">org.kie.server</code> properties (if applicable), and add the controller user login credentials and controller location (if needed):
						</p><pre class="programlisting language-xml">&lt;property name="org.kie.server.location" value="http://localhost:8080/kie-server/services/rest/server"/&gt;
&lt;property name="org.kie.server.controller" value="http://localhost:8080/business-central/rest/controller"/&gt;
&lt;property name="org.kie.server.controller.user" value="&lt;USERNAME&gt;"/&gt;
&lt;property name="org.kie.server.id" value="default-kieserver"/&gt;</pre><p class="simpara">
							For more information about user roles and Red Hat Process Automation Manager installation options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
						</p></dd><dt><span class="term">Project dependencies</span></dt><dd><p class="simpara">
							The Process Automation Manager controller Java client API requires the following dependencies on the relevant classpath of your Java project:
						</p><pre class="programlisting language-xml">&lt;!-- For remote execution on controller --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.kie.server&lt;/groupId&gt;
  &lt;artifactId&gt;kie-server-controller-client&lt;/artifactId&gt;
  &lt;version&gt;${rhpam.version}&lt;/version&gt;
&lt;/dependency&gt;

&lt;!-- For REST client --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;
  &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;
  &lt;version&gt;${resteasy.version}&lt;/version&gt;
&lt;/dependency&gt;

&lt;!-- For WebSocket client --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;io.undertow&lt;/groupId&gt;
  &lt;artifactId&gt;undertow-websockets-jsr&lt;/artifactId&gt;
  &lt;version&gt;${undertow.version}&lt;/version&gt;
&lt;/dependency&gt;

&lt;!-- For debug logging (optional) --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
  &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
  &lt;version&gt;${logback.version}&lt;/version&gt;
&lt;/dependency&gt;</pre><p class="simpara">
							The <code class="literal">&lt;version&gt;</code> for Red Hat Process Automation Manager dependencies is the Maven artifact version for Red Hat Process Automation Manager currently used in your project (for example, 7.48.0.Final-redhat-00002).
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Instead of specifying a Red Hat Process Automation Manager <code class="literal">&lt;version&gt;</code> for individual dependencies, consider adding the Red Hat Business Automation bill of materials (BOM) dependency to your project <code class="literal">pom.xml</code> file. The Red Hat Business Automation BOM applies to both Red Hat Decision Manager and Red Hat Process Automation Manager. When you add the BOM files, the correct versions of transitive dependencies from the provided Maven repositories are included in the project.
							</p><p>
								Example BOM dependency:
							</p><pre class="programlisting language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.redhat.ba&lt;/groupId&gt;
  &lt;artifactId&gt;ba-platform-bom&lt;/artifactId&gt;
  &lt;version&gt;7.10.0.redhat-00002&lt;/version&gt;
  &lt;scope&gt;import&lt;/scope&gt;
  &lt;type&gt;pom&lt;/type&gt;
&lt;/dependency&gt;</pre><p>
								For more information about the Red Hat Business Automation BOM, see <a class="link" href="https://access.redhat.com/solutions/3405361">What is the mapping between RHPAM product and maven library version?</a>.
							</p></div></div></dd><dt><span class="term">Client request configuration</span></dt><dd><p class="simpara">
							All Java client requests with the Process Automation Manager controller Java client API must define at least the following controller communication components:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Credentials of the <code class="literal">rest-all</code> user if you installed Business Central, or the <code class="literal">kie-server</code> user if you installed the headless Process Automation Manager controller separately from Business Central
								</li><li class="listitem"><p class="simpara">
									Process Automation Manager controller location for REST or WebSocket protocol:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											Example REST URL: <code class="literal">http://localhost:8080/business-central/rest/controller</code>
										</li><li class="listitem">
											Example WebSocket URL: <code class="literal">ws://localhost:8080/headless-controller/websocket/controller</code>
										</li></ul></div></li><li class="listitem">
									Marshalling format for API requests and responses (JSON or JAXB)
								</li><li class="listitem">
									A <code class="literal">KieServerControllerClient</code> object, which serves as the entry point for starting the server communication using the Java client API
								</li><li class="listitem">
									A <code class="literal">KieServerControllerClientFactory</code> defining REST or WebSocket protocol and user access
								</li><li class="listitem">
									The Process Automation Manager controller client service or services used, such as <code class="literal">listServerTemplates</code>, <code class="literal">getServerTemplate</code>, or <code class="literal">getServerInstances</code>
								</li></ul></div><p class="simpara">
							The following are examples of REST and WebSocket client configurations with these components:
						</p><div class="formalpara"><p class="title"><strong>Client configuration example with REST</strong></p><p>
								
<pre class="programlisting language-java">import org.kie.server.api.marshalling.MarshallingFormat;
import org.kie.server.controller.api.model.spec.ServerTemplateList;
import org.kie.server.controller.client.KieServerControllerClient;
import org.kie.server.controller.client.KieServerControllerClientFactory;

public class ListServerTemplatesExample {

    private static final String URL = "http://localhost:8080/business-central/rest/controller";
    private static final String USER = "baAdmin";
    private static final String PASSWORD = "password@1";

    private static final MarshallingFormat FORMAT = MarshallingFormat.JSON;

    public static void main(String[] args) {
        KieServerControllerClient client = KieServerControllerClientFactory.newRestClient(URL,
                                                                                          USER,
                                                                                          PASSWORD);

        final ServerTemplateList serverTemplateList = client.listServerTemplates();
        System.out.println(String.format("Found %s server template(s) at controller url: %s",
                                         serverTemplateList.getServerTemplates().length,
                                         URL));
    }
}</pre>
							</p></div><div class="formalpara"><p class="title"><strong>Client configuration example with WebSocket</strong></p><p>
								
<pre class="programlisting language-java">import org.kie.server.api.marshalling.MarshallingFormat;
import org.kie.server.controller.api.model.spec.ServerTemplateList;
import org.kie.server.controller.client.KieServerControllerClient;
import org.kie.server.controller.client.KieServerControllerClientFactory;

public class ListServerTemplatesExample {

    private static final String URL = "ws://localhost:8080/my-controller/websocket/controller";
    private static final String USER = "baAdmin";
    private static final String PASSWORD = "password@1";

    private static final MarshallingFormat FORMAT = MarshallingFormat.JSON;

    public static void main(String[] args) {
        KieServerControllerClient client = KieServerControllerClientFactory.newWebSocketClient(URL,
                                                                                               USER,
                                                                                               PASSWORD);

        final ServerTemplateList serverTemplateList = client.listServerTemplates();
        System.out.println(String.format("Found %s server template(s) at controller url: %s",
                                         serverTemplateList.getServerTemplates().length,
                                         URL));
    }
}</pre>
							</p></div></dd></dl></div><section class="section" id="controller-java-api-requests-proc_kie-apis"><div class="titlepage"><div><div><h2 class="title">26.1. Sending requests with the Process Automation Manager controller Java client API</h2></div></div></div><p>
					The Process Automation Manager controller Java client API enables you to connect to the Process Automation Manager controller using REST or WebSocket protocols from your Java client application. You can use the Process Automation Manager controller Java client API as an alternative to the Process Automation Manager controller REST API to interact with your KIE Server templates (configurations), KIE Server instances (remote servers), and associated KIE containers (deployment units) in Red Hat Process Automation Manager without using the Business Central user interface.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							KIE Server is installed and running.
						</li><li class="listitem">
							The Process Automation Manager controller or headless Process Automation Manager controller is installed and running.
						</li><li class="listitem">
							You have <code class="literal">rest-all</code> user role access to the Process Automation Manager controller if you installed Business Central, or <code class="literal">kie-server</code> user role access to the headless Process Automation Manager controller installed separately from Business Central.
						</li><li class="listitem">
							You have a Java project with Red Hat Process Automation Manager resources.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In your client application, ensure that the following dependencies have been added to the relevant classpath of your Java project:
						</p><pre class="programlisting language-xml">&lt;!-- For remote execution on controller --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.kie.server&lt;/groupId&gt;
  &lt;artifactId&gt;kie-server-controller-client&lt;/artifactId&gt;
  &lt;version&gt;${rhpam.version}&lt;/version&gt;
&lt;/dependency&gt;

&lt;!-- For REST client --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;
  &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;
  &lt;version&gt;${resteasy.version}&lt;/version&gt;
&lt;/dependency&gt;

&lt;!-- For WebSocket client --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;io.undertow&lt;/groupId&gt;
  &lt;artifactId&gt;undertow-websockets-jsr&lt;/artifactId&gt;
  &lt;version&gt;${undertow.version}&lt;/version&gt;
&lt;/dependency&gt;

&lt;!-- For debug logging (optional) --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
  &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
  &lt;version&gt;${logback.version}&lt;/version&gt;
&lt;/dependency&gt;</pre></li><li class="listitem">
							Download the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Source Distribution</strong></span> from the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Red Hat Customer Portal</a> and navigate to <code class="literal">~/rhpam-7.10.0-sources/src/droolsjbpm-integration-$VERSION/kie-server-parent/kie-server-controller/kie-server-controller-client/src/main/java/org/kie/server/controller/client</code> to access the Process Automation Manager controller Java clients.
						</li><li class="listitem">
							In the <code class="literal">~/kie/server/controller/client</code> folder , identify the relevant Java client implementation for the request you want to send, such as the <code class="literal">RestKieServerControllerClient</code> implementation to access client services for KIE Server templates and KIE containers in REST protocol.
						</li><li class="listitem"><p class="simpara">
							In your client application, create a <code class="literal">.java</code> class for the API request. The class must contain the necessary imports, the Process Automation Manager controller location and user credentials, a <code class="literal">KieServerControllerClient</code> object, and the client method to execute, such as <code class="literal">createServerTemplate</code> and <code class="literal">createContainer</code> from the <code class="literal">RestKieServerControllerClient</code> implementation. Adjust any configuration details according to your use case.
						</p><div class="formalpara"><p class="title"><strong>Creating and interacting with a KIE Server template and KIE containers</strong></p><p>
								
<pre class="programlisting language-java">import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;

import org.kie.server.api.marshalling.MarshallingFormat;
import org.kie.server.api.model.KieContainerStatus;
import org.kie.server.api.model.KieScannerStatus;
import org.kie.server.api.model.ReleaseId;
import org.kie.server.controller.api.model.spec.*;
import org.kie.server.controller.client.KieServerControllerClient;
import org.kie.server.controller.client.KieServerControllerClientFactory;

public class RestTemplateContainerExample {

  private static final String URL = "http://localhost:8080/business-central/rest/controller";
  private static final String USER = "baAdmin";
  private static final String PASSWORD = "password@1";

    private static KieServerControllerClient client;

    public static void main(String[] args) {
        KieServerControllerClient client = KieServerControllerClientFactory.newRestClient(URL,
                                                                                          USER,
                                                                                          PASSWORD,
                                                                                          MarshallingFormat.JSON);
        // Create server template and KIE container, start and stop KIE container, and delete server template
        ServerTemplate serverTemplate = createServerTemplate();
        ContainerSpec container = createContainer(serverTemplate);
        client.startContainer(container);
        client.stopContainer(container);
        client.deleteServerTemplate(serverTemplate.getId());
    }

    // Re-create and configure server template
    protected static ServerTemplate createServerTemplate() {
        ServerTemplate serverTemplate = new ServerTemplate();
        serverTemplate.setId("example-client-id");
        serverTemplate.setName("example-client-name");
        serverTemplate.setCapabilities(Arrays.asList(Capability.PROCESS.name(),
                                                     Capability.RULE.name(),
                                                     Capability.PLANNING.name()));

        client.saveServerTemplate(serverTemplate);

        return serverTemplate;
    }

    // Re-create and configure KIE containers
    protected static ContainerSpec createContainer(ServerTemplate serverTemplate){
        Map&lt;Capability, ContainerConfig&gt; containerConfigMap = new HashMap();

        ProcessConfig processConfig = new ProcessConfig("PER_PROCESS_INSTANCE", "kieBase", "kieSession", "MERGE_COLLECTION");
        containerConfigMap.put(Capability.PROCESS, processConfig);

        RuleConfig ruleConfig = new RuleConfig(500l, KieScannerStatus.SCANNING);
        containerConfigMap.put(Capability.RULE, ruleConfig);

        ReleaseId releaseId = new ReleaseId("org.kie.server.testing", "stateless-session-kjar", "1.0.0-SNAPSHOT");

        ContainerSpec containerSpec = new ContainerSpec("example-container-id", "example-client-name", serverTemplate, releaseId, KieContainerStatus.STOPPED, containerConfigMap);
        client.saveContainerSpec(serverTemplate.getId(), containerSpec);

        return containerSpec;
    }
}</pre>
							</p></div></li><li class="listitem"><p class="simpara">
							Run the configured <code class="literal">.java</code> class from your project directory to execute the request, and review the Process Automation Manager controller response.
						</p><p class="simpara">
							If you enabled debug logging, KIE Server responds with a detailed response according to your configured marshalling format, such as JSON. If you encounter request errors, review the returned error code messages and adjust your Java configurations accordingly.
						</p></li></ol></div></section><section class="section" id="controller-java-clients-ref_kie-apis"><div class="titlepage"><div><div><h2 class="title">26.2. Supported Process Automation Manager controller Java clients</h2></div></div></div><p>
					The following are some of the Java client services available in the <code class="literal">org.kie.server.controller.client</code> package of your Red Hat Process Automation Manager distribution. You can use these services to interact with related resources in the Process Automation Manager controller similarly to the Process Automation Manager controller REST API.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">KieServerControllerClient</code>: Used as the entry point for communicating with the Process Automation Manager controller
						</li><li class="listitem">
							<code class="literal">RestKieServerControllerClient</code>: Implementation used to interact with KIE Server templates and KIE containers in REST protocol (found in <code class="literal">~/org/kie/server/controller/client/rest</code>)
						</li><li class="listitem">
							<code class="literal">WebSocketKieServerControllerClient</code>: Implementation used to interact with KIE Server templates and KIE containers in WebSocket protocol (found in <code class="literal">~/org/kie/server/controller/client/websocket</code>)
						</li></ul></div><p>
					For the full list of available Process Automation Manager controller Java clients, download the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Source Distribution</strong></span> from the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Red Hat Customer Portal</a> and navigate to <code class="literal">~/rhpam-7.10.0-sources/src/droolsjbpm-integration-$VERSION/kie-server-parent/kie-server-controller/kie-server-controller-client/src/main/java/org/kie/server/controller/client</code>.
				</p></section><section class="section" id="controller-java-api-examples-ref_kie-apis"><div class="titlepage"><div><div><h2 class="title">26.3. Example requests with the Process Automation Manager controller Java client API</h2></div></div></div><p>
					The following are examples of Process Automation Manager controller Java client API requests for basic interactions with the Process Automation Manager controller. For the full list of available Process Automation Manager controller Java clients, download the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Source Distribution</strong></span> from the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Red Hat Customer Portal</a> and navigate to <code class="literal">~/rhpam-7.10.0-sources/src/droolsjbpm-integration-$VERSION/kie-server-parent/kie-server-controller/kie-server-controller-client/src/main/java/org/kie/server/controller/client</code>.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Creating and interacting with KIE Server templates and KIE containers</span></dt><dd><p class="simpara">
								You can use the <code class="literal">ServerTemplate</code> and <code class="literal">ContainerSpec</code> services in the REST or WebSocket Process Automation Manager controller clients to create, dispose, and update KIE Server templates and KIE containers, and to start and stop KIE containers, as illustrated in this example.
							</p><div class="formalpara"><p class="title"><strong>Example request to create and interact with a KIE Server template and KIE containers</strong></p><p>
									
<pre class="programlisting language-java">import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;

import org.kie.server.api.marshalling.MarshallingFormat;
import org.kie.server.api.model.KieContainerStatus;
import org.kie.server.api.model.KieScannerStatus;
import org.kie.server.api.model.ReleaseId;
import org.kie.server.controller.api.model.spec.*;
import org.kie.server.controller.client.KieServerControllerClient;
import org.kie.server.controller.client.KieServerControllerClientFactory;

public class RestTemplateContainerExample {

  private static final String URL = "http://localhost:8080/business-central/rest/controller";
  private static final String USER = "baAdmin";
  private static final String PASSWORD = "password@1";

    private static KieServerControllerClient client;

    public static void main(String[] args) {
        KieServerControllerClient client = KieServerControllerClientFactory.newRestClient(URL,
                                                                                          USER,
                                                                                          PASSWORD,
                                                                                          MarshallingFormat.JSON);
        // Create server template and KIE container, start and stop KIE container, and delete server template
        ServerTemplate serverTemplate = createServerTemplate();
        ContainerSpec container = createContainer(serverTemplate);
        client.startContainer(container);
        client.stopContainer(container);
        client.deleteServerTemplate(serverTemplate.getId());
    }

    // Re-create and configure server template
    protected static ServerTemplate createServerTemplate() {
        ServerTemplate serverTemplate = new ServerTemplate();
        serverTemplate.setId("example-client-id");
        serverTemplate.setName("example-client-name");
        serverTemplate.setCapabilities(Arrays.asList(Capability.PROCESS.name(),
                                                     Capability.RULE.name(),
                                                     Capability.PLANNING.name()));

        client.saveServerTemplate(serverTemplate);

        return serverTemplate;
    }

    // Re-create and configure KIE containers
    protected static ContainerSpec createContainer(ServerTemplate serverTemplate){
        Map&lt;Capability, ContainerConfig&gt; containerConfigMap = new HashMap();

        ProcessConfig processConfig = new ProcessConfig("PER_PROCESS_INSTANCE", "kieBase", "kieSession", "MERGE_COLLECTION");
        containerConfigMap.put(Capability.PROCESS, processConfig);

        RuleConfig ruleConfig = new RuleConfig(500l, KieScannerStatus.SCANNING);
        containerConfigMap.put(Capability.RULE, ruleConfig);

        ReleaseId releaseId = new ReleaseId("org.kie.server.testing", "stateless-session-kjar", "1.0.0-SNAPSHOT");

        ContainerSpec containerSpec = new ContainerSpec("example-container-id", "example-client-name", serverTemplate, releaseId, KieContainerStatus.STOPPED, containerConfigMap);
        client.saveContainerSpec(serverTemplate.getId(), containerSpec);

        return containerSpec;
    }
}</pre>
								</p></div></dd><dt><span class="term">Listing KIE Server templates and specifying connection timeout (REST)</span></dt><dd><p class="simpara">
								When you use REST protocol for Process Automation Manager controller Java client API requests, you can provide your own <code class="literal">javax.ws.rs.core.Configuration</code> specification to modify the underlying REST client API, such as connection timeout.
							</p><div class="formalpara"><p class="title"><strong>Example REST request to return server templates and specify connection timeout</strong></p><p>
									
<pre class="programlisting language-java">import java.util.concurrent.TimeUnit;
import javax.ws.rs.core.Configuration;
import org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder;

import org.kie.server.api.marshalling.MarshallingFormat;
import org.kie.server.controller.api.model.spec.ServerTemplateList;
import org.kie.server.controller.client.KieServerControllerClient;
import org.kie.server.controller.client.KieServerControllerClientFactory;

public class RESTTimeoutExample {

  private static final String URL = "http://localhost:8080/business-central/rest/controller";
  private static final String USER = "baAdmin";
  private static final String PASSWORD = "password@1";

  public static void main(String[] args) {

      // Specify connection timeout
      final Configuration configuration =
              new ResteasyClientBuilder()
                      .establishConnectionTimeout(10,
                                                    TimeUnit.SECONDS)
                      .socketTimeout(60,
                                       TimeUnit.SECONDS)
                        .getConfiguration();
        KieServerControllerClient client = KieServerControllerClientFactory.newRestClient(URL,
                                                                                          USER,
                                                                                          PASSWORD,
                                                                                          MarshallingFormat.JSON,
                                                                                          configuration);

        // Retrieve list of server templates
        final ServerTemplateList serverTemplateList = client.listServerTemplates();
        System.out.println(String.format("Found %s server template(s) at controller url: %s",
                                         serverTemplateList.getServerTemplates().length,
                                         URL));
    }
}</pre>
								</p></div></dd><dt><span class="term">Listing KIE Server templates and specifying event notifications (WebSocket)</span></dt><dd><p class="simpara">
								When you use WebSocket protocol for Process Automation Manager controller Java client API requests, you can enable event notifications based on changes that happen in the particular Process Automation Manager controller to which the client API is connected. For example, you can receive notifications when KIE Server templates or instances are connected to or updated in the Process Automation Manager controller.
							</p><div class="formalpara"><p class="title"><strong>Example WebSocket request to return server templates and specify event notifications</strong></p><p>
									
<pre class="programlisting language-java">import org.kie.server.api.marshalling.MarshallingFormat;
import org.kie.server.controller.api.model.events.*;
import org.kie.server.controller.api.model.spec.ServerTemplateList;
import org.kie.server.controller.client.KieServerControllerClient;
import org.kie.server.controller.client.KieServerControllerClientFactory;
import org.kie.server.controller.client.event.EventHandler;

public class WebSocketEventsExample {

    private static final String URL = "ws://localhost:8080/my-controller/websocket/controller";
    private static final String USER = "baAdmin";
    private static final String PASSWORD = "password@1";

    public static void main(String[] args) {
        KieServerControllerClient client = KieServerControllerClientFactory.newWebSocketClient(URL,
                                                                                               USER,
                                                                                               PASSWORD,
                                                                                               MarshallingFormat.JSON,
                                                                                               new TestEventHandler());

        // Retrieve list of server templates
        final ServerTemplateList serverTemplateList = client.listServerTemplates();
        System.out.println(String.format("Found %s server template(s) at controller url: %s",
                                         serverTemplateList.getServerTemplates().length,
                                         URL));
        try {
            Thread.sleep(60 * 1000);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    // Set up event notifications
    static class TestEventHandler implements EventHandler {

        @Override
        public void onServerInstanceConnected(ServerInstanceConnected serverInstanceConnected) {
            System.out.println("serverInstanceConnected = " + serverInstanceConnected);
        }

        @Override
        public void onServerInstanceDeleted(ServerInstanceDeleted serverInstanceDeleted) {
            System.out.println("serverInstanceDeleted = " + serverInstanceDeleted);
        }

        @Override
        public void onServerInstanceDisconnected(ServerInstanceDisconnected serverInstanceDisconnected) {
            System.out.println("serverInstanceDisconnected = " + serverInstanceDisconnected);
        }

        @Override
        public void onServerTemplateDeleted(ServerTemplateDeleted serverTemplateDeleted) {
            System.out.println("serverTemplateDeleted = " + serverTemplateDeleted);
        }

        @Override
        public void onServerTemplateUpdated(ServerTemplateUpdated serverTemplateUpdated) {
            System.out.println("serverTemplateUpdated = " + serverTemplateUpdated);
        }

        @Override
        public void onServerInstanceUpdated(ServerInstanceUpdated serverInstanceUpdated) {
            System.out.println("serverInstanceUpdated = " + serverInstanceUpdated);
        }

        @Override
        public void onContainerSpecUpdated(ContainerSpecUpdated containerSpecUpdated) {
            System.out.println("onContainerSpecUpdated = " + containerSpecUpdated);
        }
    }
}</pre>
								</p></div></dd></dl></div></section></section><section class="chapter" id="bpmn-fluent-api-con_kie-apis"><div class="titlepage"><div><div><h2 class="title">Chapter 27. BPMN process fluent API for Business Central processes</h2></div></div></div><p>
				Red Hat Process Automation Manager provides a BPMN process fluent API that enables you to create business processes using factories. You can also manually validate the business process that you created using process fluent API. The process fluent API is defined in the <code class="literal">org.kie.api.fluent</code> package.
			</p><p>
				Therefore, instead of using BPMN2 XML standard, you can use the process fluent API to create business processes in a few lines of code.
			</p><section class="section" id="example_requests_with_the_bpmn_process_fluent_api"><div class="titlepage"><div><div><h2 class="title">27.1. Example requests with the BPMN process fluent API</h2></div></div></div><p>
					The following example includes BPMN process fluent API requests for basic interactions with a business process. For more examples, download the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Source Distribution</strong></span> from the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Red Hat Customer Portal</a> and navigate to <code class="literal">~/rhpam-7.10.0-sources/src/droolsjbpm-knowledge-$VERSION/kie-api/src/main/java/org/kie/api/fluent</code>.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Creating and interacting with Business Central business processes</span></dt><dd><p class="simpara">
								The following example shows basic business process with a script task, an exception handler, and a variable:
							</p><div class="formalpara"><p class="title"><strong>Example request to create and interact with a Business Central business process</strong></p><p>
									
<pre class="programlisting language-java">Process process =
                // Create process builder
                factory.processBuilder(processId)
                       // package and name
                       .packageName("org.jbpm")
                       .name("My process")
                       // start node
                       .startNode(1).name("Start").done()
                       // Add variable of type string
                       .variable(var("pepe", String.class))
                       // Add exception handler
                       .exceptionHandler(IllegalArgumentException.class, Dialect.JAVA, "System.out.println(\"Exception\");")
                       // script node in Java language that prints "action"
                       .actionNode(2).name("Action")
                       .action(Dialect.JAVA,
                               "System.out.println(\"Action\");").done()
                       // end node
                       .endNode(3).name("End").done()
                       // connections
                       .connection(1,
                                   2)
                       .connection(2,
                                   3)
                       .build();</pre>
								</p></div><p class="simpara">
								In this example, a <code class="literal">ProcessBuilderFactory</code> reference is obtained and then, using <code class="literal">processBuilder(String processId)</code> method, a <code class="literal">ProcessBuilder</code> instance is created, which is associated with the given process Id. The <code class="literal">ProcessBuilder</code> instance enables you to build a definition of the created process using the fluent API.
							</p><p class="simpara">
								A business process consists of three components:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
										Header: The header section contains global elements such as the name of the process, imports, and variables.
									</p><p class="simpara">
										In the previous example, the header contains the name and version of the process and the package name.
									</p></li><li class="listitem"><p class="simpara">
										Nodes: The nodes section contains all the different nodes that are part of the process.
									</p><p class="simpara">
										In the previous example, nodes are added to the process by calling the <code class="literal">startNode()</code>, <code class="literal">actionNode()</code>, and <code class="literal">endNode()</code> methods. These methods return a specific <code class="literal">NodeBuilder</code> that allows you to set the properties of that node. After the code finishes configuring that specific node, the <code class="literal">done()</code> method returns the <code class="literal">NodeContainerBuilder</code> to add more nodes, if necessary.
									</p></li><li class="listitem"><p class="simpara">
										Connections: The connections section links the nodes to create a flow chart.
									</p><p class="simpara">
										In the previous example, once you add all the nodes, you must connect them by creating connections between them. You can call the <code class="literal">connection()</code> method, which links the nodes.
									</p></li></ul></div><p class="simpara">
								Finally, you can call the <code class="literal">build()</code> method and obtain the generated process definition. The <code class="literal">build()</code> method also validates the process definition and throws an exception if the process definition is not valid.
							</p></dd></dl></div></section><section class="section" id="example_requests_to_execute_a_business_process"><div class="titlepage"><div><div><h2 class="title">27.2. Example requests to execute a business process</h2></div></div></div><p>
					Once you create a valid process definition instance, you can execute it using a combination of public and internal KIE APIs. To execute a process, create a <code class="literal">Resource</code>, which is used to create a <code class="literal">KieBase</code>. Using the <code class="literal">KieBase</code>, you can create a <code class="literal">KieSession</code> to execute the process.
				</p><p>
					The following example uses <code class="literal">ProcessBuilderFactory.toBytes</code> process to create a <code class="literal">ByteArrayResource</code> resource.
				</p><div class="formalpara"><p class="title"><strong>Example request to execute a process</strong></p><p>
						
<pre class="programlisting language-java">// Build resource from Process
KieResources resources = ServiceRegistry.getInstance().get(KieResources.class);
Resource res = resources
                        .newByteArrayResource(factory.toBytes(process))
                        ​.setSourcePath("/tmp/processFactory.bpmn2"); // source path or target path must be set to be added into kbase
​// Build kie base from this resource using KIE API
​KieServices ks = KieServices.Factory.get();
​KieRepository kr = ks.getRepository();
​KieFileSystem kfs = ks.newKieFileSystem();
​kfs.write(res);
​KieBuilder kb = ks.newKieBuilder(kfs);
​kb.buildAll(); // kieModule is automatically deployed to KieRepository if successfully built.
​KieContainer kContainer = ks.newKieContainer(kr.getDefaultReleaseId());
​KieBase kbase = kContainer.getKieBase();
​// Create kie session using KieBase
​KieSessionConfiguration conf = ...;
​Environment env = ....;
​KieSession ksession = kbase.newKieSession(conf,env);
​// execute process using same process Id that is used to obtain ProcessBuilder instance
​ksession.startProcess(processId)</pre>
					</p></div></section></section><section class="chapter" id="knowledge-store-rest-api-con_kie-apis"><div class="titlepage"><div><div><h2 class="title">Chapter 28. Knowledge Store REST API for Business Central spaces and projects</h2></div></div></div><p>
				Red Hat Process Automation Manager provides a Knowledge Store REST API that you can use to interact with your projects and spaces in Red Hat Process Automation Manager without using the Business Central user interface. The Knowledge Store is the artifact repository for assets in Red Hat Process Automation Manager. This API support enables you to facilitate and automate maintenance of Business Central projects and spaces.
			</p><p>
				With the Knowledge Store REST API, you can perform the following actions:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Retrieve information about all projects and spaces
					</li><li class="listitem">
						Create, update, or delete projects and spaces
					</li><li class="listitem">
						Build, deploy, and test projects
					</li><li class="listitem">
						Retrieve information about previous Knowledge Store REST API requests, or <span class="emphasis"><em>jobs</em></span>
					</li></ul></div><p>
				Knowledge Store REST API requests require the following components:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Authentication</span></dt><dd><p class="simpara">
							The Knowledge Store REST API requires HTTP Basic authentication or token-based authentication for the user role <code class="literal">rest-all</code>. To view configured user roles for your Red Hat Process Automation Manager distribution, navigate to <code class="literal">~/$SERVER_HOME/standalone/configuration/application-roles.properties</code> and <code class="literal">~/application-users.properties</code>.
						</p><p class="simpara">
							To add a user with the <code class="literal">rest-all</code> role, navigate to <code class="literal">~/$SERVER_HOME/bin</code> and run the following command:
						</p><pre class="programlisting language-bash">$ ./add-user.sh -a --user &lt;USERNAME&gt; --password &lt;PASSWORD&gt; --role rest-all</pre><p class="simpara">
							For more information about user roles and Red Hat Process Automation Manager installation options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
						</p></dd><dt><span class="term">HTTP headers</span></dt><dd><p class="simpara">
							The Knowledge Store REST API requires the following HTTP headers for API requests:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									<code class="literal">Accept</code>: Data format accepted by your requesting client:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">application/json</code> (JSON)
										</li></ul></div></li><li class="listitem"><p class="simpara">
									<code class="literal">Content-Type</code>: Data format of your <code class="literal">POST</code> or <code class="literal">PUT</code> API request data:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">application/json</code> (JSON)
										</li></ul></div></li></ul></div></dd><dt><span class="term">HTTP methods</span></dt><dd><p class="simpara">
							The Knowledge Store REST API supports the following HTTP methods for API requests:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">GET</code>: Retrieves specified information from a specified resource endpoint
								</li><li class="listitem">
									<code class="literal">POST</code>: Creates or updates a resource
								</li><li class="listitem">
									<code class="literal">PUT</code>: Updates a resource
								</li><li class="listitem">
									<code class="literal">DELETE</code>: Deletes a resource
								</li></ul></div></dd><dt><span class="term">Base URL</span></dt><dd><p class="simpara">
							The base URL for Knowledge Store REST API requests is <code class="literal">http://SERVER:PORT/business-central/rest/</code>, such as <code class="literal">http://localhost:8080/business-central/rest/</code>.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The REST API base URL for the Knowledge Store and for the Process Automation Manager controller built in to Business Central are the same because both are considered part of Business Central REST services.
							</p></div></div></dd><dt><span class="term">Endpoints</span></dt><dd><p class="simpara">
							Knowledge Store REST API endpoints, such as <code class="literal">/spaces/{spaceName}</code> for a specified space, are the URIs that you append to the Knowledge Store REST API base URL to access the corresponding resource or type of resource in Red Hat Process Automation Manager.
						</p><div class="formalpara"><p class="title"><strong>Example request URL for <code class="literal">/spaces/{spaceName}</code> endpoint</strong></p><p>
								<code class="literal">http://localhost:8080/business-central/rest/spaces/MySpace</code>
							</p></div></dd><dt><span class="term">Request data</span></dt><dd><p class="simpara">
							HTTP <code class="literal">POST</code> requests in the Knowledge Store REST API may require a JSON request body with data to accompany the request.
						</p><div class="formalpara"><p class="title"><strong>Example POST request URL and JSON request body data</strong></p><p>
								<code class="literal">http://localhost:8080/business-central/rest/spaces/MySpace/projects</code>
							</p></div><pre class="programlisting language-json">{
  "name": "Employee_Rostering",
  "groupId": "employeerostering",
  "version": "1.0.0-SNAPSHOT",
  "description": "Employee rostering problem optimisation using Planner. Assigns employees to shifts based on their skill."
}</pre></dd></dl></div><section class="section" id="knowledge-store-rest-api-requests-proc_kie-apis"><div class="titlepage"><div><div><h2 class="title">28.1. Sending requests with the Knowledge Store REST API using a REST client or curl utility</h2></div></div></div><p>
					The Knowledge Store REST API enables you to interact with your projects and spaces in Red Hat Process Automation Manager without using the Business Central user interface. You can send Knowledge Store REST API requests using any REST client or curl utility.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Business Central is installed and running.
						</li><li class="listitem">
							You have <code class="literal">rest-all</code> user role access to Business Central.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Identify the relevant <a class="link" href="#knowledge-store-rest-api-endpoints-ref_kie-apis" title="28.2. Supported Knowledge Store REST API endpoints">API endpoint</a> to which you want to send a request, such as <code class="literal">[GET] /spaces</code> to retrieve spaces in Business Central.
						</li><li class="listitem"><p class="simpara">
							In a REST client or curl utility, enter the following components for a <code class="literal">GET</code> request to <code class="literal">/spaces</code>. Adjust any request details according to your use case.
						</p><p class="simpara">
							For REST client:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Authentication</strong></span>: Enter the user name and password of the Business Central user with the <code class="literal">rest-all</code> role.
								</li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>HTTP Headers</strong></span>: Set the following header:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">Accept</code>: <code class="literal">application/json</code>
										</li></ul></div></li><li class="listitem">
									<span class="strong strong"><strong>HTTP method</strong></span>: Set to <code class="literal">GET</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>URL</strong></span>: Enter the Knowledge Store REST API base URL and endpoint, such as <code class="literal">http://localhost:8080/business-central/rest/spaces</code>.
								</li></ul></div><p class="simpara">
							For curl utility:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">-u</code>: Enter the user name and password of the Business Central user with the <code class="literal">rest-all</code> role.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">-H</code>: Set the following header:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">Accept</code>: <code class="literal">application/json</code>
										</li></ul></div></li><li class="listitem">
									<code class="literal">-X</code>: Set to <code class="literal">GET</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>URL</strong></span>: Enter the Knowledge Store REST API base URL and endpoint, such as <code class="literal">http://localhost:8080/business-central/rest/spaces</code>.
								</li></ul></div><pre class="screen">curl -u 'baAdmin:password@1' -H "Accept: application/json" -X GET "http://localhost:8080/business-central/rest/spaces"</pre></li><li class="listitem"><p class="simpara">
							Execute the request and review the KIE Server response.
						</p><p class="simpara">
							Example server response (JSON):
						</p><pre class="programlisting language-json">[
  {
    "name": "MySpace",
    "description": null,
    "projects": [
      {
        "name": "Employee_Rostering",
        "spaceName": "MySpace",
        "groupId": "employeerostering",
        "version": "1.0.0-SNAPSHOT",
        "description": "Employee rostering problem optimisation using Planner. Assigns employees to shifts based on their skill.",
        "publicURIs": [
          {
            "protocol": "git",
            "uri": "git://localhost:9418/MySpace/example-Employee_Rostering"
          },
          {
            "protocol": "ssh",
            "uri": "ssh://localhost:8001/MySpace/example-Employee_Rostering"
          }
        ]
      },
      {
        "name": "Mortgage_Process",
        "spaceName": "MySpace",
        "groupId": "mortgage-process",
        "version": "1.0.0-SNAPSHOT",
        "description": "Getting started loan approval process in BPMN2, decision table, business rules, and forms.",
        "publicURIs": [
          {
            "protocol": "git",
            "uri": "git://localhost:9418/MySpace/example-Mortgage_Process"
          },
          {
            "protocol": "ssh",
            "uri": "ssh://localhost:8001/MySpace/example-Mortgage_Process"
          }
        ]
      }
    ],
    "owner": "admin",
    "defaultGroupId": "com.myspace"
  },
  {
    "name": "MySpace2",
    "description": null,
    "projects": [
      {
        "name": "IT_Orders",
        "spaceName": "MySpace",
        "groupId": "itorders",
        "version": "1.0.0-SNAPSHOT",
        "description": "Case Management IT Orders project",
        "publicURIs": [
          {
            "protocol": "git",
            "uri": "git://localhost:9418/MySpace/example-IT_Orders-1"
          },
          {
            "protocol": "ssh",
            "uri": "ssh://localhost:8001/MySpace/example-IT_Orders-1"
          }
        ]
      }
    ],
    "owner": "admin",
    "defaultGroupId": "com.myspace"
  }
]</pre></li><li class="listitem"><p class="simpara">
							In your REST client or curl utility, send another API request with the following components for a <code class="literal">POST</code> request to <code class="literal">/spaces/{spaceName}/projects</code> to create a project within a space. Adjust any request details according to your use case.
						</p><p class="simpara">
							For REST client:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Authentication</strong></span>: Enter the user name and password of the Business Central user with the <code class="literal">rest-all</code> role.
								</li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>HTTP Headers</strong></span>: Set the following header:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">Accept</code>: <code class="literal">application/json</code>
										</li><li class="listitem">
											<code class="literal">Content-Type</code>: <code class="literal">application/json</code>
										</li></ul></div></li><li class="listitem">
									<span class="strong strong"><strong>HTTP method</strong></span>: Set to <code class="literal">POST</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>URL</strong></span>: Enter the Knowledge Store REST API base URL and endpoint, such as <code class="literal">http://localhost:8080/business-central/rest/spaces/MySpace/projects</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>Request body</strong></span>: Add a JSON request body with the identification data for the new project:
								</li></ul></div><pre class="programlisting language-json">{
  "name": "Employee_Rostering",
  "groupId": "employeerostering",
  "version": "1.0.0-SNAPSHOT",
  "description": "Employee rostering problem optimisation using Planner. Assigns employees to shifts based on their skill."
}</pre><p class="simpara">
							For curl utility:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">-u</code>: Enter the user name and password of the Business Central user with the <code class="literal">rest-all</code> role.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">-H</code>: Set the following headers:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">Accept</code>: <code class="literal">application/json</code>
										</li><li class="listitem">
											<code class="literal">Content-Type</code>: <code class="literal">application/json</code>
										</li></ul></div></li><li class="listitem">
									<code class="literal">-X</code>: Set to <code class="literal">POST</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>URL</strong></span>: Enter the Knowledge Store REST API base URL and endpoint, such as <code class="literal">http://localhost:8080/business-central/rest/spaces/MySpace/projects</code>.
								</li><li class="listitem">
									<code class="literal">-d</code>: Add a JSON request body or file (<code class="literal">@file.json</code>) with the identification data for the new project:
								</li></ul></div><pre class="screen">curl -u 'baAdmin:password@1' -H "Accept: application/json" -H "Content-Type: application/json" -X POST "http://localhost:8080/business-central/rest/spaces/MySpace/projects" -d "{ \"name\": \"Employee_Rostering\", \"groupId\": \"employeerostering\", \"version\": \"1.0.0-SNAPSHOT\", \"description\": \"Employee rostering problem optimisation using Planner. Assigns employees to shifts based on their skill.\"}"</pre><pre class="screen">curl -u 'baAdmin:password@1' -H "Accept: application/json" -H "Content-Type: application/json" -X POST "http://localhost:8080/business-central/rest/spaces/MySpace/projects" -d @my-project.json</pre></li><li class="listitem"><p class="simpara">
							Execute the request and review the KIE Server response.
						</p><p class="simpara">
							Example server response (JSON):
						</p><pre class="programlisting language-json">{
  "jobId": "1541017411591-6",
  "status": "APPROVED",
  "spaceName": "MySpace",
  "projectName": "Employee_Rostering",
  "projectGroupId": "employeerostering",
  "projectVersion": "1.0.0-SNAPSHOT",
  "description": "Employee rostering problem optimisation using Planner. Assigns employees to shifts based on their skill."
}</pre><p class="simpara">
							If you encounter request errors, review the returned error code messages and adjust your request accordingly.
						</p></li></ol></div></section><section class="section" id="knowledge-store-rest-api-endpoints-ref_kie-apis"><div class="titlepage"><div><div><h2 class="title">28.2. Supported Knowledge Store REST API endpoints</h2></div></div></div><p>
					The Knowledge Store REST API provides endpoints for managing spaces and projects in Red Hat Process Automation Manager and for retrieving information about previous Knowledge Store REST API requests, or <span class="emphasis"><em>jobs</em></span>.
				</p><section class="section" id="knowledge-store-rest-api-spaces-ref_kie-apis"><div class="titlepage"><div><div><h3 class="title">28.2.1. Spaces</h3></div></div></div><p>
						The Knowledge Store REST API supports the following endpoints for managing spaces in Business Central. The Knowledge Store REST API base URL is <code class="literal">http://SERVER:PORT/business-central/rest/</code>. All requests require HTTP Basic authentication or token-based authentication for the <code class="literal">rest-all</code> user role.
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">[GET] /spaces</span></dt><dd><p class="simpara">
									Returns all spaces in Business Central.
								</p><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">[
  {
    "name": "MySpace",
    "description": null,
    "projects": [
      {
        "name": "Employee_Rostering",
        "spaceName": "MySpace",
        "groupId": "employeerostering",
        "version": "1.0.0-SNAPSHOT",
        "description": "Employee rostering problem optimisation using Planner. Assigns employees to shifts based on their skill.",
        "publicURIs": [
          {
            "protocol": "git",
            "uri": "git://localhost:9418/MySpace/example-Employee_Rostering"
          },
          {
            "protocol": "ssh",
            "uri": "ssh://localhost:8001/MySpace/example-Employee_Rostering"
          }
        ]
      },
      {
        "name": "Mortgage_Process",
        "spaceName": "MySpace",
        "groupId": "mortgage-process",
        "version": "1.0.0-SNAPSHOT",
        "description": "Getting started loan approval process in BPMN2, decision table, business rules, and forms.",
        "publicURIs": [
          {
            "protocol": "git",
            "uri": "git://localhost:9418/MySpace/example-Mortgage_Process"
          },
          {
            "protocol": "ssh",
            "uri": "ssh://localhost:8001/MySpace/example-Mortgage_Process"
          }
        ]
      }
    ],
    "owner": "admin",
    "defaultGroupId": "com.myspace"
  },
  {
    "name": "MySpace2",
    "description": null,
    "projects": [
      {
        "name": "IT_Orders",
        "spaceName": "MySpace",
        "groupId": "itorders",
        "version": "1.0.0-SNAPSHOT",
        "description": "Case Management IT Orders project",
        "publicURIs": [
          {
            "protocol": "git",
            "uri": "git://localhost:9418/MySpace/example-IT_Orders-1"
          },
          {
            "protocol": "ssh",
            "uri": "ssh://localhost:8001/MySpace/example-IT_Orders-1"
          }
        ]
      }
    ],
    "owner": "admin",
    "defaultGroupId": "com.myspace"
  }
]</pre>
									</p></div></dd><dt><span class="term">[GET] /spaces/{spaceName}</span></dt><dd><p class="simpara">
									Returns information about a specified space.
								</p><div class="table" id="idm140279507132336"><p class="title"><strong>Table 28.1. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279507125648" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279507124560" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279507123472" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279507122384" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507125648">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507124560">
												<p>
													Name of the space to be retrieved
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507123472">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507122384">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "name": "MySpace",
  "description": null,
  "projects": [
    {
      "name": "Mortgage_Process",
      "spaceName": "MySpace",
      "groupId": "mortgage-process",
      "version": "1.0.0-SNAPSHOT",
      "description": "Getting started loan approval process in BPMN2, decision table, business rules, and forms.",
      "publicURIs": [
        {
          "protocol": "git",
          "uri": "git://localhost:9418/MySpace/example-Mortgage_Process"
        },
        {
          "protocol": "ssh",
          "uri": "ssh://localhost:8001/MySpace/example-Mortgage_Process"
        }
      ]
    },
    {
      "name": "Employee_Rostering",
      "spaceName": "MySpace",
      "groupId": "employeerostering",
      "version": "1.0.0-SNAPSHOT",
      "description": "Employee rostering problem optimisation using Planner. Assigns employees to shifts based on their skill.",
      "publicURIs": [
        {
          "protocol": "git",
          "uri": "git://localhost:9418/MySpace/example-Employee_Rostering"
        },
        {
          "protocol": "ssh",
          "uri": "ssh://localhost:8001/MySpace/example-Employee_Rostering"
        }
      ]
    },
    {
      "name": "Evaluation_Process",
      "spaceName": "MySpace",
      "groupId": "evaluation",
      "version": "1.0.0-SNAPSHOT",
      "description": "Getting started Business Process for evaluating employees",
      "publicURIs": [
        {
          "protocol": "git",
          "uri": "git://localhost:9418/MySpace/example-Evaluation_Process"
        },
        {
          "protocol": "ssh",
          "uri": "ssh://localhost:8001/MySpace/example-Evaluation_Process"
        }
      ]
    },
    {
      "name": "IT_Orders",
      "spaceName": "MySpace",
      "groupId": "itorders",
      "version": "1.0.0-SNAPSHOT",
      "description": "Case Management IT Orders project",
      "publicURIs": [
        {
          "protocol": "git",
          "uri": "git://localhost:9418/MySpace/example-IT_Orders"
        },
        {
          "protocol": "ssh",
          "uri": "ssh://localhost:8001/MySpace/example-IT_Orders"
        }
      ]
    }
  ],
  "owner": "admin",
  "defaultGroupId": "com.myspace"
}</pre>
									</p></div></dd><dt><span class="term">[POST] /spaces</span></dt><dd><p class="simpara">
									Creates a space in Business Central.
								</p><div class="table" id="idm140279508141088"><p class="title"><strong>Table 28.2. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279508134400" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279508133312" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279508132224" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279508131136" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508134400">
												<p>
													<span class="strong strong"><strong>body</strong></span>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508133312">
												<p>
													The <code class="literal">name</code>, <code class="literal">description</code>, <code class="literal">owner</code>, <code class="literal">defaultGroupId</code>, and any other components of the new space
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508132224">
												<p>
													Request body
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508131136">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "name": "NewSpace",
  "description": "My new space.",
  "owner": "admin",
  "defaultGroupId": "com.newspace"
}</pre>
									</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "jobId": "1541016978154-3",
  "status": "APPROVED",
  "spaceName": "NewSpace",
  "owner": "admin",
  "defaultGroupId": "com.newspace",
  "description": "My new space."
}</pre>
									</p></div></dd><dt><span class="term">[PUT] /spaces</span></dt><dd><p class="simpara">
									Updates <code class="literal">description</code>, <code class="literal">owner</code>, and <code class="literal">defaultGroupId</code> of a space in Business Central.
								</p><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "name": "MySpace",
  "description": "This is updated description",
  "owner": "admin",
  "defaultGroupId": "com.updatedGroupId"
}</pre>
									</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "jobId": "1592214574454-1",
  "status": "APPROVED",
  "spaceName": "MySpace",
  "owner": "admin",
  "defaultGroupId": "com.updatedGroupId",
  "description": "This is updated description"
}</pre>
									</p></div></dd><dt><span class="term">[DELETE] /spaces/{spaceName}</span></dt><dd><p class="simpara">
									Deletes a specified space from Business Central.
								</p><div class="table" id="idm140279510966880"><p class="title"><strong>Table 28.3. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279510960192" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279510959104" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279510958016" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279510956928" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510960192">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510959104">
												<p>
													Name of the space to be deleted
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510958016">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510956928">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "jobId": "1541127032997-8",
  "status": "APPROVED",
  "spaceName": "MySpace",
  "owner": "admin",
  "description": "My deleted space.",
  "repositories": null
}</pre>
									</p></div></dd></dl></div></section><section class="section" id="knowledge-store-rest-api-projects-ref_kie-apis"><div class="titlepage"><div><div><h3 class="title">28.2.2. Projects</h3></div></div></div><p>
						The Knowledge Store REST API supports the following endpoints for managing, building, and deploying projects in Business Central. The Knowledge Store REST API base URL is <code class="literal">http://SERVER:PORT/business-central/rest/</code>. All requests require HTTP Basic authentication or token-based authentication for the <code class="literal">rest-all</code> user role.
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">[GET] /spaces/{spaceName}/projects</span></dt><dd><p class="simpara">
									Returns projects in a specified space.
								</p><div class="table" id="idm140279510939008"><p class="title"><strong>Table 28.4. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279508819856" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279508818768" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279508817680" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279508816592" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508819856">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508818768">
												<p>
													Name of the space for which you are retrieving projects
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508817680">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508816592">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">[
  {
    "name": "Mortgage_Process",
    "spaceName": "MySpace",
    "groupId": "mortgage-process",
    "version": "1.0.0-SNAPSHOT",
    "description": "Getting started loan approval process in BPMN2, decision table, business rules, and forms.",
    "publicURIs": [
      {
        "protocol": "git",
        "uri": "git://localhost:9418/MySpace/example-Mortgage_Process"
      },
      {
        "protocol": "ssh",
        "uri": "ssh://localhost:8001/MySpace/example-Mortgage_Process"
      }
    ]
  },
  {
    "name": "Employee_Rostering",
    "spaceName": "MySpace",
    "groupId": "employeerostering",
    "version": "1.0.0-SNAPSHOT",
    "description": "Employee rostering problem optimisation using Planner. Assigns employees to shifts based on their skill.",
    "publicURIs": [
      {
        "protocol": "git",
        "uri": "git://localhost:9418/MySpace/example-Employee_Rostering"
      },
      {
        "protocol": "ssh",
        "uri": "ssh://localhost:8001/MySpace/example-Employee_Rostering"
      }
    ]
  },
  {
    "name": "Evaluation_Process",
    "spaceName": "MySpace",
    "groupId": "evaluation",
    "version": "1.0.0-SNAPSHOT",
    "description": "Getting started Business Process for evaluating employees",
    "publicURIs": [
      {
        "protocol": "git",
        "uri": "git://localhost:9418/MySpace/example-Evaluation_Process"
      },
      {
        "protocol": "ssh",
        "uri": "ssh://localhost:8001/MySpace/example-Evaluation_Process"
      }
    ]
  },
  {
    "name": "IT_Orders",
    "spaceName": "MySpace",
    "groupId": "itorders",
    "version": "1.0.0-SNAPSHOT",
    "description": "Case Management IT Orders project",
    "publicURIs": [
      {
        "protocol": "git",
        "uri": "git://localhost:9418/MySpace/example-IT_Orders"
      },
      {
        "protocol": "ssh",
        "uri": "ssh://localhost:8001/MySpace/example-IT_Orders"
      }
    ]
  }
]</pre>
									</p></div></dd><dt><span class="term">[GET] /spaces/{spaceName}/projects/{projectName}</span></dt><dd><p class="simpara">
									Returns information about a specified project in a specified space.
								</p><div class="table" id="idm140279508800592"><p class="title"><strong>Table 28.5. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279508793904" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279508792816" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279508791728" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279508790640" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508793904">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508792816">
												<p>
													Name of the space where the project is located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508791728">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508790640">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508793904">
												<p>
													<code class="literal">projectName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508792816">
												<p>
													Name of the project to be retrieved
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508791728">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508790640">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "name": "Employee_Rostering",
  "spaceName": "MySpace",
  "groupId": "employeerostering",
  "version": "1.0.0-SNAPSHOT",
  "description": "Employee rostering problem optimisation using Planner. Assigns employees to shifts based on their skill.",
  "publicURIs": [
    {
      "protocol": "git",
      "uri": "git://localhost:9418/MySpace/example-Employee_Rostering"
    },
    {
      "protocol": "ssh",
      "uri": "ssh://localhost:8001/MySpace/example-Employee_Rostering"
    }
  ]
}</pre>
									</p></div></dd><dt><span class="term">[POST] /spaces/{spaceName}/projects</span></dt><dd><p class="simpara">
									Creates a project in a specified space.
								</p><div class="table" id="idm140279508394432"><p class="title"><strong>Table 28.6. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279508387744" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279508386656" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279508385568" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279508384480" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508387744">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508386656">
												<p>
													Name of the space in which the new project will be created
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508385568">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508384480">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508387744">
												<p>
													<span class="strong strong"><strong>body</strong></span>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508386656">
												<p>
													The <code class="literal">name</code>, <code class="literal">groupId</code>, <code class="literal">version</code>, <code class="literal">description</code>, and any other components of the new project
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508385568">
												<p>
													Request body
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508384480">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "name": "Employee_Rostering",
  "groupId": "employeerostering",
  "version": "1.0.0-SNAPSHOT",
  "description": "Employee rostering problem optimisation using Planner. Assigns employees to shifts based on their skill."
}</pre>
									</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "jobId": "1541017411591-6",
  "status": "APPROVED",
  "spaceName": "MySpace",
  "projectName": "Employee_Rostering",
  "projectGroupId": "employeerostering",
  "projectVersion": "1.0.0-SNAPSHOT",
  "description": "Employee rostering problem optimisation using Planner. Assigns employees to shifts based on their skill."
}</pre>
									</p></div></dd><dt><span class="term">[DELETE] /spaces/{spaceName}/projects/{projectName}</span></dt><dd><p class="simpara">
									Deletes a specified project from a specified space.
								</p><div class="table" id="idm140279509585904"><p class="title"><strong>Table 28.7. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279509579216" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279509578128" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279509577040" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279509575952" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279509579216">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509578128">
												<p>
													Name of the space where the project is located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509577040">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509575952">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279509579216">
												<p>
													<code class="literal">projectName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509578128">
												<p>
													Name of the project to be deleted
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509577040">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509575952">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "jobId": "1541128617727-10",
  "status": "APPROVED",
  "projectName": "Employee_Rostering",
  "spaceName": "MySpace"
}</pre>
									</p></div></dd><dt><span class="term">[POST] /spaces/{spaceName}/git/clone</span></dt><dd><p class="simpara">
									Clones a project into a specified space from a specified Git address.
								</p><div class="table" id="idm140279509554432"><p class="title"><strong>Table 28.8. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279508612192" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279508611104" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279508610016" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279508608928" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508612192">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508611104">
												<p>
													Name of the space to which you are cloning a project
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508610016">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508608928">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508612192">
												<p>
													<span class="strong strong"><strong>body</strong></span>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508611104">
												<p>
													The <code class="literal">name</code>, <code class="literal">description</code>, and Git repository <code class="literal">userName</code>, <code class="literal">password</code>, and <code class="literal">gitURL</code> for the project to be cloned
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508610016">
												<p>
													Request body
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508608928">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "name": "Employee_Rostering",
  "description": "Employee rostering problem optimisation using Planner. Assigns employees to shifts based on their skill.",
  "userName": "baAdmin",
  "password": "password@1",
  "gitURL": "git://localhost:9418/MySpace/example-Employee_Rostering"
}</pre>
									</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "jobId": "1541129488547-13",
  "status": "APPROVED",
  "cloneProjectRequest": {
    "name": "Employee_Rostering",
    "description": "Employee rostering problem optimisation using Planner. Assigns employees to shifts based on their skill.",
    "userName": "baAdmin",
    "password": "password@1",
    "gitURL": "git://localhost:9418/MySpace/example-Employee_Rostering"
  },
  "spaceName": "MySpace2"
}</pre>
									</p></div></dd><dt><span class="term">[POST] /spaces/{spaceName}/projects/{projectName}/maven/compile</span></dt><dd><p class="simpara">
									Compiles a specified project in a specified space (equivalent to <code class="literal">mvn compile</code>).
								</p><div class="table" id="idm140279508581232"><p class="title"><strong>Table 28.9. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279508574544" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279508573456" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279508572368" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279508571280" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508574544">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508573456">
												<p>
													Name of the space where the project is located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508572368">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508571280">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508574544">
												<p>
													<code class="literal">projectName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508573456">
												<p>
													Name of the project to be compiled
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508572368">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508571280">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "jobId": "1541128617727-10",
  "status": "APPROVED",
  "projectName": "Employee_Rostering",
  "spaceName": "MySpace"
}</pre>
									</p></div></dd><dt><span class="term">[POST] /spaces/{spaceName}/projects/{projectName}/maven/test</span></dt><dd><p class="simpara">
									Tests a specified project in a specified space (equivalent to <code class="literal">mvn test</code>).
								</p><div class="table" id="idm140279506675728"><p class="title"><strong>Table 28.10. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279506669040" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279506667952" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279506666864" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279506665776" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279506669040">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506667952">
												<p>
													Name of the space where the project is located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506666864">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506665776">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279506669040">
												<p>
													<code class="literal">projectName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506667952">
												<p>
													Name of the project to be tested
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506666864">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506665776">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "jobId": "1541132591595-19",
  "status": "APPROVED",
  "projectName": "Employee_Rostering",
  "spaceName": "MySpace"
}</pre>
									</p></div></dd><dt><span class="term">[POST] /spaces/{spaceName}/projects/{projectName}/maven/install</span></dt><dd><p class="simpara">
									Installs a specified project in a specified space (equivalent to <code class="literal">mvn install</code>).
								</p><div class="table" id="idm140279510498480"><p class="title"><strong>Table 28.11. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279510491792" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279510490704" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279510489616" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279510488528" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510491792">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510490704">
												<p>
													Name of the space where the project is located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510489616">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510488528">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510491792">
												<p>
													<code class="literal">projectName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510490704">
												<p>
													Name of the project to be installed
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510489616">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510488528">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "jobId": "1541132668987-20",
  "status": "APPROVED",
  "projectName": "Employee_Rostering",
  "spaceName": "MySpace"
}</pre>
									</p></div></dd><dt><span class="term">[POST] /spaces/{spaceName}/projects/{projectName}/maven/deploy</span></dt><dd><p class="simpara">
									Deploys a specified project in a specified space (equivalent to <code class="literal">mvn deploy</code>).
								</p><div class="table" id="idm140279510466512"><p class="title"><strong>Table 28.12. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279510459824" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279510458736" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279510457648" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279510456560" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510459824">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510458736">
												<p>
													Name of the space where the project is located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510457648">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510456560">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510459824">
												<p>
													<code class="literal">projectName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510458736">
												<p>
													Name of the project to be deployed
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510457648">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510456560">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "jobId": "1541132816435-21",
  "status": "APPROVED",
  "projectName": "Employee_Rostering",
  "spaceName": "MySpace"
}</pre>
									</p></div></dd></dl></div></section><section class="section" id="knowledge-store-rest-api-jobs-ref_kie-apis"><div class="titlepage"><div><div><h3 class="title">28.2.3. Jobs (API requests)</h3></div></div></div><p>
						All <code class="literal">POST</code> and <code class="literal">DELETE</code> requests in the Knowledge Store REST API return a job ID associated with each request, in addition to the returned request details. You can use a job ID to view the request status or delete a sent request.
					</p><p>
						Knowledge Store REST API requests, or <span class="emphasis"><em>jobs</em></span>, can have the following statuses:
					</p><div class="table" id="idm140279510418240"><p class="title"><strong>Table 28.13. Job statuses (API request statuses)</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"/><col style="width: 75%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm140279510413392" scope="col">Status</th><th align="left" valign="top" id="idm140279510412304" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140279510413392">
									<p>
										<code class="literal">ACCEPTED</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279510412304">
									<p>
										The request was accepted and is being processed.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279510413392">
									<p>
										<code class="literal">BAD_REQUEST</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279510412304">
									<p>
										The request contained incorrect content and was not accepted.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279510413392">
									<p>
										<code class="literal">RESOURCE_NOT_EXIST</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279510412304">
									<p>
										The requested resource (path) does not exist.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279510413392">
									<p>
										<code class="literal">DUPLICATE_RESOURCE</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279510412304">
									<p>
										The resource already exists.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279510413392">
									<p>
										<code class="literal">SERVER_ERROR</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279510412304">
									<p>
										An error occurred in KIE Server.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279510413392">
									<p>
										<code class="literal">SUCCESS</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279510412304">
									<p>
										The request finished successfully.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279510413392">
									<p>
										<code class="literal">FAIL</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279510412304">
									<p>
										The request failed.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279510413392">
									<p>
										<code class="literal">APPROVED</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279510412304">
									<p>
										The request was approved.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279510413392">
									<p>
										<code class="literal">DENIED</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279510412304">
									<p>
										The request was denied.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm140279510413392">
									<p>
										<code class="literal">GONE</code>
									</p>
									</td><td align="left" valign="top" headers="idm140279510412304">
									<p>
										The job ID for the request could not be found due to one of the following reasons:
									</p>
									<div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												The request was explicitly removed.
											</li><li class="listitem">
												The request finished and has been deleted from a status cache. A request is removed from a status cache after the cache has reached its maximum capacity.
											</li><li class="listitem">
												The request never existed.
											</li></ul></div>
									</td></tr></tbody></table></div></div><p>
						The Knowledge Store REST API supports the following endpoints for retrieving or deleting sent API requests. The Knowledge Store REST API base URL is <code class="literal">http://SERVER:PORT/business-central/rest/</code>. All requests require HTTP Basic authentication or token-based authentication for the <code class="literal">rest-all</code> user role.
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">[GET] /jobs/{jobId}</span></dt><dd><p class="simpara">
									Returns the status of a specified job (a previously sent API request).
								</p><div class="table" id="idm140279508664368"><p class="title"><strong>Table 28.14. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279508657680" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279508656592" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279508655504" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279508654416" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508657680">
												<p>
													<code class="literal">jobId</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508656592">
												<p>
													ID of the job to be retrieved (example: <code class="literal">1541010216919-1</code>)
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508655504">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508654416">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "status": "SUCCESS",
  "jobId": "1541010216919-1",
  "result": null,
  "lastModified": 1541010218352,
  "detailedResult": [
    "level:INFO, path:null, text:Build of module 'Mortgage_Process' (requested by system) completed.\n Build: SUCCESSFUL"
  ]
}</pre>
									</p></div></dd><dt><span class="term">[DELETE] /jobs/{jobId}</span></dt><dd><p class="simpara">
									Deletes a specified job (a previously sent API request). If the job is not being processed yet, this request removes the job from the job queue. This request does not cancel or stop an ongoing job.
								</p><div class="table" id="idm140279511339088"><p class="title"><strong>Table 28.15. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279511332400" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279511331312" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279511330224" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279511329136" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279511332400">
												<p>
													<code class="literal">jobId</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279511331312">
												<p>
													ID of the job to be deleted (example: <code class="literal">1541010216919-1</code>)
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279511330224">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279511329136">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "status": "GONE",
  "jobId": "1541010216919-1",
  "result": null,
  "lastModified": 1541132054916,
  "detailedResult": [
    "level:INFO, path:null, text:Build of module 'Mortgage_Process' (requested by system) completed.\n Build: SUCCESSFUL"
  ]
}</pre>
									</p></div></dd></dl></div></section><section class="section" id="knowledge-store-rest-api-branches-ref_kie-apis"><div class="titlepage"><div><div><h3 class="title">28.2.4. Branches</h3></div></div></div><p>
						The Knowledge Store REST API supports the following endpoints for managing branches in Business Central. The Knowledge Store REST API base URL is <code class="literal">http://SERVER:PORT/business-central/rest/</code>. All requests require HTTP Basic authentication or token-based authentication for the <code class="literal">rest-all</code> user role.
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">[GET] /spaces/{spaceName}/projects/{projectName}/branches</span></dt><dd><p class="simpara">
									Returns all branches in a specified project and space.
								</p><div class="table" id="idm140279511310784"><p class="title"><strong>Table 28.16. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279511304096" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279511303008" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279511301920" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279511300832" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279511304096">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279511303008">
												<p>
													Name of the space for which you are retrieving projects
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279511301920">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279511300832">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279511304096">
												<p>
													<code class="literal">projectName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279511303008">
												<p>
													Name of the project for which you are retrieving branches
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279511301920">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279511300832">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">[
  {
    "name":"master"
  }
]</pre>
									</p></div></dd><dt><span class="term">[POST] /spaces/{spaceName}/projects/{projectName}/branches</span></dt><dd><p class="simpara">
									Adds a specified branch in a specified project and space.
								</p><div class="table" id="idm140279508767424"><p class="title"><strong>Table 28.17. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279508760736" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279508759648" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279508758560" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279508757472" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508760736">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508759648">
												<p>
													Name of the space where the project is located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508758560">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508757472">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508760736">
												<p>
													<code class="literal">projectName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508759648">
												<p>
													Name of the project in which the new branch needs to be created
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508758560">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508757472">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508760736">
												<p>
													<span class="strong strong"><strong>body</strong></span>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508759648">
												<p>
													The <code class="literal">newBranchName</code> and <code class="literal">baseBranchName</code> of a project
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508758560">
												<p>
													Request body
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508757472">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
   "newBranchName":  "branch01",
   "baseBranchName": "master"
}</pre>
									</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
    "jobId":          "1576175811141-3",
    "status":         "APPROVED",
    "spaceName":      "Space123",
    "projectName":    "ProjABC",
    "newBranchName":  "b1",
    "baseBranchName": "master",
    "userIdentifier": "bc"
}</pre>
									</p></div></dd><dt><span class="term">[DELETE] /spaces/{spaceName}/projects/{projectName}/branches/{branchName}</span></dt><dd><p class="simpara">
									Deletes a specified branch in a specified project and space.
								</p><div class="table" id="idm140279506609792"><p class="title"><strong>Table 28.18. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279506603104" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279506602016" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279506600928" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279506599840" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279506603104">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506602016">
												<p>
													Name of the space where the project is located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506600928">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506599840">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279506603104">
												<p>
													<code class="literal">projectName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506602016">
												<p>
													Name of the project where the branch is located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506600928">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506599840">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279506603104">
												<p>
													<code class="literal">branchName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506602016">
												<p>
													Name of the branch to be deleted
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506600928">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506599840">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
    "jobId":          "1576175811421-5",
    "status":         "APPROVED",
    "spaceName":      "Space123",
    "projectName":    "ProjABC",
    "branchName":     "b1",
    "userIdentifier": "bc"
}</pre>
									</p></div></dd><dt><span class="term">[POST] /spaces/{spaceName}/projects/{projectName}/branches/{branchName}/maven/compile</span></dt><dd><p class="simpara">
									Compiles a specified branch in a specified project and space. If <code class="literal">branchName</code> is not specified, then request applies to the master branch.
								</p><div class="table" id="idm140279506570352"><p class="title"><strong>Table 28.19. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279506878720" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279506877632" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279506876544" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279506875456" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279506878720">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506877632">
												<p>
													Name of the space where the project is located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506876544">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506875456">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279506878720">
												<p>
													<code class="literal">projectName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506877632">
												<p>
													Name of the project where the branch is located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506876544">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506875456">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279506878720">
												<p>
													<code class="literal">branchName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506877632">
												<p>
													Name of the branch to be compiled
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506876544">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506875456">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
    "jobId":       "1576175811233-4",
    "status":      "APPROVED",
    "spaceName":   "Space123",
    "projectName": "ProjABC",
    "branchName":  "b1",
}</pre>
									</p></div></dd><dt><span class="term">[POST] /spaces/{spaceName}/projects/{projectName}/branches/{branchName}/maven/install</span></dt><dd><p class="simpara">
									Installs a specified branch in a specified project and space. If <code class="literal">branchName</code> is not specified, then request applies to the master branch.
								</p><div class="table" id="idm140279506846016"><p class="title"><strong>Table 28.20. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279506839328" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279506838240" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279506837152" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279506836064" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279506839328">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506838240">
												<p>
													Name of the space where the project is located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506837152">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506836064">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279506839328">
												<p>
													<code class="literal">projectName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506838240">
												<p>
													Name of the project where the branch is located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506837152">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506836064">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279506839328">
												<p>
													<code class="literal">branchName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506838240">
												<p>
													Name of the branch to be installed
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506837152">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279506836064">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
    "jobId":       "1576175811233-4",
    "status":      "APPROVED",
    "spaceName":   "Space123",
    "projectName": "ProjABC",
    "branchName":  "b1",
}</pre>
									</p></div></dd><dt><span class="term">[POST] /spaces/{spaceName}/projects/{projectName}/branches/{branchName}/maven/test</span></dt><dd><p class="simpara">
									Tests a specified branch in a specified project and space. If <code class="literal">branchName</code> is not specified, then request applies to the master branch.
								</p><div class="table" id="idm140279539732320"><p class="title"><strong>Table 28.21. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279539725632" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279539724544" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279539723456" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279539722368" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279539725632">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279539724544">
												<p>
													Name of the space where the project located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279539723456">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279539722368">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279539725632">
												<p>
													<code class="literal">projectName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279539724544">
												<p>
													Name of the project where the branch is located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279539723456">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279539722368">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279539725632">
												<p>
													<code class="literal">branchName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279539724544">
												<p>
													Name of the branch to be tested
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279539723456">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279539722368">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
    "jobId":       "1576175811233-4",
    "status":      "APPROVED",
    "spaceName":   "Space123",
    "projectName": "ProjABC",
    "branchName":  "b1",
}</pre>
									</p></div></dd><dt><span class="term">[POST] /spaces/{spaceName}/projects/{projectName}/branches/{branchName}/maven/deploy</span></dt><dd><p class="simpara">
									Deploys a specified branch in a specified project and space. If <code class="literal">branchName</code> is not specified, then request applies to the master branch.
								</p><div class="table" id="idm140279507696048"><p class="title"><strong>Table 28.22. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279507689360" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279507688272" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279507687184" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279507686096" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507689360">
												<p>
													<code class="literal">spaceName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507688272">
												<p>
													Name of the space where the project is located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507687184">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507686096">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507689360">
												<p>
													<code class="literal">projectName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507688272">
												<p>
													Name of the project where the branch is located
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507687184">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507686096">
												<p>
													Required
												</p>
												</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507689360">
												<p>
													<code class="literal">branchName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507688272">
												<p>
													Name of the branch to be deployed
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507687184">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507686096">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
    "jobId":       "1576175811233-4",
    "status":      "APPROVED",
    "spaceName":   "Space123",
    "projectName": "ProjABC",
    "branchName":  "b1",
}</pre>
									</p></div></dd></dl></div></section></section></section><section class="chapter" id="security-management-rest-api-con_kie-apis"><div class="titlepage"><div><div><h2 class="title">Chapter 29. Security Management REST API for Business Central groups, roles, and users</h2></div></div></div><p>
				Red Hat Process Automation Manager provides a Security Management REST API that you can use to manage the groups, roles, and users in Red Hat Process Automation Manager without using the Business Central user interface. This API support enables you to facilitate and automate management of Business Central groups, roles, users, and granted permissions.
			</p><p>
				With the Security Management REST API, you can perform the following actions:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Retrieve information about all groups, roles, users, and their granted permissions
					</li><li class="listitem">
						Create, update, or delete groups and users
					</li><li class="listitem">
						Update granted permissions for groups, roles, and users
					</li><li class="listitem">
						Retrieve information about groups and roles assigned to the users
					</li></ul></div><p>
				Security Management REST API requests require the following components:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Authentication</span></dt><dd><p class="simpara">
							The Security Management REST API requires HTTP Basic authentication or token-based authentication for the user role <code class="literal">admin</code>. To view configured user roles for your Red Hat Process Automation Manager distribution, navigate to <code class="literal">~/$SERVER_HOME/standalone/configuration/application-roles.properties</code> and <code class="literal">~/application-users.properties</code>.
						</p><p class="simpara">
							To add a user with the <code class="literal">admin</code> role, navigate to <code class="literal">~/$SERVER_HOME/bin</code> and run the following command:
						</p><pre class="programlisting language-bash">$ ./add-user.sh -a --user &lt;USERNAME&gt; --password &lt;PASSWORD&gt; --role admin</pre><p class="simpara">
							For more information about user roles and Red Hat Process Automation Manager installation options, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/installing_and_configuring_red_hat_process_automation_manager#assembly-planning"><span class="emphasis"><em>Planning a Red Hat Process Automation Manager installation</em></span></a>.
						</p></dd><dt><span class="term">HTTP headers</span></dt><dd><p class="simpara">
							The Security Management REST API requires the following HTTP headers for API requests:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									<code class="literal">Accept</code>: Data format accepted by your requesting client:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">application/json</code> (JSON)
										</li></ul></div></li><li class="listitem"><p class="simpara">
									<code class="literal">Content-Type</code>: Data format of your <code class="literal">POST</code> or <code class="literal">PUT</code> API request data:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">application/json</code> (JSON)
										</li></ul></div></li></ul></div></dd><dt><span class="term">HTTP methods</span></dt><dd><p class="simpara">
							The Security Management REST API supports the following HTTP methods for API requests:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">GET</code>: Retrieves specified information from a specified resource endpoint
								</li><li class="listitem">
									<code class="literal">POST</code>: Creates or updates a resource
								</li><li class="listitem">
									<code class="literal">DELETE</code>: Deletes a resource
								</li></ul></div></dd><dt><span class="term">Base URL</span></dt><dd><p class="simpara">
							The base URL for Security Management REST API requests is <code class="literal">http://SERVER:PORT/business-central/rest/</code>, such as <code class="literal">http://localhost:8080/business-central/rest/</code>.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The REST API base URL for the Security Management, Knowledge Store, and Process Automation Manager controller built into Business Central are the same because all are considered part of Business Central REST services.
							</p></div></div></dd><dt><span class="term">Endpoints</span></dt><dd><p class="simpara">
							Security Management REST API endpoints, such as <code class="literal">/users/{userName}</code> for a specified user, are the URIs that you append to the Security Management REST API base URL to access the corresponding resource or type of resource in Red Hat Process Automation Manager.
						</p><div class="formalpara"><p class="title"><strong>Example request URL for <code class="literal">/users/{userName}</code> endpoint</strong></p><p>
								<code class="literal">http://localhost:8080/business-central/rest/users/newUser</code>
							</p></div></dd><dt><span class="term">Request data</span></dt><dd><p class="simpara">
							HTTP <code class="literal">POST</code> requests in the Security Management REST API may require a JSON request body with data to accompany the request.
						</p><div class="formalpara"><p class="title"><strong>Example POST request URL and JSON request body data</strong></p><p>
								<code class="literal">http://localhost:8080/business-central/rest/users/newUser/groups</code>
							</p></div><pre class="programlisting language-json">[
  "newGroup"
]</pre></dd></dl></div><section class="section" id="security-management-rest-api-requests-proc_kie-apis"><div class="titlepage"><div><div><h2 class="title">29.1. Sending requests with the Security Management REST API using a REST client or curl utility</h2></div></div></div><p>
					The Security Management REST API enables you to manage the groups, roles, and users in Red Hat Process Automation Manager without using the Business Central user interface. You can send Security Management REST API requests using any REST client or curl utility.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Business Central is installed and running.
						</li><li class="listitem">
							You have <code class="literal">admin</code> user role access to Business Central.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Identify the relevant <a class="link" href="#security-management-rest-api-endpoints-ref_kie-apis" title="29.2. Supported Security Management REST API endpoints">API endpoint</a> to which you want to send a request, such as <code class="literal">[GET] /groups</code> to retrieve groups in Business Central.
						</li><li class="listitem"><p class="simpara">
							In a REST client or curl utility, enter the following components for a <code class="literal">GET</code> request to <code class="literal">/groups</code>. Adjust any request details according to your use case.
						</p><p class="simpara">
							For REST client:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Authentication</strong></span>: Enter the user name and password of the Business Central user with the <code class="literal">admin</code> role.
								</li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>HTTP Headers</strong></span>: Set the following header:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">Accept</code>: <code class="literal">application/json</code>
										</li></ul></div></li><li class="listitem">
									<span class="strong strong"><strong>HTTP method</strong></span>: Set to <code class="literal">GET</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>URL</strong></span>: Enter the Security Management REST API base URL and endpoint, such as <code class="literal">http://localhost:8080/business-central/rest/groups</code>.
								</li></ul></div><p class="simpara">
							For curl utility:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">-u</code>: Enter the user name and password of the Business Central user with the <code class="literal">admin</code> role.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">-H</code>: Set the following header:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">Accept</code>: <code class="literal">application/json</code>
										</li></ul></div></li><li class="listitem">
									<code class="literal">-X</code>: Set to <code class="literal">GET</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>URL</strong></span>: Enter the Security Management REST API base URL and endpoint, such as <code class="literal">http://localhost:8080/business-central/rest/groups</code>.
								</li></ul></div><pre class="screen">curl -u 'baAdmin:password@1' -H "Accept: application/json" -X GET "http://localhost:8080/business-central/rest/groups"</pre></li><li class="listitem"><p class="simpara">
							Execute the request and review the KIE Server response.
						</p><p class="simpara">
							Example server response (JSON):
						</p><pre class="programlisting language-json">[
  	{
		"group1"
	},
	{
		"group2"
	}
]</pre></li><li class="listitem"><p class="simpara">
							In your REST client or curl utility, send another API request with the following components for a <code class="literal">POST</code> request to <code class="literal">/users/{userName}/groups</code> to update the groups assigned to a user. Adjust any request details according to your use case.
						</p><p class="simpara">
							For REST client:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Authentication</strong></span>: Enter the user name and password of the Business Central user with the <code class="literal">admin</code> role.
								</li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>HTTP Headers</strong></span>: Set the following header:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">Accept</code>: <code class="literal">application/json</code>
										</li><li class="listitem">
											<code class="literal">Content-Type</code>: <code class="literal">application/json</code>
										</li></ul></div></li><li class="listitem">
									<span class="strong strong"><strong>HTTP method</strong></span>: Set to <code class="literal">POST</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>URL</strong></span>: Enter the Security Management REST API base URL and endpoint, such as <code class="literal">http://localhost:8080/business-central/rest/users/newUser/groups</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>Request body</strong></span>: Add a JSON request body with the identification data for the new group:
								</li></ul></div><pre class="programlisting language-json">[
  "newGroup"
]</pre><p class="simpara">
							For curl utility:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">-u</code>: Enter the user name and password of the Business Central user with the <code class="literal">admin</code> role.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">-H</code>: Set the following headers:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">Accept</code>: <code class="literal">application/json</code>
										</li><li class="listitem">
											<code class="literal">Content-Type</code>: <code class="literal">application/json</code>
										</li></ul></div></li><li class="listitem">
									<code class="literal">-X</code>: Set to <code class="literal">POST</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>URL</strong></span>: Enter the Security Management REST API base URL and endpoint, such as <code class="literal">http://localhost:8080/business-central/rest/users/newUser/groups</code>.
								</li><li class="listitem">
									<code class="literal">-d</code>: Add a JSON request body or file (<code class="literal">@file.json</code>) with the identification data for the new group:
								</li></ul></div><pre class="screen">curl -u 'baAdmin:password@1' -H "Accept: application/json" -H "Content-Type: application/json" -X POST "http://localhost:8080/business-central/rest/users/newUser/groups" -d "["newGroup"]"</pre><pre class="screen">curl -u 'baAdmin:password@1' -H "Accept: application/json" -H "Content-Type: application/json" -X POST "http://localhost:8080/business-central/rest/users/newUser/groups" -d @user-groups.json</pre></li><li class="listitem"><p class="simpara">
							Execute the request and review the KIE Server response.
						</p><p class="simpara">
							Example server response (JSON):
						</p><pre class="programlisting language-json">{
  "status": "OK",
  "message": "Groups [newGroup] are assigned successfully to user wbadmin"
}</pre><p class="simpara">
							If you encounter request errors, review the returned error code messages and adjust your request accordingly.
						</p></li></ol></div></section><section class="section" id="security-management-rest-api-endpoints-ref_kie-apis"><div class="titlepage"><div><div><h2 class="title">29.2. Supported Security Management REST API endpoints</h2></div></div></div><p>
					The Security Management REST API provides endpoints for managing groups, roles, users, and permissions in Business Central. It includes the security and permission management tasks that an administrator can also perform using the <span class="strong strong"><strong>Security Management</strong></span> page in Business Central.
				</p><section class="section" id="security-management-rest-api-groups-ref_kie-apis"><div class="titlepage"><div><div><h3 class="title">29.2.1. Groups</h3></div></div></div><p>
						The Security Management REST API supports the following endpoints for managing groups in Business Central. The Security Management REST API base URL is <code class="literal">http://SERVER:PORT/business-central/rest/</code>. All requests require HTTP Basic authentication or token-based authentication for the <code class="literal">admin</code> user role.
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">[GET] /groups</span></dt><dd><p class="simpara">
									Returns all groups in Business Central.
								</p><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">[
  	{
		"group1"
	},
	{
		"group2"
	}
]</pre>
									</p></div></dd><dt><span class="term">[POST] /groups</span></dt><dd><p class="simpara">
									Creates a group in Business Central. A group must have at least one user assigned.
								</p><div class="table" id="idm140279508460288"><p class="title"><strong>Table 29.1. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279508453600" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279508452512" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279508451424" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279508450336" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508453600">
												<p>
													<span class="strong strong"><strong>body</strong></span>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508452512">
												<p>
													Name of the group and users assigned to the new group
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508451424">
												<p>
													Request body
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508450336">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "name": "groupName",
  "users": [
    "userNames"
  ]
}</pre>
									</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "status": "OK",
  "message": "Group newGroup is created successfully."
}</pre>
									</p></div></dd><dt><span class="term">[DELETE] /groups/{groupName}</span></dt><dd><p class="simpara">
									Deletes a specified group from Business Central.
								</p><div class="table" id="idm140279508433312"><p class="title"><strong>Table 29.2. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279508426624" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279508425536" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279508424448" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279508423360" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508426624">
												<p>
													<code class="literal">groupName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508425536">
												<p>
													Name of the group to be deleted
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508424448">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508423360">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "status": "OK",
  "message": "Group newGroup is deleted successfully."
}</pre>
									</p></div></dd></dl></div></section><section class="section" id="security-management-rest-api-roles-ref_kie-apis"><div class="titlepage"><div><div><h3 class="title">29.2.2. Roles</h3></div></div></div><p>
						The Security Management REST API supports the following endpoints for managing roles in Business Central. The Security Management REST API base URL is <code class="literal">http://SERVER:PORT/business-central/rest/</code>. All requests require HTTP Basic authentication or token-based authentication for the <code class="literal">admin</code> user role.
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">[GET] /roles</span></dt><dd><p class="simpara">
									Returns all roles in Business Central.
								</p><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">[
  {
    "name": "process-admin"
  },
  {
    "name": "manager"
  },
  {
    "name": "admin"
  }
]</pre>
									</p></div></dd></dl></div></section><section class="section" id="security-management-rest-api-users-ref_kie-apis"><div class="titlepage"><div><div><h3 class="title">29.2.3. Users</h3></div></div></div><p>
						The Security Management REST API supports the following endpoints for managing users in Business Central. The Security Management REST API base URL is <code class="literal">http://SERVER:PORT/business-central/rest/</code>. All requests require HTTP Basic authentication or token-based authentication for the <code class="literal">admin</code> user role.
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">[GET] /users</span></dt><dd><p class="simpara">
									Returns all users in Business Central.
								</p><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">[
    "newUser",
    "user1",
    "user2",
]</pre>
									</p></div></dd><dt><span class="term">[GET] /users/{userName}/groups</span></dt><dd><p class="simpara">
									Returns all groups assigned to a specified user.
								</p><div class="table" id="idm140279507613584"><p class="title"><strong>Table 29.3. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279507606896" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279507605808" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279507604720" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279507603632" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507606896">
												<p>
													<code class="literal">userName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507605808">
												<p>
													Name of the user for whom you are retrieving assigned groups
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507604720">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507603632">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">[
  	{
		"group1"
	},
	{
		"group2"
	}
]</pre>
									</p></div></dd><dt><span class="term">[GET] /users/{userName}/roles</span></dt><dd><p class="simpara">
									Returns all roles assigned to a specified user.
								</p><div class="table" id="idm140279507589536"><p class="title"><strong>Table 29.4. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279507582848" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279507581760" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279507580672" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279507579584" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279507582848">
												<p>
													<code class="literal">userName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507581760">
												<p>
													Name of the user for whom you are retrieving assigned roles
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507580672">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279507579584">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">[
  {
    "name": "process-admin"
  },
  {
    "name": "manager"
  },
  {
    "name": "admin"
  }
]</pre>
									</p></div></dd><dt><span class="term">[POST] /users</span></dt><dd><p class="simpara">
									Creates a specified user with specified roles and groups.
								</p><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "name": "newUser",
  "roles": [
    "admin",
    "developer"
  ],
  "groups": [
    "group1",
    "group2"
  ]
}</pre>
									</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "status": "OK",
  "message": "User newUser is created successfully."
}</pre>
									</p></div></dd><dt><span class="term">[Post] /users/{userName}/changePassword</span></dt><dd><p class="simpara">
									Changes the password of a specified user.
								</p><div class="table" id="idm140279509008864"><p class="title"><strong>Table 29.5. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279509002176" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279509001088" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279509000000" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279508998912" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279509002176">
												<p>
													<code class="literal">userName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509001088">
												<p>
													Name of the user for whom you are changing the password
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509000000">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508998912">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example request command</strong></p><p>
										
<pre class="screen">curl -u 'baAdmin:password@1' -H "Accept: application/json" -H "Content-Type: application/json" -X POST "http://localhost:8080/business-central/rest/users/newUser/changePassword" -d newpassword</pre>
									</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "status": "OK",
  "message": "Password for newUser has been updated successfully."
}</pre>
									</p></div></dd><dt><span class="term">[DELETE] /users/{userName}</span></dt><dd><p class="simpara">
									Deletes a specified user from Business Central.
								</p><div class="table" id="idm140279508982672"><p class="title"><strong>Table 29.6. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279508975984" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279508974896" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279508973808" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279508972720" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279508975984">
												<p>
													<code class="literal">userName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508974896">
												<p>
													Name of the user to be deleted
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508973808">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279508972720">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "status": "OK",
  "message": "User newUser is deleted successfully."
}</pre>
									</p></div></dd><dt><span class="term">[POST] /users/{userName}/groups</span></dt><dd><p class="simpara">
									Overrides the existing groups assigned to a specified user with new groups.
								</p><div class="table" id="idm140279508958576"><p class="title"><strong>Table 29.7. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279509899264" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279509898176" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279509897088" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279509896000" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279509899264">
												<p>
													<code class="literal">userName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509898176">
												<p>
													Name of the user for whom you are updating groups
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509897088">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509896000">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
										
<pre class="programlisting language-json">[
  "newGroup"
]</pre>
									</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "status": "OK",
  "message": "Groups [newGroup] are assigned successfully to user wbadmin"
}</pre>
									</p></div></dd><dt><span class="term">[POST] /users/{userName}/roles</span></dt><dd><p class="simpara">
									Overrides the existing roles assigned to a specified user with new roles.
								</p><div class="table" id="idm140279509879280"><p class="title"><strong>Table 29.8. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279509872592" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279509871504" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279509870416" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279509869328" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279509872592">
												<p>
													<code class="literal">userName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509871504">
												<p>
													Name of the user for whom you are updating roles
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509870416">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509869328">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
										
<pre class="programlisting language-json">[
  "admin"
]</pre>
									</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "status": "OK",
  "message": "Roles [admin] are assigned successfully to user wbadmin"
}</pre>
									</p></div></dd></dl></div></section><section class="section" id="security-management-rest-api-permissions-ref_kie-apis"><div class="titlepage"><div><div><h3 class="title">29.2.4. Permissions</h3></div></div></div><p>
						The Security Management REST API supports the following endpoints for managing permissions granted to the groups, roles, and users in Business Central. The Security Management REST API base URL is <code class="literal">http://SERVER:PORT/business-central/rest/</code>. All requests require HTTP Basic authentication or token-based authentication for the <code class="literal">admin</code> user role.
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">[GET] /groups/{groupName}/permissions</span></dt><dd><p class="simpara">
									Returns all permissions granted to a specified group.
								</p><div class="table" id="idm140279509848864"><p class="title"><strong>Table 29.9. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279509842176" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279509841088" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279509840000" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279509838912" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279509842176">
												<p>
													<code class="literal">groupName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509841088">
												<p>
													Name of the group for whom you are retrieving permissions
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509840000">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279509838912">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
	"homePage": "HomePerspective",
	"priority": -10,
	"project": {
		"read": {
			"access": false,
			"exceptions": []
		},

	},
	"spaces": {
		"read": {
			"access": true,
			"exceptions": [
				"MySpace"
			]
		},
	},
	"editor": {
		"read": {
			"access": false,
			"exceptions": [
				"GuidedDecisionTreeEditorPresenter"
			]
		},
		"create": null,
		"update": null,
		"delete": null,
		"build": null
	},
	"pages": {
		"read": {
			"access": true,
			"exceptions": []
		},
		"build": null
	},
	"workbench": {
		"editDataObject": false,
		"plannerAvailable": false,
		"editGlobalPreferences": false,
		"editProfilePreferences": false,
		"accessDataTransfer": false,
		"jarDownload": true,
		"editGuidedDecisionTableColumns": true
	}
}</pre>
									</p></div></dd><dt><span class="term">[GET] /roles/{roleName}/permissions</span></dt><dd><p class="simpara">
									Returns all permissions granted to a specified role.
								</p><div class="table" id="idm140279539686112"><p class="title"><strong>Table 29.10. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279539679424" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279539678336" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279539677248" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279539676160" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279539679424">
												<p>
													<code class="literal">roleName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279539678336">
												<p>
													Name of the role for whom you are retrieving permissions
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279539677248">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279539676160">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
	"homePage": "HomePerspective",
	"priority": -10,
	"project": {
		"read": {
			"access": false,
			"exceptions": []
		},

	},
	"spaces": {
		"read": {
			"access": true,
			"exceptions": [
				"MySpace"
			]
		},
	},
	"editor": {
		"read": {
			"access": false,
			"exceptions": [
				"GuidedDecisionTreeEditorPresenter"
			]
		},
		"create": null,
		"update": null,
		"delete": null,
		"build": null
	},
	"pages": {
		"read": {
			"access": true,
			"exceptions": []
		},
		"build": null
	},
	"workbench": {
		"editDataObject": false,
		"plannerAvailable": false,
		"editGlobalPreferences": false,
		"editProfilePreferences": false,
		"accessDataTransfer": false,
		"jarDownload": true,
		"editGuidedDecisionTableColumns": true
	}
}</pre>
									</p></div></dd><dt><span class="term">[GET] /users/{userName}/permissions</span></dt><dd><p class="simpara">
									Returns all permissions granted to a specified user.
								</p><div class="table" id="idm140279539660640"><p class="title"><strong>Table 29.11. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279539653952" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279539652864" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279539651776" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279539650688" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279539653952">
												<p>
													<code class="literal">userName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279539652864">
												<p>
													Name of the user for whom you are retrieving permissions
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279539651776">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279539650688">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
	"homePage": null,
	"priority": null,
	"project": {
		"read": {
			"access": false,
			"exceptions": []
		},

	},
	"spaces": {
		"read": {
			"access": true,
			"exceptions": [
				"MySpace"
			]
		},
	},
	"editor": {
		"read": {
			"access": false,
			"exceptions": [
				"GuidedDecisionTreeEditorPresenter"
			]
		},
		"create": null,
		"update": null,
		"delete": null,
		"build": null
	},
	"pages": {
		"read": {
			"access": true,
			"exceptions": []
		},
		"build": null
	},
	"workbench": {
		"editDataObject": false,
		"plannerAvailable": false,
		"editGlobalPreferences": false,
		"editProfilePreferences": false,
		"accessDataTransfer": false,
		"jarDownload": true,
		"editGuidedDecisionTableColumns": true
	}
}</pre>
									</p></div></dd><dt><span class="term">[Post] /groups/{groupName}/permissions</span></dt><dd><p class="simpara">
									Updates the permissions of a specified group.
								</p><div class="table" id="idm140279539635920"><p class="title"><strong>Table 29.12. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279510766832" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279510765744" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279510764656" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279510763568" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510766832">
												<p>
													<code class="literal">groupName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510765744">
												<p>
													Name of the group for whom you are updating permissions
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510764656">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510763568">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "homepage": "HomePerspective",
  "priority": 10,
  "pages": {
    "create": true,
    "read": false,
    "delete": false,
    "update": false,
    "exceptions": [
      {
        "name": "HomePerspective",
        "permissions": {
          "read": true
        }
      }
    ]
  },
  "project": {
    "create": true,
    "read": true,
    "delete": false,
    "update": false,
    "Build": false
  },
  "spaces": {
    "create": true,
    "read": true,
    "delete": false,
    "update": false
  },
  "editor": {
    "read": true
  },
  "workbench": {
    "editDataObject": true,
    "plannerAvailable": true,
    "editGlobalPreferences": true,
    "editProfilePreferences": true,
    "accessDataTransfer": true,
    "jarDownload": true,
    "editGuidedDecisionTableColumns": true
  }
}</pre>
									</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "status": "OK",
  "message": "Group newGroup permissions are updated successfully."
}</pre>
									</p></div></dd><dt><span class="term">[Post] /roles/{roleName}/permissions</span></dt><dd><p class="simpara">
									Updates the permissions of a specified role.
								</p><div class="table" id="idm140279510746208"><p class="title"><strong>Table 29.13. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279510739520" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm140279510738432" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm140279510737344" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm140279510736256" scope="col">Requirement</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510739520">
												<p>
													<code class="literal">roleName</code>
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510738432">
												<p>
													Name of the role for whom you are updating permissions
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510737344">
												<p>
													String
												</p>
												</td><td style="text-align: left; vertical-align: top; " headers="idm140279510736256">
												<p>
													Required
												</p>
												</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
	"homepage": "HomePerspective",
	"priority": 10,
	"pages": {
		"create": true,
		"read": false,
		"delete": false,
		"update": false,
		"exceptions": [{
			"name": "HomePerspective",
			"permissions": {
				"read": true
			}
		}]
	},
	"project": {
		"create": true,
		"read": true,
		"delete": false,
		"update": false,
		"Build": false
	},
	"spaces": {
		"create": true,
		"read": true,
		"delete": false,
		"update": false
	},
	"editor": {
		"read": true
	},
	"workbench": {
		"editDataObject": true,
		"plannerAvailable": true,
		"editGlobalPreferences": true,
		"editProfilePreferences": true,
		"accessDataTransfer": true,
		"jarDownload": true,
		"editGuidedDecisionTableColumns": true
	}
}</pre>
									</p></div><div class="formalpara"><p class="title"><strong>Example server response (JSON)</strong></p><p>
										
<pre class="programlisting language-json">{
  "status": "OK",
  "message": "Role newRole permissions are updated successfully."
}</pre>
									</p></div></dd></dl></div><section class="section" id="security-management-rest-api-supported-permissions-ref_kie-apis"><div class="titlepage"><div><div><h4 class="title">29.2.4.1. Supported permissions in Business Central</h4></div></div></div><p>
							The following are available permissions in Red Hat Process Automation Manager. Administrators use these permissions to allow specific actions to a group, role, or user in Business Central.
						</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Priority</span></dt><dd><p class="simpara">
										Priority is an integer that defines the precedence of users who are assigned multiple roles or groups. The default value of priority for a new group is <code class="literal">-100</code>. In Business Central, you can set an integer value as a priority, which is resolved using the following rules:
									</p><div class="table" id="idm140279510714896"><p class="title"><strong>Table 29.14. Priority value table</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 50%; " class="col_2"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm140279510710064" scope="col">Integer value</th><th style="text-align: left; vertical-align: top; " id="idm140279510708976" scope="col">Priority</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510710064">
													<p>
														Less than -5
													</p>
													</td><td style="text-align: left; vertical-align: top; " headers="idm140279510708976">
													<p>
														VERY LOW
													</p>
													</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510710064">
													<p>
														Between -5 and 0
													</p>
													</td><td style="text-align: left; vertical-align: top; " headers="idm140279510708976">
													<p>
														LOW
													</p>
													</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510710064">
													<p>
														Equal to 0
													</p>
													</td><td style="text-align: left; vertical-align: top; " headers="idm140279510708976">
													<p>
														NORMAL
													</p>
													</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510710064">
													<p>
														Between 0 and 5
													</p>
													</td><td style="text-align: left; vertical-align: top; " headers="idm140279510708976">
													<p>
														HIGH
													</p>
													</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm140279510710064">
													<p>
														Greater than 5
													</p>
													</td><td style="text-align: left; vertical-align: top; " headers="idm140279510708976">
													<p>
														VERY HIGH
													</p>
													</td></tr></tbody></table></div></div></dd><dt><span class="term">Home Page</span></dt><dd>
										Home Page indicates the default landing page for users.
									</dd><dt><span class="term">Workbench</span></dt><dd><p class="simpara">
										Workbench consists of the following defined permissions:
									</p><pre class="programlisting language-json">{
  "editDataObject": true,
  "plannerAvailable": true,
  "editGlobalPreferences": true,
  "editProfilePreferences": true,
  "accessDataTransfer": true,
  "jarDownload": true,
  "editGuidedDecisionTableColumns": true
}</pre></dd><dt><span class="term">Pages, Editor, Spaces, and Projects</span></dt><dd><p class="simpara">
										The following are possible values for the permissions based on the resource type:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												<code class="literal">PAGES: read,create,update,delete</code>
											</li><li class="listitem">
												<code class="literal">EDITOR: read</code>
											</li><li class="listitem">
												<code class="literal">SPACES: read,create,update,delete</code>
											</li><li class="listitem">
												<code class="literal">PROJECT: read,create,update,delete,build</code>
											</li></ul></div><p class="simpara">
										You can use following code to add exceptions to <span class="strong strong"><strong>Pages</strong></span>, <span class="strong strong"><strong>Editor</strong></span>, <span class="strong strong"><strong>Spaces</strong></span>, and <span class="strong strong"><strong>Projects</strong></span> permissions:
									</p><pre class="programlisting language-json">{
  "pages": {
    "read": false,
    "exceptions": [
      {
        "resourceName": "ProcessInstances",
        "permissions": {
          "read": false
        }
      },
      {
        "resourceName": "ProcessDefinitions",
        "permissions": {
          "read": false
        }
      }
    ]
  }
}</pre><p class="simpara">
										The <code class="literal">name</code> attribute is an identifier of a resource that you add as an exception. Use the following REST API endpoints to get the list of possible identifiers. The REST API base URL is <code class="literal">http://SERVER:PORT/business-central/rest/</code>.
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												<code class="literal">[GET] /perspectives</code>: Returns perspective names of all pages in Business Central
											</li><li class="listitem">
												<code class="literal">[GET] /editors</code>: Returns all editors in Business Central
											</li><li class="listitem">
												<code class="literal">[GET] /spaces</code>: Returns all spaces in Business Central
											</li><li class="listitem">
												<code class="literal">[GET] /spaces/{spaceName}/projects</code>: Returns projects in a specified space
											</li></ul></div><div class="formalpara"><p class="title"><strong>Example server response for pages (JSON)</strong></p><p>
											
<pre class="programlisting language-json">"pages": {
	"create": true,
	"read": false,
	"exceptions": [
    {
		"name": "HomePerspective",
		"permissions": {
			"read": true
		}
	}
]
}</pre>
										</p></div></dd></dl></div></section></section></section></section><section class="chapter" id="ejb-api-con_kie-apis"><div class="titlepage"><div><div><h2 class="title">Chapter 30. EJB API for KIE sessions and task services</h2></div></div></div><p>
				Red Hat Process Automation Manager provides an Enterprise JavaBeans (EJB) API that you can use for embedded use cases to access <code class="literal">KieSession</code> and <code class="literal">TaskService</code> objects remotely from an application. The EJB API enables close transaction integration between the process engine in Red Hat Process Automation Manager and remote customer applications.
			</p><p>
				Although KIE Server does not support EJB, you can use EJB as a remote protocol for the process engine similar to remote REST or JMS operations with KIE Server.
			</p><p>
				The implementation of the EJB interface is a single framework-independent and container-agnostic API that you can use with framework-specific code. The EJB services are exposed through the <code class="literal">org.jbpm.services.api</code> and <code class="literal">org.jbpm.services.ejb</code> packages in Red Hat Process Automation Manager. The implementation does not support the <code class="literal">RuleService</code> class, but the <code class="literal">ProcessService</code> class exposes an <code class="literal">execute</code> method that enables you to use various rule-related commands, such as <code class="literal">InsertCommand</code> and <code class="literal">FireAllRulesCommand</code>.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Contexts and Dependency Injection (CDI) is also supported through the <code class="literal">org.jbpm.services.cdi</code> package in Red Hat Process Automation Manager. However, to avoid conflicts in your EJB integration, do not use EJB and CDI together.
				</p></div></div><section class="section" id="ejb-api-services-ref_kie-apis"><div class="titlepage"><div><div><h2 class="title">30.1. Supported EJB services</h2></div></div></div><p>
					For the full list of available Enterprise JavaBeans (EJB) services in Red Hat Process Automation Manager, download the <span class="strong strong"><strong>Red Hat Process Automation Manager 7.10.0 Maven Repository</strong></span> from the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html">Red Hat Customer Portal</a> and navigate to <code class="literal">~/jboss-rhba-7.10.0.GA-maven-repository/maven-repository/org/jbpm/jbpm-services-ejb-*</code>.
				</p><p>
					The artifacts that provide the EJB interface to the jBPM services are in the following packages:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">org.jbpm.services.ejb.api</code>: Contains extensions of the jBPM services API for the EJB interface
						</li><li class="listitem">
							<code class="literal">org.jbpm.services.ejb.impl</code>: Contains EJB wrappers on top of the core service implementation
						</li><li class="listitem">
							<code class="literal">org.jbpm.services.ejb.client</code>: Contains the EJB remote client implementation, supported on Red Hat JBoss EAP only
						</li></ul></div><p>
					The <code class="literal">org.jbpm.services.ejb.api</code> package contains the following service interfaces that you can use with remote EJB clients:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">DefinitionServiceEJBRemote</code>: Use this interface to gather information about processes (ID, name, and version), process variables (name and type), defined reusable subprocesses, domain-specific services, user tasks, and user task inputs and outputs.
						</li><li class="listitem">
							<code class="literal">DeploymentServiceEJBRemote</code>: Use this interface to initiate deployments and undeployments. The interface includes the methods <code class="literal">deploy</code>, <code class="literal">undeploy</code>, <code class="literal">getRuntimeManager</code>, <code class="literal">getDeployedUnits</code>, <code class="literal">isDeployed</code>, <code class="literal">activate</code>, <code class="literal">deactivate</code>, and <code class="literal">getDeployedUnit</code>. Calling the <code class="literal">deploy</code> method with an instance of <code class="literal">DeploymentUnit</code> deploys the unit into the runtime engine by building a <code class="literal">RuntimeManager</code> instance. After a successful deployment, an instance of <code class="literal">DeployedUnit</code> is created and cached for further use. (To use these methods, you must install the artifacts of the project in a Maven repository.)
						</li><li class="listitem">
							<code class="literal">ProcessServiceEJBRemote</code>: Use this interface to control the life cycle of one or more processes and work items.
						</li><li class="listitem">
							<code class="literal">RuntimeDataServiceEJBRemote</code>: Use this interface to retrieve data related to the run time, such as process instances, process definitions, node instance information, and variable information. The interface includes several convenience methods for gathering task information based on owner, status, and time.
						</li><li class="listitem">
							<code class="literal">UserTaskServiceEJBRemote</code>: Use this interface to control the life cycle of a user task. The interface includes several convenience methods for interacting with user tasks, such as <code class="literal">activate</code>, <code class="literal">start</code>, <code class="literal">stop</code>, and <code class="literal">execute</code>.
						</li><li class="listitem">
							<code class="literal">QueryServiceEJBRemote</code>: Use this interface for advanced queries.
						</li><li class="listitem">
							<code class="literal">ProcessInstanceMigrationServiceEJBRemote</code>: Use this interface to migrate process instances when a new version of a process definition is deployed.
						</li></ul></div><p>
					If you run EJB applications and Business Central on the same KIE Server instance, you can synchronize the information between EJB and Business Central at a specified interval by setting the <code class="literal">org.jbpm.deploy.sync.int</code> system property. After the service finishes the synchronization, you can access the updated information using REST operations.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						EJB services in Red Hat Process Automation Manager are intended for embedded use cases. If you run EJB applications and Business Central on the same KIE Server instance, you must also add the <code class="literal">kie-services</code> package on the class path of your EJB application.
					</p></div></div></section><section class="section" id="ejb-api-war-proc_kie-apis"><div class="titlepage"><div><div><h2 class="title">30.2. Deploying an EJB services WAR file</h2></div></div></div><p>
					You can use the Enterprise JavaBeans (EJB) interface to create and deploy an EJB services WAR file that you want to use as part of your Red Hat Process Automation Manager distribution.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Register a human task callback using a startup Java class, such as the following example:
						</p><pre class="screen">@Singleton
@Startup
public class StartupBean {

  @PostConstruct
  public void init()
  { System.setProperty("org.jbpm.ht.callback", "jaas"); }

}</pre></li><li class="listitem">
							Build your EJB project to generate the WAR file according to your project configuration.
						</li><li class="listitem"><p class="simpara">
							Deploy the generated file on the Red Hat JBoss EAP instance where Red Hat Process Automation Manager is running.
						</p><p class="simpara">
							Avoid using the <code class="literal">Singleton</code> strategy for your runtime sessions. The <code class="literal">Singleton</code> strategy can cause applications to load the same <code class="literal">ksession</code> instance multiple times from the underlying file system and cause optimistic lock exceptions.
						</p><p class="simpara">
							If you want to deploy the EJB WAR file on a Red Hat JBoss EAP instance separate from the one where Red Hat Process Automation Manager is running, configure your application or the application server to invoke a remote EJB and to propagate the security context.
						</p><p class="simpara">
							If you are using Hibernate to create a database schema for Red Hat Process Automation Manager, update the <code class="literal">persistence.xml</code> file in Business Central and set the value of the <code class="literal">hibernate.hbm2ddl.auto</code> property to <code class="literal">update</code> instead of <code class="literal">create</code>.
						</p></li><li class="listitem"><p class="simpara">
							Test the deployment locally by creating a basic web application and injecting the EJB services, as shown in the following example:
						</p><pre class="screen">@EJB(lookup = "ejb:/sample-war-ejb-app/ProcessServiceEJBImpl!org.jbpm.services.ejb.api.ProcessServiceEJBRemote")
private ProcessServiceEJBRemote processService;

@EJB(lookup = "ejb:/sample-war-ejb-app/UserTaskServiceEJBImpl!org.jbpm.services.ejb.api.UserTaskServiceEJBRemote")
private UserTaskServiceEJBRemote userTaskService;

@EJB(lookup = "ejb:/sample-war-ejb-app/RuntimeDataServiceEJBImpl!org.jbpm.services.ejb.api.RuntimeDataServiceEJBRemote")
private RuntimeDataServiceEJBRemote runtimeDataService;</pre></li></ol></div><p>
					For more information about developing and deploying EJB applications with Red Hat JBoss EAP, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.3/html-single/developing_ejb_applications/index"><span class="emphasis"><em>Developing EJB Applications</em></span></a>.
				</p></section></section><section class="chapter" id="additional_resources_2"><div class="titlepage"><div><div><h2 class="title">Chapter 31. Additional resources</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/managing_red_hat_process_automation_manager_and_kie_server_settings#assembly-managing-and-monitoring-execution-server"><span class="emphasis"><em>Managing and monitoring KIE Server</em></span></a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.10/html-single/deploying_and_managing_red_hat_process_automation_manager_services#assembly-packaging-deploying"><span class="emphasis"><em>Packaging and deploying a Red Hat Process Automation Manager project</em></span></a>
					</li></ul></div></section></div><section class="appendix" id="versioning-information"><div class="titlepage"><div><div><h1 class="title">Appendix A. Versioning information</h1></div></div></div><p>
			Documentation last updated on Monday, January 18, 2021.
		</p></section><section class="appendix" id="author-group"><div class="titlepage"><div><div><h1 class="title">Appendix B. Contact information</h1></div></div></div><p>
			Red Hat Process Automation Manager documentation team: <a class="link" href="mailto:brms-docs@redhat.com">brms-docs@redhat.com</a>
		</p></section><div><div xml:lang="en-US" class="legalnotice" id="idm140279522202208"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2021 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>